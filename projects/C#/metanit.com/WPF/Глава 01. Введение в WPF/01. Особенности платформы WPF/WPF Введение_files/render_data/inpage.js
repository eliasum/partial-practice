!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:n})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var r in e)t.d(n,r,function(t){return e[t]}.bind(null,r));return n},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=175)}([function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return o}));var r=i(48);const a={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class o extends r.a{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var r,o,s;super(e,n({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),s=void 0,(o="id")in(r=this)?Object.defineProperty(r,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[o]=s,this.id=function(e){return a[e]||0}(this.code)}}},function(e,t,i){"use strict";function n(){if(f.a&&f.a.document&&"function"===typeof f.a.document.hasFocus)try{return f.a.document.hasFocus()}catch(e){}}function r(e){var t;return(void 0===t&&(t=window),void 0===q&&(q=t.JSON),q).stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=Object(H.a)(t,e=>e.value===i);return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(i,n)=>{if(Object(w.a)(n))return Object(G.a)(n.name)?n.name:"[Function]";if(Object(W.a)(n))return Object(Y.c)(n);if(!Object(z.a)(n))return n;const r=t.get(n);if(r)return"[Circular "+r+"]";for(;e.length>0&&e[e.length-1].value[i]!==n;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:n}),t.set(n,a),n}}())}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var s=i(26),d=i(10);var l=i(15),c=i(20),u=i(39),h=i(101);var p=i(30),A=i(0),m=i(63),v=i(7),f=i(46),g=i(48),b=i(144);const y=Object(b.a)(window);var _=i(79),O=i(153),T=i(105),E=i(72),S=i(43),w=i(13),C=i(68),I=i(131),P=i(47),N=i(42),D=i(38),R=i(132);const k=Object(R.a)(window),V=64;var B=i(41);Object(B.a)({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var L=i(52),j=i(106),M=i(107),x=i(133),U=i(27),F=i(142),H=i(45),W=i(70),z=i(2),G=i(17),Y=i(88);let q;var X=i(58),K=i(143),Q=i(60),J=i(135),Z=i(100);const $=e=>{let{eventType:t,eventName:i,value:n,values:r}=e;const a={};return Object(N.a)(r,(e,n)=>{a[t+"_"+i+"_"+n]=e}),o({[t+"_"+i]:n},a)},ee=o({},J.a,{[x.a]:String(K.a.serialize()),bannerTypeFromNanpu:F.a,bundleName:U.c,abFlags:L.a,iCookie:j.a,testIds:M.a,ecmaVer:"ES2017"});class te{constructor(e){a(this,"rootFields",{}),a(this,"labels",{}),a(this,"params",void 0),a(this,"event",e=>{let{name:t,data:i,labels:n,probability:r,extraRootFields:a,queryParams:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:n,probability:r,extraRootFields:a,queryParams:o})}),a(this,"error",e=>{let{error:t,labels:i,probability:n,extraRootFields:r}=e;const a=new g.a(t);this.push({eventName:String(a.code),eventType:"fatal",data:a,additionalStatsLabels:i,probability:n,extraRootFields:r})}),a(this,"values",e=>{let{name:t,values:i,data:n,labels:r,probability:a,extraRootFields:o}=e;this.push({eventName:t,eventType:"values",data:n,additionalStatsLabels:r,probability:a,values:i,extraRootFields:o})}),a(this,"warning",e=>{let{name:t,message:i,probability:n,extraRootFields:r}=e;Object(X.a)(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:n,extraRootFields:r})}),a(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(this.params,["onLogError"])}),a(this,"setRootFields",e=>{const t=Object(D.a)(e);Object(v.a)(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),a(this,"setLabels",e=>{const t=Object(D.a)(e);Object(v.a)(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),a(this,"errorToStats",(e,t,i)=>{const n=new g.a(e);this.push({eventName:String(n.code),eventType:"fatal",data:n,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=o({},e,{sid:e.sid||Object(S.a)(V),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){Object(s.a)(e)}}:s.a})}push(e){let{eventName:t,eventType:i,data:n={},additionalStatsLabels:a,value:s=1,probability:d=1,values:l={},extraRootFields:u={},queryParams:h={}}=e;if(!Object(Z.a)(d))return;const{service:p,version:A}=this.params,m={service:p,version:A,data:n,eventName:t,eventType:i,additionalStatsLabels:a,value:s,values:l};if(void 0!==te.sendingEventName)throw new g.a({message:"RecursiveStatsRequests",details:{service:p,version:A,eventType:i,eventName:t,sendingEventName:te.sendingEventName}});te.sendingEventName=t;try{const e=Object(c.b)(ie,o({[p]:A,[i]:t},a,h)),n=this.createFullStatsObject(m,u);this.sendData(e,r(n))}catch(v){te.sendingEventName=void 0,this.params.onLogError(new g.a(v,{details:{service:p,version:A,eventType:i,eventName:t}}))}te.sendingEventName=void 0}sendData(e,t){(function(e,t){return!!k&&window.navigator.sendBeacon(e,t)})(e,t)||Object(I.a)({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:r,eventName:a,eventType:s,data:d,additionalStatsLabels:l,value:c}=e,u=$(e),h=o({},this.labels,l,{version:this.params.version}),p=Object(D.a)(u),A=Object(P.a)(p),v=Object(D.a)(h),f={service:i,tags:A,labels:Object(P.a)(v)},{location:g,referrer:b}=Object(T.a)(document);return o({},t,ee,this.rootFields,f,{timestamp:Date.now(),eventType:s,eventName:a,data:d,sid:this.params.sid,version:r,location:Object(E.a)(window),topLocation:g,topAncestor:_.b,isTopAncestorUndetermined:!_.a||void 0,ancestorOrigins:y,documentIsVisible:Object(Q.a)(document),referrer:window.document.referrer,topReferrer:b,currentScriptSrc:O.a,secureIFrame:C.a,isVideoADB:Object(w.a)(m.a),value:c,rnd:this.params.rnd,topDocumentFocus:n()})}}a(te,"sendingEventName",void 0),i.d(t,"a",(function(){return ie})),i.d(t,"b",(function(){return ne})),i.d(t,"c",(function(){return re}));const ie="https://jstracer.yandex.ru/jstracer",ne=Object(c.e)(ie).hostname,re=new te({service:"AdSDKJS",version:String(p.a),sid:u.a,rnd:h.a,onLogError:Object(d.a)(e=>{Object(s.a)(e),re.error({error:new A.a(e,{code:"STATS_LOG_ERROR",details:void 0})})})});l.a.addErrorHandler(e=>{re.error({error:new A.a(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})})},function(e,t,i){"use strict";function n(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){var t,i;if(!o.a||void 0===console)return;const n="AdSDKJS["+s.c+"]:";null===(t=(i=console).log)||void 0===t||t.call(i,n,e)}var r=i(104);Object(r.a)(window);var a=i(59);a.a&&a.a.src;var o=i(86),s=(i(152),i(27)),d=i(41);Object(d.a)({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(){}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(){return Math.random()<s}i.d(t,"b",(function(){return o})),i.d(t,"e",(function(){return n})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return l})),i.d(t,"d",(function(){return c}));var r=i(100),a=i(86);const o=1,s=.001,d=a.a?o:.05,l=a.a?o:s,c=Object(r.a)(d)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t,i)=>{const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=t.call(i,e[r],r,e);return n}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t,i)=>{for(let n=0;n<e.length;n++)t.call(i,e[n],n,e)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(12),r=i(120);class a extends n.a{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&Object(r.a)(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),Object(r.a)(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}},function(e,t,i){"use strict";function n(e){return Object(r.a)(e)&&e.length>0}i.d(t,"a",(function(){return n}));var r=i(17)},function(e,t,i){"use strict";function n(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)Object(r.a)(e,i)&&t.push(i);return t}}i.d(t,"a",(function(){return n}));var r=i(71)},function(e,t,i){"use strict";function n(e,t){e.forEach(e=>{Object(r.a)(e,t)})}var r=i(120);i.d(t,"a",(function(){return a}));class a{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],n(this.on,e),n(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}},function(e,t,i){"use strict";function n(e){return"function"===typeof e||"Function"===Object(r.a)(e)}i.d(t,"a",(function(){return n}));var r=i(55)},function(e,t,i){"use strict";function n(e){let{element:t,eventName:i,listener:n,options:l,ignoreBubbling:c=!1}=e;const u=c?function(e){e.target===t&&n.call(this,e)}:n,h=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(l),p=a.a?h:h.capture,A=h.once&&!a.b?function(e){m(),u.call(this,e)}:u,m=()=>{Object(r.b)(t,i,A,p)};try{Object(r.a)(t,i,A,p)}catch(v){const e=Object(s.a)(v)?v:new o.a({code:"ADD_EVENT_LISTENER_FUNCTION_CALL_ERROR",details:{error:v}});throw d.c.error({error:e}),e}return m}i.d(t,"a",(function(){return n}));var r=i(78),a=i(111),o=i(0),s=i(54),d=i(1)},function(e,t,i){"use strict";i(48);var n=i(33),r=(i(153),i(43),i(4)),a=i(41);Object(a.a)({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});i.d(t,"a",(function(){return o}));class o{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){o.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=r;try{Object(n.a)(this.destroyHandlers,...t)}catch(a){Object(n.a)(o.errorHandlers,a)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=r.a);for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];i.apply(t,n)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}o.errorHandlers=[]},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=(e,t,i)=>{const n=[];for(let r=0;r<e.length;r++){const a=e[r];t.call(i,a,r,e)&&n.push(a)}return n}},function(e,t,i){"use strict";function n(e){return"string"===typeof e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){var i,n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"===typeof btoa){var a=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}));return[n].concat(o).concat([a]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];null!=a&&(n[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];null!=o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),t.push(o))}},t}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){A.a.href=e;let t=A.a.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(A.a.search||"")+(A.a.hash||""),a=e.lastIndexOf(i),o=-1===a?e:e.slice(0,a);if(m.test(e)){const t=r(e.replace(m,"https:"));return A.a.href=e,n({},t,{originalPath:o,protocol:e.slice(0,e.indexOf(":")+1),href:A.a.href})}const s=A.a.protocol&&/^[a-z\-]+:/i.test(A.a.protocol)?A.a.protocol:"";return{originalPath:o,href:A.a.href,protocol:s,host:A.a.host,hostname:A.a.hostname,port:A.a.port,pathname:t,search:A.a.search,hash:A.a.hash}}function a(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function o(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let n=0;n<i.length;n++){const e=i[n].indexOf("=");let r,a;if(-1===e?(r=v(i[n]),a=""):(r=v(i[n].slice(0,e)),a=i[n].slice(e+1)),r){const e=Boolean(/(\[\])$/.exec(r));r=r.replace(/\[\]$/,""),e?void 0===t[r]?t[r]=[v(a)]:t[r]=[].concat(t[r],v(a)):t[r]=v(a)}}return t}function s(e){return o(r(e).search)}function d(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];Object(u.a)(n)?t.push(f(i,n)):void 0!==n&&t.push(i+"="+encodeURIComponent(n))}return"?"+t.join("&")}function l(e,t,i){if(void 0===i)return e;const s=r(e),l=o(s.search);return l[t]=i,a(n({},s,{search:d(l)}))}function c(e,t,i){let{override:s=!0,saveOriginalPath:l=!1}=void 0===i?{}:i;const c=r(e),u=o(c.search);return Object(p.a)(t,(e,t)=>{(void 0===u[t]||s)&&(u[t]=e)}),a(n({},c,{search:d(u)}),l)}i.d(t,"e",(function(){return r})),i.d(t,"f",(function(){return a})),i.d(t,"d",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c}));var u=i(37),h=i(129),p=i(42),A=i(35);Object(h.a)(e=>{return n({},r(e))});const m=/^(android-app:|chrome-extension:)/,v=e=>{try{return decodeURIComponent(e)}catch(t){return e}},f=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&")},function(e,t,i){"use strict";function n(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){return-1!==Object(r.a)(e,t)}i.d(t,"a",(function(){return n}));var r=i(136)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a}));const n=["a","n.ya","nd","ex.ru"].join(""),r=["ya","sta","tic.net"].join(""),a=[n,r]},function(e,t,i){"use strict";function n(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}i.d(t,"a",(function(){return n}))},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";function n(e){setTimeout(()=>{throw e},0)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r})),i.d(t,"a",(function(){return a}));const n="",r="InPage",a=1627032312653},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}}},function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"h",(function(){return s})),i.d(t,"b",(function(){return d})),i.d(t,"g",(function(){return l})),i.d(t,"a",(function(){return c})),i.d(t,"f",(function(){return u})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return p}));var n=i(59),r=i(85);const a=n.a?Object(r.b)(n.a):void 0;n.a&&Object(r.a)(n.a);const o=null===a||void 0===a?void 0:a.SID,s=null===a||void 0===a?void 0:a.VSID,d=null===a||void 0===a?void 0:a.ICOOKIE,l=null===a||void 0===a?void 0:a.TEST_IDS,c=null===a||void 0===a?void 0:a.AB_FLAGS,u=null===a||void 0===a?void 0:a.AdditionalStatsRootFields,h=null===a||void 0===a?void 0:a.VAS_USER_SESSION_RANDOM,p=null===a||void 0===a?void 0:a.RUM_WRAPPER},function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return d}));var n=i(34);let r;try{r={build:390998,code:[{id:390998,percent:100}]}}catch(l){r={}}const{build:a,code:o}=r,s=a,d=Object(n.a)(window,"adsdkver",o)},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".v7SxmGNR3B{position:absolute;z-index:1;box-sizing:border-box;overflow:hidden;background-color:#fff;opacity:0;transition:opacity .1s linear,height .1s ease-in;pointer-events:none;will-change:opacity,height}.v7SxmGNR3B:not(.Yya){visibility:hidden}.Yya{opacity:1;pointer-events:auto}.v7SxmGNR3B:not(.G3HZPo){top:40px;right:8px;width:260px;border-radius:16px;box-shadow:4px 4px 40px rgba(0,21,64,.22)}.G3HZPo{top:0;right:0;bottom:0;left:0}.BGT2Of{box-sizing:border-box;padding:8px 16px}.G3HZPo .BGT2Of{height:100%;overflow:auto}.geSCPO32F{padding-bottom:16px}.J3xh5mc5B{display:flex;align-items:center;height:36px}.hpluO6vU7{box-sizing:border-box;width:100%;height:152px;padding:8px 12px;color:#575c66;font-size:14px;font-family:"+i(25).locals.AD_FONT+";line-height:20px;background-color:#f4f6fb;border-color:transparent;border-radius:8px;outline:none;resize:none;pointer-events:auto}.hpluO6vU7:focus{border-color:#498bff}.a8L4wr{margin-top:8px;background-color:#498bff;border-radius:8px}.a8L4wr:hover{background-color:#2e71e5}.IZBAu5{justify-content:center;color:#fff;font-size:14px;line-height:20px}.i2tkG5{padding:8px;color:#3a3d40;font-size:14px}.IS6eq{color:#a3acbf;font-size:14px;line-height:16px;word-break:break-word}.c4K6CTp .IS6eq,.a5CfBGI .IS6eq{padding:10px 8px}.u6F .IS6eq{margin-right:15px;padding:6px 0 6px 8px}.CDCsQb9d .IS6eq{margin-right:15px}.IS6eq,.i2tkG5{font-weight:700;font-family:"+i(25).locals.AD_FONT+";line-height:16px}.UvLa{display:flex;align-items:center;justify-content:center;width:28px;height:28px;margin-right:2px;margin-left:2px;border-radius:50%;cursor:pointer;transition:background-color .1s ease-in;pointer-events:auto}.UvLa:hover{background-color:#f4f8ff}.oqkFSHVm0{display:flex;flex-direction:column}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AbuseDisplay:"v7SxmGNR3B",AbuseDisplay_visible:"Yya",AbuseDisplay__fullSize:"G3HZPo",AbuseDisplay__content:"BGT2Of",AbuseDisplay__content_offsetBottom:"geSCPO32F",AbuseDisplay__customReasonDisplayHeader:"J3xh5mc5B",AbuseDisplay__customReasonDisplayTextarea:"hpluO6vU7",AbuseDisplay__customReasonDisplayButton:"a8L4wr",AbuseDisplay__customReasonDisplayButtonContent:"IZBAu5",AbuseDisplay__text:"i2tkG5",AbuseDisplay__hint:"IS6eq",AbuseDisplay__complaintDisplay:"c4K6CTp",AbuseDisplay__hideDisplay:"a5CfBGI",AbuseDisplay__defaultDisplay:"u6F",AbuseDisplay__customReasonDisplay:"CDCsQb9d",AbuseDisplay__arrowLeftIcon:"UvLa",AbuseDisplay__messageBox:"oqkFSHVm0"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=function(e,t,i){let n=0;for(arguments.length<3&&(n=1,i=e[0]);n<e.length;n++)i=t(i,e[n],n,e);return i}},function(e,t,i){"use strict";function n(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Object(r.a)(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}i.d(t,"a",(function(){return n}));var r=i(37)},function(e,t,i){"use strict";function n(e,t){const i={UrlParams:()=>v[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const r of Object(o.a)(e)){var i,n;const e=null===(i=r.Ya)||void 0===i?void 0:null===(n=i.hardcodedParams)||void 0===n?void 0:n[t];if(e)return String(e)}}};for(const[n,r]of Object(d.a)(i)){const e=Object(A.a)(r);if(Object(l.a)(e))return Object(m.a)("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+n+"]"),e}}function r(e,t,i){const r=n(e,t);return r?Number(r):function(e){const t=100*Object(u.a)();let i=0;for(let n=0;n<e.length;n++)if(t<(i+=e[n].percent))return e[n].id;return e[0].id}(i)}var a=i(67),o=i(84),s=i(127),d=i(38),l=i(9),c=i(20),u=i(57),h=i(11);const p={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkmotionoldanimation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0,adsdkthemeemptyactionbutton:0};Object(h.a)(p);var A=i(36),m=i(58);i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r}));const v={},f=Object(s.a)(document);for(const{location:g}of f){const e=Object(c.c)(g);Object(a.a)(e,(e,t)=>{0===p[t]&&(v[t]=e)})}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=document.createElement("a")},function(e,t,i){"use strict";function n(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(55),r=i(90);const a=Object(r.a)(Array,"isArray"),o=Boolean(a)?e=>a.call(Array,e):e=>"Array"===Object(n.a)(e)},function(e,t,i){"use strict";function n(e){return"function"===typeof Object.entries?Object.entries(e):Object(r.a)(e).map(t=>[t,e[t]])}i.d(t,"a",(function(){return n}));var r=i(11)},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(43),r=i(3),a=i(29);const o=a.e||Object(n.a)(64);Object(r.a)((a.e?"Use existing SID":"Generate new SID")+" ["+o+"]")},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(84),r=i(13),a=i(74),o=i(119);const s=function(e){if(void 0===e&&(e=window),o.a)return o.a;const t=Object(n.a)(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=Object(a.a)(e,"ya.videoAd.encodeUrl");if(Object(r.a)(i))return i}}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i(126),a=i(4);const o=a.a,s=a.a;i.d(t,"a",(function(){return d}));const d=e=>{let{win:t,propertyName:i}=e;return{call:e=>Object(r.a)(n({win:t,propertyName:i},e)),subscribe:e=>s(n({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{s({callback:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return e(i)},propertyName:t,win:i})})})(n({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:n}=e;return new Promise(e=>{s({propertyName:t,win:i,callback:function(){n(...arguments)&&e()}})})})(n({win:t,propertyName:i},e)),clear:e=>o(n({win:t,propertyName:i},e))}}},function(e,t,i){"use strict";function n(e,t,i){for(const n in e)Object(r.a)(e,n)&&t.call(i,e[n],n,e)}i.d(t,"a",(function(){return n}));var r=i(71)},function(e,t,i){"use strict";function n(e){let t="";for(let i=0;i<e;i++)t+=(16*Object(r.a)()|0).toString(16);return t}i.d(t,"a",(function(){return n}));var r=i(57)},function(e,t,i){"use strict";function n(e,t,i){var n,r,a,o,s,d,l;const c=null===(n=i.ya)||void 0===n?void 0:null===(r=n.videoAd)||void 0===r?void 0:null===(a=r.loadedModules)||void 0===a?void 0:a[e];return c||(void 0!==t?null===(o=i.ya)||void 0===o?void 0:null===(s=o.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(l=d[t])||void 0===l?void 0:l[e]:void 0)}function r(e){let{moduleName:t,version:i=l.b,onSuccess:r,onError:m,win:v,timeout:f}=e,b="loading";const _=Date.now(),O=Object(a.a)(Object(A.a)(e=>{b="success";const n=Date.now()-_;h.c.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:l.a,bundleVersion:i},values:{timeSpent:n}}),r(e)},"LOAD_MODULE_CALLBACK_ERROR")),T=Object(a.a)(Object(A.a)(e=>{b="error",h.c.error({error:e}),m(e)},"LOAD_MODULE_CALLBACK_ERROR")),E=n(t,i,v);if(E)return O(E),o.a;const w=S({version:i,bundleName:t,win:v,ecmaVersion:g}),{promise:C,teardown:I}=P({src:w,win:v}),{promise:N,clear:D}=Object(s.a)(f),R=Object(p.a)({element:v,eventName:"unload",listener:()=>{T(new c.a({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:f}}))}}),k=()=>{R(),D()};return N.then(()=>{T(new c.a({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:f}}))}),C.then(()=>{k();const e=n(t,i,v),r=y(t);e?(u.a&&d.a.logTimingAndLoadRum(r,w),O(e)):T(new c.a({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{k(),T(new c.a(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{k(),I(),"loading"===b&&h.c.event({name:"LoadModuleTeardownCalled",data:void 0})}}var a=i(10),o=i(4),s=i(28),d=i(108),l=i(30),c=i(0),u=i(138),h=i(1),p=i(14),A=i(116),m=i(132);const v=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Object(m.a)(e))(window);var f=i(117);const g=(()=>"ES2017"===f.a?"ES2017":"ES5"===f.a?"ES5":v?"ES2017":"ES5")();var b=i(139);const y=e=>b.b[e]+".bundle.js";var _=i(40),O=i(13),T=i(140),E=i(76);const S=e=>{let{bundleName:t,win:i,ecmaVersion:n,version:r}=e;const a=T.a[n],o=Object(_.a)(i),s=y(t),d=""+Object(E.a)(r)+a+"/"+s;return Object(O.a)(o)?o(d):d};var w=i(109),C=i(118);const I=e=>{var t;(e=>{e.crossOrigin="anonymous"})(e),null===(t=C.a.onBeforeLoad)||void 0===t||t.call(C.a,e)},P=e=>{let{src:t,win:i}=e;return Object(w.a)({src:t,onBeforeLoad:I,win:i})};i.d(t,"a",(function(){return N})),i.d(t,"b",(function(){return r}));const N=3e4},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(21);const r=[].find,a=Object(n.a)(r)?(e,t)=>r.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const n=e[i];if(t(n,i,e))return n}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(77);const{length:r}=n.a,a=r>0?n.a[r-1].ownerDocument.defaultView:window},function(e,t,i){"use strict";function n(e){const t={};return e.forEach(e=>{let[i,n]=e;t[i]=n}),t}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){return void 0===e&&(e=window),void 0===u&&(u=function(e){void 0===e&&(e=window);return e.JSON&&Object(c.a)(e.JSON.stringify)&&Object(c.a)(e.JSON.parse)}(e)?e.JSON:{stringify:p("stringify"),parse:p("parse")}),u}function r(e){return n().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,n)=>{if(void 0!==e)try{e.set(i,n)}catch(r){t.push({path:n,value:i})}else t.push({path:n,value:i})},get:i=>{const n=Object(o.a)(t,e=>e.value===i);return void 0!==e&&void 0===n?e.get(i):n?n.path:void 0}}}();return(i,n)=>{if(Object(s.a)(n))return Object(m.a)(n.name)?n.name:"[Function]";if(!Object(A.a)(n))return n;const r=t.get(n);if(r)return"[Circular "+r+"]";for(;e.length>0&&e[e.length-1].value[i]!==n;)e.pop();const a=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:a,value:n}),t.set(n,a),n}}())}var a=i(16),o=i(45),s=i(13),d=i(130),l=i(24),c=i(21);let u;const h=function(e){void 0===e&&(e=document.body);const t=function(e){const t=Object(d.a)(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",Object(l.a)(e)})(t)}},p=e=>t=>{const{JSON:i,clean:n}=h();try{return i[e](t)}finally{n()}};var A=i(2),m=i(17);const v={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0};i.d(t,"a",(function(){return g}));const f=i(167);class g extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||v.message)};super(),f(this,g.prototype),this.message=t.message||i.message||v.message,this.code=t.code||i.code||i.id||v.code,this.isFatal=Boolean(function(e){const[t]=Object(a.a)(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,v.isFatal])),this.details=t.details||i.details||v.details;const n=t.stack||i.stack||function(e){const{url:t,line:i,col:n,fileName:r,columnNumber:a,lineNumber:o}=e;return(t||r||"?")+":"+(i||o||"?")+":"+(n||a||"?")}(i);let o=n===v.stack?this.stack:n;if(o&&o!==v.stack)this.stack=o;else if(!this.stack)try{throw new Error(this.message)}catch(s){this.stack=o=s.stack||v.stack}this.toString=()=>r(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:o})}}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var r=i(10),a=(i(165),i(7)),o=i(37),s=i(70),d=i(11),l=i(2),c=i(17);const u=(e,t)=>{if(!Object(l.a)(t))throw new Error("Parsed replaced macro is not an object: "+e);if(!function(e){if(void 0!==e){if(!Object(c.a)(e))throw new Error("testIdsString is not a string or undefined ["+e+"]");if(0===e.length)throw new Error("testIdsString string is empty");for(const t of e.split(";")){const i=t.split(",");if(3!==i.length)throw new Error("testIdParts length error ["+e+"]");const[n,,r]=i;if(0===n.trim().length)throw new Error("testId length error ["+e+"]");if(0===r.trim().length)throw new Error("testId bucket length error ["+e+"]")}return e}}(t.testIds))throw new Error("Parsed replaced macro has no testIds field: "+e);if(!("flags"in t)||!Object(l.a)(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0},h=e=>{const t=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["expFlags"]),i={};return Object(a.a)(e.expFlags,e=>{Object(a.a)(e,e=>{let{CONTEXT:{FLAGS:t}}=e;Object(l.a)(t)&&Object(a.a)(Object(d.a)(t),e=>{const n=t[e];i[e]=n})})}),n({flags:i},t)},p={testIds:"",flags:{}};const A=Object(r.a)(()=>{try{return __UAAS_CFG__}catch(e){return e}}),m=e=>{if(Object(s.a)(e))return{error:e,config:p};try{const t=Object(l.a)(e)?e:JSON.parse(""+(e||"")),i=(e=>!!Object(l.a)(e)&&(!!("expFlags"in e&&Object(o.a)(e.expFlags))&&!!("testIds"in e&&Object(c.a)(e.testIds))))(t)?h(t):t;if(!u(String(e),i))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:i}}catch(t){return{error:t,config:p}}},v=Object(r.a)(()=>m(A()));i.d(t,"a",(function(){return b})),i.d(t,"b",(function(){return y}));let f,g=p;try{const e=v();if(e.error)throw e.error;g=e.config}catch(_){f=_}const b=g,y=f},function(e,t,i){"use strict";var n=i(11),r=i(2),a=i(9),o=i(36);i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return c}));const{rootFields:s,extractionError:d}=(e=>{let t,i;return{rootFields:t=Object(o.a)(()=>(e=>{var t,i;const o=null===e||void 0===e?void 0:null===(t=e.ya)||void 0===t?void 0:null===(i=t.videoAd)||void 0===i?void 0:i.statsRootParams;if(Object(r.a)(o)){const e={},{vsid:t,contentPlayerVersion:i,pcodeVersion:r,widgetVersion:s}=o;if(Object(a.a)(t)&&(e.vsid=t),Object(a.a)(i)&&(e.contentPlayerVersion=i),Object(a.a)(r)&&(e.pcodeVersion=r),Object(a.a)(s)&&(e.widgetVersion=s),Object(n.a)(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),l=s,c=d},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".P8g7{all:revert!important}.iVoyTk68Am,.Rl7WNnNyf{cursor:pointer!important}.Rl7WNnNyf{min-width:5em!important;max-height:2.4em!important;margin-bottom:.7em!important;overflow:hidden!important;color:#000!important;font-size:1.5em!important;line-height:1.2em!important;text-align:left!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.iVoyTk68Am{position:relative!important;display:inline-block!important;box-sizing:border-box!important;min-width:10em!important;padding:.6em 1.2em .7em!important;color:#006aff!important;font-weight:300!important;font-size:1em!important;text-align:center!important;background-color:#e5f0ff!important;border-radius:.3em!important}.iVoyTk68Am:hover{background-color:#d9e9ff!important}.mzJ74leVRP{position:absolute!important;top:-15px!important;left:-15px!important;width:100%!important;height:100%!important;padding:15px!important}.KBp{position:absolute!important;top:0!important;left:0!important;display:flex!important;width:100%!important;height:100%!important}.WfrJ6mkj4{font-size:18px!important}.Wl1Q{z-index:1!important;display:none!important;overflow:hidden!important;font-family:Helvetica,Arial,sans-serif!important;opacity:0!important}.b2IZYdu0B{position:absolute!important;top:9px!important;left:13px!important;display:flex!important;align-items:flex-end!important;color:#afc5cf!important;font-weight:700!important;font-size:12px!important;font-style:normal!important;line-height:14px!important;letter-spacing:.05em!important;text-transform:uppercase!important}.m8A .Rl7WNnNyf{color:#fff!important}.m8A .iVoyTk68Am{color:#fff!important;background-color:#535c7a!important}.m8A .iVoyTk68Am:hover{background-color:#5d6682!important}.xN4Y6hDyD{position:absolute!important;top:0!important;right:0!important;z-index:2!important;box-sizing:content-box!important;padding:10px!important;cursor:pointer!important}.xN4Y6hDyD,.xN4Y6hDyD svg{width:12px!important;height:12px!important}.xN4Y6hDyD svg{vertical-align:top!important}.QTpDyiPAvc .WfrJ6mkj4{min-width:0!important;max-width:44vh!important;margin:0 3.5vh 0 3vh!important}.fHGrT.jolSN9eSq .Wl1Q{position:absolute!important;top:0!important;left:0!important;width:100%!important;height:32px!important}.Vlpl .Wl1Q{display:block!important;opacity:0!important}.GVOaj .Wl1Q{opacity:0!important}.fHGrT.Yahw9d9U .Wl1Q{opacity:1!important}.GVOaj .xN4Y6hDyD,:not(.Yahw9d9U) .xN4Y6hDyD{display:none!important}.eJwcWO,.fHGrT .xN4Y6hDyD{display:block!important}",""]),t.locals={reset:"P8g7",yaInpageAdditionalContent__button:"iVoyTk68Am",yaInpageAdditionalContent__description:"Rl7WNnNyf",yaInpageAdditionalContent__buttonClickableArea:"mzJ74leVRP",additionalContentWrapper:"KBp",yaInpageAdditionalContent:"WfrJ6mkj4",yaInpageAdditionalContentContainer:"Wl1Q",yaInpageAdditionalContent__adTitle:"b2IZYdu0B",yaInpageAdditionalContent_dark:"m8A",yaInpageCross:"xN4Y6hDyD","variant-covering":"QTpDyiPAvc",sticky:"fHGrT",flyroll:"jolSN9eSq",additionalContent__enabled:"Vlpl",inline:"GVOaj",isDetached:"Yahw9d9U",covering:"eJwcWO"}},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return h}));var r=i(32),a=(i(46),i(2),i(17)),o=i(20),s=i(49),d=i(29);const l=s.a.flags;const c=Object(o.d)(location.search).adsdkabflags,u=Object(a.a)(c)?Object(r.a)(c.split(","),(e,t)=>{const[i,r]=t.split("=");return n({},e,{[i]:r})},{}):{},h=n({},{},l,d.a,u)},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".fTWoY{border-radius:16px;cursor:pointer;transition:background-color .1s ease-in;will-change:background-color}.fTWoY:not(.wJXNT0),.wJXNT0{background-color:rgba(35,37,38,.1)}.fTWoY:not(.wJXNT0):hover,.wJXNT0:hover{background-color:rgba(35,37,38,.4)}.RK0rlYUVV{transform:translate(12px,12px);will-change:transform}.drrT{transform:rotate(45deg);opacity:0}.QGf,.drrT{transition:transform .1s ease-in,opacity .1s ease-in;will-change:transform,opacity}.wJXNT0 .QGf{opacity:0}.wJXNT0 .drrT{opacity:1}.wJXNT0 .Mpup4Gu{transform:translateY(6px)}.wJXNT0 .iB5U1Fx8mx{transform:translateY(-6px)}.wJXNT0 .YN2HXnbv{transform:rotate(0deg)}.wJXNT0 .F4Sob4{transform:rotate(90deg)}",""]),t.locals={AbuseAnimationIcon:"fTWoY",AbuseAnimationIcon_cross:"wJXNT0",AbuseAnimationIcon__lines:"RK0rlYUVV",AbuseAnimationIcon__line:"drrT",AbuseAnimationIcon__dot:"QGf",AbuseAnimationIcon__dot_top:"Mpup4Gu",AbuseAnimationIcon__dot_bottom:"iB5U1Fx8mx",AbuseAnimationIcon__line_left:"YN2HXnbv",AbuseAnimationIcon__line_right:"F4Sob4"}},function(e,t,i){"use strict";function n(e){return Object(r.a)(e)&&Boolean(e.code)}i.d(t,"a",(function(){return n}));var r=i(88)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));const n={}.toString,r=/\[object (\w+)\]/,a=e=>{const t=n.call(e);if(!t)return null;const i=t.match(r);if(!i)return null;const a=i[1];return a||null}},function(e,t,i){"use strict";function n(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var n=i(21);const r=!Object(n.a)(Math.random)||Math.random()===Math.random();var a=i(115),o=i(13);const s="undefined"===typeof window?void 0:window.performance,d=s&&Object(o.a)(s.now),l=s&&s.timing&&s.timing.navigationStart?s.timing.navigationStart:Object(a.a)();let c=0;const u=d?()=>s.now():()=>(()=>{const e=Object(a.a)()-l;return c=Math.max(e,c)})(),h=2147483647,p=16807;let A=Date.now()*u()%h;const m=h-1;i.d(t,"a",(function(){return v}));const v=r?function(){return((A=A*p%h)-1)/m}:function(){return Math.random()}},function(e,t,i){"use strict";function n(e){Object(a.a)(console)&&Object(r.a)(console.warn)&&console.warn(e)}i.d(t,"a",(function(){return n}));var r=i(13),a=i(2)},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(45),r=i(62),a=i(85);let o=document.currentScript;if(!o){const e=Object(r.a)(document.getElementsByTagName("script"));(o=Object(n.a)(e,a.c))||(o=e[e.length-1])}const s=o},function(e,t,i){"use strict";function n(e,t){void 0===t&&(t=!0);const i=Object(r.a)(e);return i?!e[i]:t}i.d(t,"a",(function(){return n}));var r=i(134)},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".EiEUKntJ{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:#fff;font-weight:300;font-family:"+i(25).locals.AD_FONT+";background-color:rgba(0,0,0,.8);pointer-events:auto}.tVfDcwGa{position:absolute;top:45px;bottom:0;left:60px}.ctUK4ipn{position:relative;top:0;left:0;display:flex;flex-direction:column;justify-content:center}.eVrOg3{text-align:center}.Knh{width:calc(100% + 8px);margin-left:-4px}.V0iAY{margin:1px 0}.w3VSSnZMHy{width:100%;height:100%}.XSiNHc{position:absolute;top:0;right:0;width:14px;height:14px;padding:8px;cursor:pointer}.aoEqG7{width:17px;height:17px;padding:9px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AbuseScreen:"EiEUKntJ",AbuseScreen__content:"tVfDcwGa",AbuseScreen__content_centered:"ctUK4ipn",AbuseScreen__title_centered:"eVrOg3",AbuseScreen__buttons:"Knh",AbuseScreen__button:"V0iAY",AbuseScreen__cross:"w3VSSnZMHy",AbuseScreen__crossContainer:"XSiNHc",AbuseScreen__crossContainer_medium:"aoEqG7"}},function(e,t,i){"use strict";function n(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(40);const r=Object(n.a)(window)},function(e,t,i){"use strict";function n(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:n}=t;return i||n||0}(e)>0&&!d(e)}function r(e,t){if(!Object(c.a)(e.matchMedia))return!1;const i=e.matchMedia(t);return Object(u.a)(i)&&Boolean(i.matches)}function a(e){return void 0===e&&(e=window),n(e)||function(e){return r(e,p)}(e)||function(e){return r(e,A)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||Object(o.a)(e)}var o=i(128),s=i(73);const d=function(e){return void 0===e&&(e=window),Object(s.a)(e)>11};var l=i(6),c=i(13),u=i(2),h=i(87);const p=Object(l.a)(h.a,e=>"("+e+"any-pointer:coarse)").join(","),A=Object(l.a)(h.a,e=>"("+e+"touch-enabled)").join(",");var m=i(110),v=i(56);const f=function(e){void 0===e&&(e=window);const t=Object(v.a)(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]};i.d(t,"a",(function(){return g}));const g=(void 0===b&&(b=window),f(b)||Object(m.a)(b)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&a(e)}(b));var b},function(e,t,i){"use strict";function n(e){const{src:t,win:i,onBeforeLoad:n=a.a}=e,d=new r.a({});let l=a.a;return{promise:new Promise((e,a)=>{const c=i.document.createElement("script");let u=!1;l=()=>{u=!0,Object(o.a)(c)};c.type="text/javascript",c.async=!0,c.onload=()=>{u||e()},c.onerror=e=>{u||(a(new r.a(d,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),l())},c.src=t,c.charset=s,n(c),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(c)}),teardown:l}}var r=i(48),a=i(4),o=i(24);const s="utf-8";i.d(t,"a",(function(){return n}))},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".OHB3{position:static}.ce6{display:flex;align-items:center;justify-content:center}.fG3oiGY2rT{position:relative;bottom:1px;margin-right:"+i(19).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.fG3oiGY2rT.QaVqEjOWV{margin-right:0}.fIpY{margin-right:"+i(19).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}.fIpY.QaVqEjOWV{margin-right:0}.PmOfrct{display:flex;align-items:center;justify-content:center;width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.dPmpegy2im{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.ItGo5Sdi{width:29px;height:24px}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(19).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(19).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,UnmuteButton:"OHB3",UnmuteButton__content:"ce6",UnmuteButton__text:"fG3oiGY2rT",UnmuteButton__without_text:"QaVqEjOWV",UnmuteButton__text_middle:"fIpY",UnmuteButton__iconContainer:"PmOfrct",UnmuteButton__iconContainer_middle:"dPmpegy2im",UnmuteButton__icon:"ItGo5Sdi"}},function(e,t,i){"use strict";var n=i(42);i.d(t,"a",(function(){return n.a}))},function(e,t,i){"use strict";var n=i(6),r=i(77);i.d(t,"a",(function(){return a}));const a=function(){const e=Object(n.a)(r.a,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}()},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".TJD5rAkLl{position:absolute;bottom:60px;left:0;display:flex;flex-direction:row;box-sizing:border-box;width:100%}.vCFz .TJD5rAkLl{top:50%;bottom:auto;transform:translateY(-50%)}.AQwlGKc .TJD5rAkLl{top:50%;bottom:auto;flex-direction:row-reverse;transform:translateY(-50%)}.cs5qr .TJD5rAkLl{flex-direction:row-reverse}.qa9C6LOE{position:relative;display:flex;flex:1 1;align-items:center;padding:0 5%}.hx9{position:relative;flex:0 0 auto;padding:0 .5em;pointer-events:auto}.ovwYxGqiH{position:absolute;top:50%;left:50%;z-index:0;overflow:hidden;transform:translateY(-50%) translateX(-50%)}",""]),t.locals={OldActionButton__body:"TJD5rAkLl",OldActionButton__bannerPosition_right_center:"vCFz",OldActionButton__bannerPosition_left_center:"AQwlGKc",OldActionButton__bannerPosition_left_bottom:"cs5qr",OldActionButton__context:"qa9C6LOE",OldActionButton__buttonContainer:"hx9",OldActionButton__wrapper:"ovwYxGqiH"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(55);const r=e=>e instanceof Error||"Error"===Object(n.a)(e)},function(e,t,i){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const n=i(166),r=function(e){void 0===e&&(e=window);const t=n(e);return"boolean"===typeof t?-1:t}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(2);const r=(e,t)=>{for(const i of t.split(".")){if(!Object(n.a)(e)){e=void 0;break}e=e[i]}return e}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=["aw","ap","s-a","d-sd","k-j","s"].join("")},function(e,t,i){"use strict";function n(e){return void 0===e&&(e=r.b),a.b||function(e){return o.a+"1.0-"+e+"/"}(e)}var r=i(30),a=i(27),o=i(141);i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(103);const r=Object(n.a)(document.documentElement)},function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));var n=i(90);let r=function(e,t,i){e.attachEvent("on"+t,i)},a=function(e,t,i){e.detachEvent("on"+t,i)};Object(n.a)(document,"addEventListener")&&Object(n.a)(document,"removeEventListener")&&(r=function(e,t,i,r){const a=e&&Object(n.a)(e,"addEventListener");a&&a.call(e,t,i,r)},a=function(e,t,i,r){const a=e&&Object(n.a)(e,"removeEventListener");a&&a.call(e,t,i,r)})},function(e,t,i){"use strict";var n=i(46),r=i(104),a=i(105),o=i(68),s=i(20),d=i(144);i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return h}));const{topAncestor:l,isTrusted:c}=function(e){void 0===e&&(e=window);const t=Object(d.a)(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:l}=Object(a.a)(e.document),c=o.a?l:i,u=!o.a||Object(r.a)(n.a).length<2,{protocol:h,hostname:p,host:A,port:m}=Object(s.e)(c);return{topAncestor:Object(s.f)({protocol:h,hostname:p,host:A,port:m,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:u}}(),u=l,h=c},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".ngWf57FSA{position:relative}.ZeigB{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.YFUdAOYN1H{position:absolute;top:0;left:0}.KQhDnNz0i{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(25).locals.AD_FONT+"}.zzbn{position:absolute;bottom:0;width:100%;height:2px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,PackshotScreen:"ngWf57FSA",PackshotScreen__buttonWrapper:"ZeigB",PackshotScreen__packshotOverlayWrapper:"YFUdAOYN1H",PackshotScreen__textBlock:"KQhDnNz0i",PackshotScreen__timelineBarWrapper:"zzbn"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".DcIgDVUtaL{font-family:"+i(25).locals.AD_FONT+"}.iVyIZu{position:relative;min-width:42px;height:100%}.kmNkz{position:relative;display:flex;align-items:stretch;box-sizing:border-box;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;height:100%;padding:0 10px;overflow:hidden;background-color:rgba(38,38,38,.65);border-radius:4px;cursor:pointer;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);pointer-events:auto}.LpZPOI{position:absolute;top:50%;left:10px;display:flex;align-items:center;justify-content:center;width:32px;min-width:32px;height:32px;border-radius:16px;transform:translateY(-50%)}.xkdVwd{display:flex;flex-wrap:nowrap;align-items:center;margin-left:40px;overflow:hidden}.xKxbnvs{margin-left:10px}.LpZPOI img{border-radius:2px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,YoutubeLikeActionButton:"DcIgDVUtaL",YoutubeLikeActionButton__content:"iVyIZu",YoutubeLikeActionButton__mask:"kmNkz",YoutubeLikeActionButton__favicon:"LpZPOI",YoutubeLikeActionButton__wrapper:"xkdVwd",YoutubeLikeActionButton__wrapper_wide:"xKxbnvs"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".VXN7YPuPZJ{width:100%}.nw7w2{font-size:18px}.nw7w2 .HpoFQW{height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.VXN7YPuPZJ:hover .FMqDPaRu{border-color:#fff}.FMqDPaRu{display:flex;align-items:center;justify-content:space-between;width:calc(100% - 20px);height:32px;padding:0 10px;color:#fff;font-weight:400;font-size:11px;white-space:nowrap;background-color:hsla(0,0%,100%,.2);border-radius:4px}.P46hr{width:calc(100% - 27px);height:40px;padding:0 12px 0 15px;font-size:13px}.IoCuC7D3{width:15px;height:15px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,AbuseVariantButton:"VXN7YPuPZJ",AbuseVariantButton_middle:"nw7w2",AbuseVariantButton__basecontent:"HpoFQW",AbuseVariantButton__content:"FMqDPaRu",AbuseVariantButton__content_middle:"P46hr",AbuseVariantButton__icon_middle:"IoCuC7D3"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".ma1Uw2QI{position:static;margin-left:auto}.mllqTBQv{position:relative;margin-left:4px}.EXTPWqE9z{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.NVp{position:relative;justify-content:center;width:35px;text-align:center}.xAP{display:flex}.xAP>span:first-child{width:16px;text-align:right}.SLWtHuXie8{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"ma1Uw2QI",SkipButtonWithText__text:"mllqTBQv",SkipButtonWithText__content:"EXTPWqE9z",SkipButtonWithText__timeToSkipString:"NVp",SkipButtonWithText__digitsContainer:"xAP",SkipButtonWithText__icon:"SLWtHuXie8"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(72);const r=e=>{const t=[];for(;e;)try{if(Object(n.a)(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t}},function(e,t,i){"use strict";i.d(t,"c",(function(){return r})),i.d(t,"d",(function(){return a})),i.d(t,"b",(function(){return o})),i.d(t,"a",(function(){return s}));var n=i(2);const r=e=>Object(n.a)(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__),a=(e,t)=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=t},o=e=>e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__,s=e=>{delete e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(49),r=i(102);const a=n.a.isInternalNetwork||!1,o=Boolean(r.a)||a},function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"a",(function(){return r}));const n=["","webkit","moz","o","ms"],r=["","-webkit-","-ms-","-moz-","-o-"]},function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"c",(function(){return o})),i.d(t,"b",(function(){return s}));var n=i(2),r=i(17);const a=e=>!!Object(n.a)(e)&&(!!Object(r.a)(e.name)&&!!Object(r.a)(e.message)),o=e=>({name:e.name,message:e.message,stack:e.stack}),s=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t}},function(e,t,i){"use strict";function n(e,t,i){void 0===i&&(i=" ");const n=t-e.length;if(n>0){let t=i;for(;t.length<n;)t+=t;return(t.length>n?t.substr(0,n):t)+e}return e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e,t){let i=e[t];if(!Object(r.a)(i)){const r=i;try{delete e[t];const n=e[t];"function"===typeof n&&(i=n),e[t]=r}catch(n){}}return i}i.d(t,"a",(function(){return n}));var r=i(21)},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".P8g7{all:revert!important}.Icgl9K2Tm{display:flex!important;flex-grow:1!important;flex-shrink:1!important;align-items:center!important;justify-content:center!important;box-shadow:none!important}.fDLMQQY8wn{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/z-index:10000!important}.el9f{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/box-sizing:content-box!important;border-radius:4px!important;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)!important}.el9f .Wl1Q{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:absolute!important;top:0!important;left:0!important;width:100%!important;height:32px!important}.Hzv8wJC{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/box-shadow:0 0 20px 20px rgba(96,109,128,.15)!important}.g5l{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/background-color:#fff!important}.dPZIr08{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/background-color:#283459!important}.kLF4U{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:relative!important;z-index:2!important;flex-shrink:0!important;width:100%!important;height:100%!important;overflow:hidden!important;font-size:0!important}.CKOf7{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:relative!important;display:flex!important;flex-grow:1!important;flex-shrink:1!important;align-items:stretch!important;visibility:hidden!important}.WpzMVP0JF{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:absolute!important;top:0!important;left:0!important;display:block!important;width:100%!important;height:100%!important;margin:0!important;padding:0!important}.hbjOHqJ,.ZTKXefWN{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.hbjOHqJ{display:none;background-position:50%;background-size:cover}.WDQJ0LVzk{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;margin:0!important;padding:0!important;overflow:hidden!important}.Wl1Q{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0}.xN4Y6hDyD{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.xN4Y6hDyD svg{width:12px;height:12px;vertical-align:top}.YMXy .WfrJ6mkj4{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/min-width:0!important;max-width:44vh!important;margin:0 3.5vh 0 3vh!important}.WfrJ6mkj4{font-size:18px}.b2IZYdu0B{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.iVoyTk68Am,.Rl7WNnNyf{cursor:pointer}.Rl7WNnNyf{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.iVoyTk68Am{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.iVoyTk68Am:hover{background-color:#d9e9ff}.mzJ74leVRP{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.m8A .Rl7WNnNyf{color:#fff}.m8A .iVoyTk68Am{color:#fff;background-color:#535c7a}.m8A .iVoyTk68Am:hover{background-color:#5d6682}.YMXy{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:box-shadow .2s linear,background-color .2s linear,width .4s ease,height .4s ease,left .4s ease,top .4s ease,bottom .4s ease,right .4s ease!important;will-change:width,height,left,top,bottom,right!important}.sSGxjym2r6{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:box-shadow .2s linear,background-color .2s linear,margin-top .2s linear,transform .4s ease!important}.YMXy .kLF4U{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:width .4s,height .4s!important;will-change:width,height!important}.TcnOmp8RQT{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/transition:none!important}.Wl1Q{transition:opacity .2s}.FL9CtSqE4L .Wl1Q{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/display:block!important;opacity:0!important}.Icgl9K2Tm:not(.JIs2) .Wl1Q,.sFqt .Wl1Q{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/opacity:0!important}.Icgl9K2Tm:not(.JIs2) .xN4Y6hDyD,.sFqt .xN4Y6hDyD{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/display:none!important}.MSyo.JIs2.sSGxjym2r6{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/margin-top:32px!important}.fDLMQQY8wn .Wl1Q{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/opacity:1!important}.fDLMQQY8wn .xN4Y6hDyD{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/display:block!important}.Hzv8wJC .kLF4U{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/width:auto!important}.el9f{\n    /*    !* \u2757 \u041d\u0415 \u0412\u041d\u0423\u0422\u0420\u0418 SHADOW ROOT*!*/padding-top:32px!important;background-color:#ecf4f9!important}",""]),t.locals={reset:"P8g7",yaInPageStickyWrapper:"Icgl9K2Tm",yaInPageStickyWrapper__sticky:"fDLMQQY8wn",yaInPageStickyWrapper__sticky__flyroll:"el9f",yaInpageAdditionalContentContainer:"Wl1Q",yaInPageStickyWrapper__sticky__covering:"Hzv8wJC",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"g5l",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"dPZIr08",yaInPageWrapper:"kLF4U",yaInPagePlaceholderElement:"CKOf7",InPageLayout__videoSlot:"WpzMVP0JF",InPageLayout__packshotContainer:"hbjOHqJ",InPageLayout__slot:"ZTKXefWN",InPageLayout__videoSlotContainer:"WDQJ0LVzk",yaInpageCross:"xN4Y6hDyD",yaInPageStickyWrapper__variant__covering:"YMXy",yaInpageAdditionalContent:"WfrJ6mkj4",yaInpageAdditionalContent__adTitle:"b2IZYdu0B",yaInpageAdditionalContent__button:"iVoyTk68Am",yaInpageAdditionalContent__description:"Rl7WNnNyf",yaInpageAdditionalContent__buttonClickableArea:"mzJ74leVRP",yaInpageAdditionalContent_dark:"m8A",yaInPageStickyWrapper__variant__flyroll:"sSGxjym2r6",yaInPageStickyWrapper__unAnimated:"TcnOmp8RQT",yaInPageStickyWrapper__additionalContent_enabled:"FL9CtSqE4L",yaInPageStickyWrapper__detached:"JIs2",yaInPageStickyWrapper__inline:"sFqt",yaInPageStickyWrapper__isAnimating:"MSyo"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".gNx8rFkOqO{width:100%;transform-origin:0;will-change:transform}.gNx8rFkOqO,.zMdX5{position:absolute;height:2px}.uJQQD27YL{background-color:#ff1a2d;transform:scaleX(0)}.s5VT7{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TimelineBar:"gNx8rFkOqO",TimelineBar__container:"zMdX5",TimelineBar__progress:"uJQQD27YL",TimelineBar__background:"s5VT7"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".QUOqridfI{flex:1 1 0;margin-right:8px;color:#fff;font-weight:700;font-size:1em;font-family:"+i(25).locals.AD_FONT+";line-height:1.3}.Ximf{line-height:1.3;-webkit-line-clamp:2}.WRqmSZo9bQ .Ximf{font-size:.9em}.k2NohrAB{position:fixed;white-space:nowrap;visibility:hidden}.GVFdewDi{font-weight:400;font-size:.8em;white-space:-moz-pre-wrap;white-space:pre-wrap;white-space:-o-pre-wrap;word-break:break-all;-webkit-line-clamp:1}.GVFdewDi,.Ximf{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,InfoBlock:"QUOqridfI",InfoBlock__title:"Ximf",InfoBlock_multiline:"WRqmSZo9bQ",InfoBlock__titleSpy:"k2NohrAB",InfoBlock__domain:"GVFdewDi"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.i(i(99),""),t.i(i(19),""),t.push([e.i,".jCXt{display:inline-block;color:#000;font-weight:"+i(99).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(25).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.XFvo9PuJ{cursor:pointer}.aLLM38FEN{text-decoration:none}.XFvo9PuJ .NoXmeH{opacity:.915}.XFvo9PuJ:hover .NoXmeH{opacity:1}.DvG3{padding:4px;pointer-events:auto}.NoXmeH{display:flex;align-items:center;height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(99).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,Button:"jCXt",Button_active:"XFvo9PuJ",Button_link:"aLLM38FEN",Button__content:"NoXmeH",Button__clickable:"DvG3"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".V1i8q{width:100%;color:#498bff;font-weight:400;border-radius:8px;transition:background-color .1s ease-in}.zXm3zOsFW{display:flex;align-items:center;margin-right:13px}.RXow1Jn{margin-left:auto}.V1i8q:hover{background-color:#e5f2ff}.V1i8q .DvG3{padding:0}.a0OLaddD{padding:8px}.rk3xCaWs0{height:auto;font-size:14px;line-height:16px}",""]),t.locals={AbuseOptionButton:"V1i8q",AbuseOptionButton__leftIcon:"zXm3zOsFW",AbuseOptionButton__rightIcon:"RXow1Jn",Button__clickable:"DvG3",AbuseOptionButton__clickable:"a0OLaddD",AbuseOptionButton__content:"rk3xCaWs0"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".eeQ6q9{font-size:18px}.eeQ6q9 .VIG{height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.Utarpr{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.Utarpr .nqfbKo2sN{position:relative;background-color:rgba(38,38,38,.3);border-radius:4px;-webkit-backdrop-filter:blur(3px);backdrop-filter:blur(3px)}.Utarpr.B8l8mK7oJ:hover .nqfbKo2sN{background-color:rgba(0,0,0,.65)}.B8l8mK7oJ .NoXmeH{opacity:1}.B8l8mK7oJ .nqfbKo2sN{background-color:rgba(38,38,38,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"eeQ6q9",SquareButton__basecontent:"VIG",SquareButton:"Utarpr",SquareButton__basebutton:"nqfbKo2sN",SquareButton_active:"B8l8mK7oJ",Button__content:"NoXmeH"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".EPn0y{position:static}.Sa3ub1{width:29px;height:24px}.UH65B8a56N,.wOgT8XIEAh{display:flex;align-items:center;justify-content:center}.wOgT8XIEAh{width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.vN0gB{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,MuteButton:"EPn0y",MuteButton__icon:"Sa3ub1",MuteButton__content:"UH65B8a56N",MuteButton__iconContainer:"wOgT8XIEAh",MuteButton__iconContainer_middle:"vN0gB"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".vY906GvgN{cursor:pointer}.mz6HBkn{font-size:18px}.mz6HBkn .Eso{height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}.ZgMjA2s{width:60px;height:60px}.LxP{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"vY906GvgN",CirclePlayButton_middle:"mz6HBkn",CirclePlayButton__basecontent:"Eso",CirclePlayButton__icon:"ZgMjA2s",CirclePlayButton__icon_middle:"LxP"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){"use strict";function n(e){return r.a<e}i.d(t,"a",(function(){return n}));var r=i(101)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(57),r=i(29);const a=null!==r.c&&void 0!==r.c?r.c:Object(n.a)()},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(34);const r=Object(n.b)(window,"adsdkdebug")},function(e,t,i){"use strict";function n(e,t){if(void 0===t&&(t=!0),r.a&&t)return[];{const t=[];let n=e;for(;;)try{if(!(n=n.ownerDocument.defaultView.frameElement))return t;t.push(n)}catch(i){return t}}}i.d(t,"a",(function(){return n}));var r=i(64)},function(e,t,i){"use strict";function n(e){let t=e;const i=[e],{top:n}=e;for(;t!==n;)t=t.parent,i.push(t);return i}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(e){let t="",i="";if(e){Object(r.a)(e).reverse().forEach(e=>{let{location:n,referrer:r}=e;t=t||n,i=i||r})}return{location:t,referrer:i}}i.d(t,"a",(function(){return n}));var r=i(127)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(29),r=i(49);const a=n.b||r.a.iCookie},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(29),r=i(49);const a=n.g||(null===r.a||void 0===r.a?void 0:r.a.testIds)||void 0},function(e,t,i){"use strict";function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=i(22),a=i(128);const o=(void 0===s&&(s=window),Object(a.a)(s));var s,d=i(57),l=i(4),c=i(8);const u="production";var h=i(30),p=i(1),A=i(3);const m={idle:["initializing"],initializing:["initialized","disabled"]};var v=i(29);i.d(t,"a",(function(){return f}));const f=null!==v.d&&void 0!==v.d?v.d:new class{constructor(e){n(this,"state",new c.a({name:"idle"},(e,t)=>{const i=m[e.name];return!i||!Object(r.a)(i,t.name)||(Object(A.a)("RumWrapperClass: change state from ["+e.name+"] to ["+t.name+"]"),!1)})),n(this,"config",void 0),this.config=e,this.state.subscribeValueCondition(e=>"initializing"===e.name,()=>this.loadRum()),this.state.subscribeValueCondition(e=>"disabled"===e.name,()=>p.c.event({name:"RumIsDisabled",data:void 0}))}init(){this.state.dispatch({name:"initializing"})}logBundleTiming(e,t){const i=this.state.getValue();"disabled"!==i.name&&("initialized"===i.name?this.sendResTiming({name:e,src:t,state:i}):this.state.subscribeValueCondition(e=>"initialized"===e.name,i=>{this.sendResTiming({name:e,src:t,state:i})}))}logTimingAndLoadRum(e,t){"idle"===this.state.getValue().name&&this.init(),this.logBundleTiming(e,t)}isLoading(){return"initializing"===this.state.getValue().name}isLoaded(){return"initialized"===this.state.getValue().name}loadRum(){var e;let t=null===(e=this.config)||void 0===e?void 0:e.loadModule;t||(t=i(169).loadRumModule),t().then(e=>{this.initLoadedRum(e),e.isRumInited()?this.state.dispatch({name:"initialized",rum:e}):this.state.dispatch({name:"disabled"})}).catch(l.a)}initLoadedRum(e){const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Object(d.a)(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=o?"touch":"desktop",n={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":window.location.host,"-version":h.a,"-platform":i,"-env":u,"-url":window.location.href,"-domain":window.location.host,"-blocker":void 0};e.init(t,n)}sendResTiming(e){let{state:t,name:i,src:n}=e;t.rum.sendResTiming(i,n)}}},function(e,t,i){"use strict";function n(e,t){void 0===t&&(t=window);const{hostname:i}=Object(s.e)(e),n=Object(o.a)(t);return n?-1===d.c.indexOf(i)?e:n(e):e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function a(e){const{src:t,win:i}=e;return Object(l.a)(r({},c.a,e,{src:n(t,i)}))}i(46),i(13);var o=i(40),s=i(20),d=i(23),l=i(65),c=i(118);i.d(t,"a",(function(){return a}))},function(e,t,i){"use strict";function n(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!r(e)}const r=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1};i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var n=i(4),r=i(78);i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));let a=!1,o=!1,s=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>a=!0}),Object.defineProperty(t,"passive",{get:()=>o=!0}),Object.defineProperty(t,"capture",{get:()=>s=!0}),Object(r.a)(e,"click",n.a,t)}}catch(d){}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".VBN{position:static;margin-left:auto}.aSO{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.MedKXJjNu{opacity:.5;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.CMh{width:17px}",""]),t.locals={SkipButtonSmall:"VBN",SkipButtonSmall__content:"aSO",SkipButtonSmall__disabled:"MedKXJjNu",SkipButtonSmall__timeToSkipString__icon:"CMh"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".r7EJNOk{position:absolute;bottom:76px;left:0;padding-left:10px;overflow:hidden}.fT2 .r7EJNOk{right:0;bottom:50%;left:auto;transform:translateY(50%)}.laImOm .r7EJNOk{bottom:50%;transform:translateY(50%)}.yvH8tLCC .r7EJNOk{right:0;left:auto}",""]),t.locals={SkinActionButton:"r7EJNOk",SkinActionButton__position_right_center:"fT2",SkinActionButton__position_left_center:"laImOm",SkinActionButton__position_right_bottom:"yvH8tLCC"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.i(i(99),""),t.i(i(150),""),t.i(i(151),""),t.push([e.i,".fxu5M0Pu{position:absolute;top:2px;left:6px;display:inline-block;padding:4px;color:#fff;font-weight:"+i(99).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(25).locals.AD_FONT+";line-height:"+i(150).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 0 20px rgba(0,0,0,.2),1px 0 1px rgba(0,0,0,.1),0 1px 1px rgba(0,0,0,.1);transform-origin:bottom left;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.QoyH6Xv{top:4px}.hDYABoI1{top:4px;font-size:12px;line-height:"+i(151).locals.AD_LABEL_MIDDLE_HEIGHT+"}.QoyH6Xv.hDYABoI1{top:6px}.VTdhbC9k{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,AD_FONT_WEIGHT:""+i(99).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(150).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(151).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"fxu5M0Pu",AdLabel_withIcon:"QoyH6Xv",AdLabel_middle:"hDYABoI1",AdLabel_icon:"VTdhbC9k"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(13);const r=Date&&Object(n.a)(Date.now)?()=>Date.now():()=>(new Date).getTime()},function(e,t,i){"use strict";function n(e,t){return function(){try{e(...arguments)}catch(i){o.c.error({error:new a.a(i,{code:t})}),Object(r.a)(i)}}}i.d(t,"a",(function(){return n}));var r=i(26),a=i(0),o=i(1)},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(34);const r=(""+Object(n.b)(window,"adsdkecmaver")).toUpperCase(),a="ES2017"===r||"ES5"===r?r:void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(137),r=i(85);const a={onBeforeLoad:e=>{Object(r.d)(e,n.a)}}},function(e,t,i){"use strict";var n=i(13),r=i(2);const a="__ADB_CONFIG__";i.d(t,"a",(function(){return s}));const o=Object(r.a)(a)&&a.fn&&Object(n.a)(a.fn.encodeUrl)?a.fn.encodeUrl:void 0,s=void 0!==o?e=>o(e):void 0},function(e,t,i){"use strict";function n(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}i.d(t,"a",(function(){return n}))},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".fPUpkDBq9{display:inline-block;box-sizing:content-box;min-width:1em;min-height:1em;padding:0;overflow:hidden;color:#000;font-weight:400;font-size:inherit;font-family:Helvetica,Arial,sans-serif;line-height:inherit;white-space:nowrap;text-align:center;text-decoration:none;text-overflow:ellipsis;background-color:#ffdc00;border:.05em solid transparent;border-radius:1em;outline:none;box-shadow:0 6px 8px rgba(255,220,0,.53);cursor:pointer}.Hm2x{display:flex;align-items:center;justify-content:center;height:1em;padding:0 .3em}.mGGkodla9W{display:inline;min-width:1em;min-height:1em;padding-right:.4em;font-size:.47em}",""]),t.locals={ArrowButton:"fPUpkDBq9",ArrowButton__content:"Hm2x",ArrowButton__textContent:"mGGkodla9W"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".Yx89Ke{position:static}.XCFok1E{width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.k1pj89x9Y{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,PauseButton:"Yx89Ke",PauseButton__icon:"XCFok1E",PauseButton__icon_middle:"k1pj89x9Y"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(19),""),t.push([e.i,".IkrKw9{position:static}.eXW6W{width:"+i(19).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(19).locals.NORMAL_BUTTON_HEIGHT+"}.FvruC8U{width:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(19).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(19).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(19).locals.MIDDLE_BUTTON_HEIGHT,SquarePlayButton:"IkrKw9",SquarePlayButton__icon:"eXW6W",SquarePlayButton__icon_middle:"FvruC8U"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".MZk9A{position:absolute;width:24px;height:24px;cursor:pointer;pointer-events:auto}.MZk9A:not(.bW2d){top:8px;right:8px}.bW2d{top:4px;right:4px}.R2nYOhmNe{z-index:2}",""]),t.locals={AbuseBurgerButton:"MZk9A",AbuseBurgerButton_small:"bW2d",AbuseBurgerButton_inFullSize:"R2nYOhmNe"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".g955LM{position:absolute;top:0;right:0;width:30px;height:30px;cursor:pointer;pointer-events:auto}.g955LM.tmBxEm{width:35px;height:35px}.g955LM .LqyYBbL{width:30px;height:30px}.g955LM.tmBxEm .LqyYBbL{width:35px;height:35px}",""]),t.locals={AbuseButton:"g955LM",AbuseButton_middle:"tmBxEm",AbuseButton__icon:"LqyYBbL"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i(84),i(33);const n=i(4).a},function(e,t,i){"use strict";function n(e){const t=Object(a.a)(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:Object(r.a)(e.defaultView),referrer:e.referrer}))}i.d(t,"a",(function(){return n}));var r=i(72),a=i(103)},function(e,t,i){"use strict";function n(e){return"ontouchstart"in e}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));class n{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const r=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new n({})),function(){const n=t.apply(this,arguments);if(i.has(n))return i.get(n);const r=e.apply(this,arguments);return i.set(n,r),r}}},function(e,t,i){"use strict";function n(e,t){let{content:i,size:n}=void 0===t?{}:t;const r=e.ownerDocument.createElement("iframe");r.scrolling="no",r.setAttribute("allowfullscreen",""),r.style.display="block",n&&(r.height=n.height,r.width=n.width),e.appendChild(r);const a=r.contentDocument;return a.open(),i&&a.write(i),a.close(),a.body.style.margin="0",r.style.borderWidth="0",r}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function r(e){const{method:t,url:i,async:c=!0,data:u,responseType:h="text",onBeforeSend:p=o.a,onRetry:A=o.a,checkStatus:m=(e=>d===e),headers:v={},xhrConstructor:f=XMLHttpRequest,retries:g=0,timeout:b=0,withCredentials:y,onAbort:_,onSetup:O}=e;if(!f)return;const T=e.onSuccess?Object(a.a)(e.onSuccess):o.a,E=e.onError?Object(a.a)(e.onError):o.a;let S,w=!1,C=0,I=e=>{w=!0,I=o.a,S=e,P(new Error("Abort request")),"function"===typeof _&&_(e)};const P=t=>{if(N.onerror=null,N.onreadystatechange=null,C&&clearTimeout(C),C&&N.readyState!==l||w)try{N.abort()}catch(t){}if(!w)if(g>0){const i=A(t,N);if("boolean"!==typeof i||Boolean(i)||I(),w)return;r(n({},e,{onSetup:e=>{let{abort:t}=e;I=e=>t(e),w&&t(S)},retries:g-1}))}else I=o.a,E(t,N)},N=new f;try{N.open(t,i,c)}catch(D){return void P(D)}if(N.responseType=h,N.withCredentials=Boolean(y),Object(s.a)(v,(e,t)=>{try{N.setRequestHeader(t,e)}catch(D){}}),b>0&&isFinite(b)&&(C=window.setTimeout(()=>{P(new Error("Request timeout, "+i))},b)),N.onerror=P,N.onreadystatechange=()=>{if(N.readyState===l){const{status:e}=N;m(e)?(I=o.a,clearTimeout(C),T(N)):P(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof O||(O({abort:e=>I(e)}),!w))&&(p(N,e),!w))try{N.send(u)}catch(D){P(D)}}i.d(t,"a",(function(){return r}));var a=i(10),o=i(4),s=i(42);const d=200,l=4},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(21);const r=e=>Object(n.a)(e.navigator.sendBeacon)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n="adsdk-test-tag"},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(29),r=i(50);const a=n.f||r.b||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=r);for(let r=i;r<e.length;r++)if(n(e[r],t))return r;return-1},r=(e,t)=>e===t},function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var n=i(52),r=i(135),a=i(106),o=i(107),s=i(108),d=i(39),l=i(101),c=i(145);const u={SID:d.a,VSID:c.a,VAS_USER_SESSION_RANDOM:l.a,AB_FLAGS:n.a,ICOOKIE:a.a,TEST_IDS:o.a,AdditionalStatsRootFields:r.a,RUM_WRAPPER:s.a}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(5),r=i(100);const a=Object(r.a)(n.a)},function(e,t,i){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return a}));const r={OverlayTGO:"overlay_tgo",MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty"},a=n({},{InPage:"inpage",BannerAd:"banner_ad",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},r)},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n={ES5:"bundles",ES2017:"bundles-es2017"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));var n=i(75);const r="https://"+i(23).b+"/"+n.a+"-bundles/"},function(e,t,i){"use strict";const n=i(84).a;i.d(t,"a",(function(){return r}));const r=function(e){const t=n(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window)},function(e,t,i){"use strict";function n(e){const t=[];for(const[i,n]of e){const e=r(n,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function r(e,t){return a(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function a(e,t){return Object(h.a)(e,t,"0")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}var s=i(63),d=i(13),l=i(7),c=i(6),u=i(2),h=i(89);class p{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(o({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const n=t+i,r=a(e.toString(2),n).substr(-n,i);return parseInt(r,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return Object(u.a)(e)&&Object(l.a)(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return o({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return n((e=this.getTemplate(),t=this.props,Object(c.a)(e,e=>{let[i,n]=e;return[i,n&&t[n]||null]})))}slice(e,t){return p.sliceBits(this.serialize(),e,t)}}var A=i(30),m=i(27);i.d(t,"a",(function(){return f}));const v={AdSDKLoader:0,VpaidPlayerLoader:1,OldPythiaSurvey:4,AdLoader:11,BannerAd:12,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,OverlayTGO:18,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,ThemeEmpty:26,Rum:27,Examples:30,Test:31,TestVpaid:31};const f=new class extends p{getTemplate(){return[[10,"VERSION"],[5,"BUNDLE"],[36,"UNUSED"],[1,"ADBLOCK"]]}defaults(){return{VERSION:A.a,BUNDLE:v[m.c],UNUSED:0,ADBLOCK:Object(d.a)(s.a)}}}},function(e,t,i){"use strict";function n(e){return r?Object(a.a)(e.location.ancestorOrigins):[]}const r=Boolean(window.location.ancestorOrigins);var a=i(62);i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";var n=i(43),r=i(89),a=i(30);const o="VAS",s=e=>Object(r.a)(String(e%Math.pow(10,4)),4,"0"),d=()=>Object(r.a)(Date.now().toString().slice(0,10),10,"0");var l=i(3),c=i(29);i.d(t,"a",(function(){return u}));const u=(null===c.f||void 0===c.f?void 0:c.f.vsid)||c.h||(void 0===h&&(h=a.a),[Object(n.a)(44),o,s(h),d()].join("x"));var h;Object(l.a)(((null===c.f||void 0===c.f?void 0:c.f.vsid)?"Use VSID from player":c.h?"Use VSID from session":"Generate new VSID")+" ["+u+"]")},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".rBoXi{display:inline-block;color:#000;font-size:16px;font-family:"+i(25).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.vLARIiVt1K{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,PackshotButton:"rBoXi",PackshotButton__content:"vLARIiVt1K"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".RMSF9zGc1t{display:flex;align-items:center;box-sizing:border-box;min-width:0;height:100%;padding:10px 0}.AgVLgq07{display:flex;align-items:center;height:2.4em;padding:0 .5em;color:#000;font-weight:700;font-size:1em;font-family:"+i(25).locals.AD_FONT+";line-height:3;white-space:nowrap;background-color:#ffd500;border-radius:2px;cursor:pointer;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,ActionButton:"RMSF9zGc1t",ActionButton__content:"AgVLgq07"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".TRRnR{display:flex;flex-flow:column nowrap;max-height:calc(100% - 56px);padding:4px;overflow:hidden;font-size:16px;font-family:"+i(25).locals.AD_FONT+";letter-spacing:0;text-shadow:0 2px 2px rgba(0,0,0,.1)}.rJnqf{margin:0 auto 2px;padding:.25em;color:#fff;white-space:pre-wrap;text-align:center;background-color:rgba(38,38,38,.65);border-radius:4px}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,Subtitles__container:"TRRnR",Subtitles__subtitle:"rJnqf"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".l9Tc{position:absolute;right:6px;bottom:16px;left:6px;display:flex;flex-flow:column nowrap}.txde5G2Ns{display:flex}",""]),t.locals={BottomControls__container:"l9Tc",ButtonControls:"txde5G2Ns"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i(34);const r=Object(n.b)(window,"adsdktracelogs"),a=Boolean(r)||void 0},function(e,t,i){"use strict";i.d(t,"a",(function(){return r}));const n=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),n=[];for(let e=0;e<i.length;e++)n.push(i[e]);if("function"===typeof t){const e=n.filter(t);return e[e.length-1]}return n[n.length-1]}}(),r=n?n.src:""},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".j8d{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"j8d"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".XMz5K4D{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"XMz5K4D"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".Zec3g{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"Zec3g"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".Z5PD{position:absolute;bottom:0;left:0;width:100%;height:2px}",""]),t.locals={Timeline:"Z5PD"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,"@keyframes YyqVp{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.POwm0Ed8Pi{animation-name:YyqVp;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"POwm0Ed8Pi",spin:"YyqVp"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".xR3b7mp{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"xR3b7mp"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".mDIIX{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"mDIIX"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".PAQcH{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}",""]),t.locals={VideoAvatar:"PAQcH"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".Oir{position:absolute;top:8px;left:8px;display:flex;justify-content:space-between}",""]),t.locals={TgoButtonControls:"Oir"}},function(e,t,i){(t=e.exports=i(18)(!1)).i(i(25),""),t.push([e.i,".verW{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(25).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(25).locals.AD_FONT,SocialAdvertisingAdLabel:"verW"}},function(e,t,i){(t=e.exports=i(18)(!1)).push([e.i,".OEbvc6lD2B{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"OEbvc6lD2B"}},function(e,t){},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e){e.exports={be:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_ADS_TEXT:"Ad",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Enter your message",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"Submit",ABUSE_IMPROVE_REASON_TEXT:"State the reason:",ABUSE_OPTION_ABOUT:"Ads on Yandex",ABUSE_OPTION_ALREADY_PURCHASED:"Already purchased",ABUSE_OPTION_ANOTHER_REASON:"Another reason",ABUSE_OPTION_COMPLAINT:"Report",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Speculation",ABUSE_OPTION_HIDE:"Hide",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Illegal goods or services",ABUSE_OPTION_NOT_INTERESTED:"Not interested",ABUSE_OPTION_OVERLAP_CONTENT:"Covers page content",ABUSE_OPTION_POLITICAL_SOCIAL:"Political ad",ABUSE_OPTION_SCAMMERS:"Scammers",ABUSE_OPTION_SEEN_TOO_OFTEN:"I see this ad too often",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Shocking content",ABUSE_OPTION_UNPLEASANT_CONTENT:"I don't like it",ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"Read more",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"Read more on the website",THEME_EMPTY_ACTION_BUTTON_LABEL:"Go",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_ADS_TEXT:"\u0420\u0435\u043a\u043b\u0430\u043c\u043d\u043e\u0435 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",ABUSE_IMPROVE_REASON_TEXT:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443:",ABUSE_OPTION_ABOUT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430 \u043d\u0430 \u042f\u043d\u0434\u0435\u043a\u0441\u0435",ABUSE_OPTION_ALREADY_PURCHASED:"\u0423\u0436\u0435 \u043f\u0440\u0438\u043e\u0431\u0440\u0435\u0442\u0435\u043d\u043e",ABUSE_OPTION_ANOTHER_REASON:"\u0414\u0440\u0443\u0433\u0430\u044f \u043f\u0440\u0438\u0447\u0438\u043d\u0430",ABUSE_OPTION_COMPLAINT:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f",ABUSE_OPTION_FALSE_INFO_SOCIAL:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_OPTION_HIDE:"\u0421\u043a\u0440\u044b\u0442\u044c",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"\u041d\u0435\u0437\u0430\u043a\u043e\u043d\u043d\u044b\u0439 \u0442\u043e\u0432\u0430\u0440/\u0443\u0441\u043b\u0443\u0433\u0430",ABUSE_OPTION_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u0435\u0442",ABUSE_OPTION_OVERLAP_CONTENT:"\u041f\u0435\u0440\u0435\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_POLITICAL_SOCIAL:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_OPTION_SCAMMERS:"\u042d\u0442\u043e \u043c\u043e\u0448\u0435\u043d\u043d\u0438\u043a\u0438",ABUSE_OPTION_SEEN_TOO_OFTEN:"\u0412\u0438\u0436\u0443 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0447\u0430\u0441\u0442\u043e",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_OPTION_UNPLEASANT_CONTENT:"\u041c\u043d\u0435 \u044d\u0442\u043e \u043d\u0435\u043f\u0440\u0438\u044f\u0442\u043d\u043e",ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_DOMAIN:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DISTANCE_SALES:"\u0420\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043f\u0440\u043e\u0434\u0430\u0432\u0446\u0430 \u043d\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u0438\u0440\u0443\u0435\u043c\u043e\u043c \u0441\u0430\u0439\u0442\u0435.",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435",THEME_EMPTY_ACTION_BUTTON_LABEL:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_ADS_TEXT:"Reklam",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"Mesaj\u0131n\u0131z\u0131 girin",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"G\xf6nder",ABUSE_IMPROVE_REASON_TEXT:"Nedenini a\xe7\u0131klay\u0131n:",ABUSE_OPTION_ABOUT:"Yandex'te reklam",ABUSE_OPTION_ALREADY_PURCHASED:"Zaten sat\u0131n al\u0131nd\u0131",ABUSE_OPTION_ANOTHER_REASON:"Ba\u015fka bir neden var",ABUSE_OPTION_COMPLAINT:"\u015eikayet et",ABUSE_OPTION_FALSE_INFO_SOCIAL:"Yanl\u0131\u015f bilgi",ABUSE_OPTION_HIDE:"Gizle",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"Yasad\u0131\u015f\u0131 mal/hizmet",ABUSE_OPTION_NOT_INTERESTED:"\u0130lgilenmiyorum",ABUSE_OPTION_OVERLAP_CONTENT:"\u0130\xe7eri\u011fin \xfczerini kapl\u0131yor",ABUSE_OPTION_POLITICAL_SOCIAL:"Siyasi i\xe7erikli reklam",ABUSE_OPTION_SCAMMERS:"Doland\u0131r\u0131c\u0131lar",ABUSE_OPTION_SEEN_TOO_OFTEN:"Bunu \xe7ok s\u0131k g\xf6r\xfcyorum",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"Rahats\u0131z edici i\xe7erik",ABUSE_OPTION_UNPLEASANT_CONTENT:"Ho\u015fuma gitmiyor",ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_ADS_TEXT:"",ABUSE_CUSTOM_FIELD_PLACEHOLDER:"",ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT:"",ABUSE_IMPROVE_REASON_TEXT:"",ABUSE_OPTION_ABOUT:"",ABUSE_OPTION_ALREADY_PURCHASED:"",ABUSE_OPTION_ANOTHER_REASON:"",ABUSE_OPTION_COMPLAINT:"",ABUSE_OPTION_FALSE_INFO_SOCIAL:"",ABUSE_OPTION_HIDE:"",ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE:"",ABUSE_OPTION_NOT_INTERESTED:"",ABUSE_OPTION_OVERLAP_CONTENT:"",ABUSE_OPTION_POLITICAL_SOCIAL:"",ABUSE_OPTION_SCAMMERS:"",ABUSE_OPTION_SEEN_TOO_OFTEN:"",ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL:"",ABUSE_OPTION_UNPLEASANT_CONTENT:"",ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DISTANCE_SALES:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_DEFAULT_TITLE:"",THEME_EMPTY_ACTION_BUTTON_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t,i){"use strict";i.r(t),i.d(t,"loadRumModule",(function(){return r}));var n=i(44);const r=()=>new Promise((e,t)=>{Object(n.b)({moduleName:"Rum",version:void 0,onSuccess:t=>{e(t)},onError:t,win:window,timeout:n.a})})},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],a=0;a<n;a++)if(t=i[a],e.call(r,t,a,i))return t})},function(e,t){e.exports={initMoatTracking:function(e,t,i,n){var r=document.createElement("script"),a={events:[],addEvent:function(e){s.sendEvent?(a.events&&(s.sendEvent(a.events),a.events=!1),s.sendEvent(e)):a.events.push(e)}},o=function(t){return function(){var n,r=-1;if(e&&e.getAdVolume&&(n=e.getAdVolume()),"number"==typeof n&&!isNaN(n)&&0<=n&&(r=n),a.addEvent({type:t,adVolume:r}),-1!==h.indexOf(t)&&e&&e.unsubscribe&&!u)for(var o in u=!0,c)if(c.hasOwnProperty&&c.hasOwnProperty(o))try{e.unsubscribe(c[o],o)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:a.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,l,c={AdStarted:o("AdStarted"),AdStopped:o("AdStopped"),AdSkipped:o("AdSkipped"),AdLoaded:o("AdLoaded"),AdLinearChange:o("AdLinearChange"),AdSizeChange:o("AdSizeChange"),AdExpandedChange:o("AdExpandedChange"),AdSkippableStateChange:o("AdSkippableStateChange"),AdDurationChange:o("AdDurationChange"),AdRemainingTimeChange:o("AdRemainingTimeChange"),AdVolumeChange:o("AdVolumeChange"),AdImpression:o("AdImpression"),AdClickThru:o("AdClickThru"),AdInteraction:o("AdInteraction"),AdVideoStart:o("AdVideoStart"),AdVideoFirstQuartile:o("AdVideoFirstQuartile"),AdVideoMidpoint:o("AdVideoMidpoint"),AdVideoThirdQuartile:o("AdVideoThirdQuartile"),AdVideoComplete:o("AdVideoComplete"),AdUserAcceptInvitation:o("AdUserAcceptInvitation"),AdUserMinimize:o("AdUserMinimize"),AdUserClose:o("AdUserClose"),AdPaused:o("AdPaused"),AdPlaying:o("AdPlaying"),AdError:o("AdError")},u=!1,h=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in c)c.hasOwnProperty&&c.hasOwnProperty(t)&&e.subscribe(c[t],t)}();try{l=(d=t.ownerDocument).defaultView||d.parentWindow}catch(p){d=document,l=window}return l[i]=s,r.type="text/javascript",t&&t.insertBefore(r,t.childNodes[0]||null),r.src="https://z.moatads.com/"+n+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||a?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(a=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function n(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function r(e){(new Image).src=e}var a=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(n){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,a,o){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(a),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=o,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(a=0;a<s.length;a++)if(s[a]){var d=s[a].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(c){}for(var l in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),r(n(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(l)&&o.subscribe(this.onVPAIDEvent.bind(this,l),l);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return r(n(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),r(n(i(c=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var a=t.playerSizeParams,o=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in a)if(a.hasOwnProperty(s)){var d=a[s];(!d[0]||o>=d[0])&&(!d[1]||o<d[1])&&r(n(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&r(n(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(l=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&r(n(i("AdVideoClick"+parseInt(l,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var l=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);r(n(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&l.state&&r(n(i(e+l.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var c=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;r(n(i(t.eventsMap[e]+c),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&r(n(i("AdVideoCompleteMRC"),this.adParameters)),r(n(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&r(n(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var a=this;setTimeout((function(){a.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)r(n(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,r(n(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,n){if(this.intersectionSupport)return t.match(this.hasFocus(),n,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var r=this.realWindow,a=this.rootElement.getBoundingClientRect(),o=t.calculateArea(a,r);try{for(;r!==e.top;){var s=r.name||(r.name="wb-"+Math.round(1e6*Math.random()).toString(16));a=(r=r.parent).frames[s].frameElement.getBoundingClientRect(),o=Math.min(t.calculateArea(a,r),o)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),n,o,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var a=[],o=0;o<this.observerData.length;o++){var s=this.observerData[o];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?r(n(i(s.name+t.VIEWABLE),this.adParameters)):a.push(s)}this.observerData=a},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,r(n(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,n,r){var a=t.NOT_VIEWABLE;return(e||!i)&&n>=r&&(a=t.VIEWABLE),{state:a,focus:e,percent:n}},t.calculateArea=function(e,t){var i=e.width*e.height,n=e.width,r=e.height;return 0>e.top&&(r+=e.top),e.bottom>t.innerHeight&&(r-=e.bottom-t.innerHeight),0>e.left&&(n+=e.left),e.right>t.innerWidth&&(n-=e.right-t.innerWidth),n*r/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function n(e,t,i,n,r,a,o){var s,d,l=document.createElement("script"),c=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:a},dispatchEvent:function(e){u.sendEvent?(c&&(c.push(e),e=c,c=!1),u.sendEvent(e)):c&&c.push(e)},clientCallback:o};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(h){s=document,d=window}return d[t]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src=["https://yast","atic.net/pc","ode-static/measurers/"].join("")+r+"/moat/"+n+"/moatvideo.js#"+t,u}i.r(t),i.d(t,"initMoatTracking",(function(){return n}))},function(e,t){e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},function(e,t,i){"use strict";function n(e){return"number"===typeof e&&isFinite(e)}function r(e){return"number"===typeof e&&isFinite(e)&&e>0}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function o(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(Object($o.a)(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:n}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i||0,totalVideoFrames:n}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?a({},ts,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):ts}(e),{droppedVideoFrames:i,totalVideoFrames:o}=t;let s=is.droppedVideoFramesRatio;return r(o)&&n(i)&&(s=i/o),a({},t,{droppedVideoFramesRatio:s})}function s(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function l(e,t){return t===e.substring(e.length-t.length)}function c(e){const{hostname:t}=Object(ls.e)(e);return t===$s||l(t,"."+$s)}function u(e){if(!e)return!1;const{hostname:t}=Object(ls.e)(e);return!(!t||0===t.length)&&ed(id,e=>e===t||l(t,"."+e))}function h(e){let{url:t,options:i,ignoreAbd:n=!1,win:r}=e;if(Object(ds.a)(os.a)&&!n)return t;if(!u(t)&&!c(t))return t;const a=Math.round(100*i.visibility),o=Math.round(i.size.width),s=Math.round(i.size.height),d=Math.round(100*i.videoVolume),l=Math.round(i.videoAvatarSize.width),h=Math.round(i.videoAvatarSize.height);return Object(ls.b)(t,{[As]:String(Ps.a),[ms]:Ns.c,[vs]:String(a),[fs]:String(o),[gs]:String(s),[bs]:String(l),[ys]:String(h),[us.a]:String(nd.a.serialize()),[_s]:Js(),[Os]:cs.a,[Is]:Zs(r),[Es]:ss.b,[Ss]:ss.a?"0":"1",[hs]:String(Date.now()),[ps]:String((new Date).getTimezoneOffset()),[Ts]:sd?"0":"1",[ws]:String(d),[Cs]:i.videoMuted?"1":"0"},{override:!1})}function p(e){(new Image).src=e}function A(e,t){if(u(e)||c(e)){if(function(e,t){return!!ld&&window.navigator.sendBeacon(e,t)}(e,t))return}else u(e)&&Xo.c.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:Yo.c});p(e)}function m(e){let{error:t,trackingUrls:i}=e;Object(Ko.a)("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=Object(Zo.a)(e,e=>h({url:e,options:as,win:window}));Object(Jo.a)(t,e=>A(e))}(i)}function v(e,t){void 0===t&&(t=[]),Xo.c.errorToStats(e),m({error:e,trackingUrls:t})}function f(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function g(e){const t={};for(const i in e)Object(Ad.a)(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function b(e,t){const i={};return Object(md.a)(e).forEach(n=>{i[n]=t(e[n],n)}),i}function y(e,t,i){const n=()=>e.map(e=>e.getValue());let r=t(...n());i(r);const a=()=>{const e=t(...n());r!==e&&(r=e,i(e))},o=e.map(e=>e.add(a));return()=>{Object(gd.a)(o)}}function _(e,t){return void 0===t&&(t=1e6),function(e){let t="",i=0;for(;i<e.length;){const n=e.charCodeAt(i++),r=e.charCodeAt(i++),a=e.charCodeAt(i++),o=n>>2,s=(3&n)<<4|r>>4;let d=(15&r)<<2|a>>6,l=63&a;isNaN(r)?d=l=64:isNaN(a)&&(l=64),t=t+Dd.charAt(o)+Dd.charAt(s)+Dd.charAt(d)+Dd.charAt(l)}return t}(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);let a;if(r<128?a=String.fromCharCode(r):r>127&&r<2048?(a=String.fromCharCode(r>>6|192),a+=String.fromCharCode(63&r|128)):(a=String.fromCharCode(r>>12|224),a+=String.fromCharCode(r>>6&63|128),a+=String.fromCharCode(63&r|128)),i.length+a.length>t)break;i+=a}return i}(e,3*t/4|0))}function O(e){return function(e){const t=[];let i=0;for(;i<e.length;){const n=e.charCodeAt(i);if(n<128)t.push(String.fromCharCode(n)),i++;else if(n>191&&n<224){const r=e.charCodeAt(i+1);t.push(String.fromCharCode((31&n)<<6|63&r)),i+=2}else{const r=e.charCodeAt(i+1),a=e.charCodeAt(i+2);t.push(String.fromCharCode((15&n)<<12|(63&r)<<6|63&a)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const n=Dd.indexOf(e.charAt(i++)),r=Dd.indexOf(e.charAt(i++)),a=Dd.indexOf(e.charAt(i++)),o=Dd.indexOf(e.charAt(i++)),s=n<<2|r>>4,d=(15&r)<<4|a>>2,l=(3&a)<<6|o;t.push(String.fromCharCode(s)),64!==a&&t.push(String.fromCharCode(d)),64!==o&&t.push(String.fromCharCode(l))}return t.join("")}(e))}function T(e,t){const i=e.style;for(const n in t)if(t.hasOwnProperty(n)){i[il(n)]=t[n]}}function E(e,t){Object(md.a)(t).forEach(i=>{const n=t[i];null===n?e.removeAttribute(i):e.setAttribute(i,n)})}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function D(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e){return[].concat.apply([],e)}function k(e,t){const i=[],n=[];return Object(Jo.a)(e,(r,a)=>{t(r,a,e)?i.push(r):n.push(r)}),[i,n]}function V(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function B(e){if(void 0===e||null===e)return"";const{documentElement:t}=e,{tagName:i}=t;return"string"===typeof i?i:""}function L(e,t,i){if(void 0===i&&(i=""),e.hasAttribute(t)){var n;const i=e.getAttribute(t);return null!==(n=null===i||void 0===i?void 0:i.trim())&&void 0!==n?n:""}return i}function j(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function M(e){return Boolean(e&&j(e).length)}function x(e){try{return Object(Kd.a)(e)?JSON.parse(e):void 0}catch(t){return}}function U(e){const t=parseInt(L(e,"width",0),10),i=parseInt(L(e,"height",0),10),n=parseInt(L(e,"bitrate",0),10),a=L(e,"minBitrate",""),o=a?parseInt(a,10):void 0,s=L(e,"maxBitrate",""),d=s?parseInt(s,10):void 0,l=L(e,"codec",""),c={width:t,height:i,bitrate:n,type:L(e,"type"),url:j(e)};return Object(hl.a)(l)&&(c.codec=l),r(o)&&(c.minBitrate=o),r(d)&&(c.maxBitrate=d),r(o)&&r(d)&&o>d&&Xo.c.error({error:new qo.a({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:c}})}),c.url?c.type?c:(Xo.c.error({error:new qo.a({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:c}})}),null):(Xo.c.error({error:new qo.a({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:c}})}),null)}function F(e){const t=e.querySelector("StaticResource");return{width:parseInt(L(e,"width",0),10),height:parseInt(L(e,"height",0),10),type:t?L(t,"creativeType"):null,url:t?j(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function H(e){const t={};return Object($o.a)(e)&&Object(Jo.a)(Object(md.a)(e),i=>{const n=e[i];Array.isArray(n)&&(t[i]=Object(wd.a)(n,e=>"string"===typeof e))}),t}function W(){const e={};for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return Object(Jo.a)(i,t=>{Object(Jo.a)(Object(md.a)(t),i=>{const n=e[i]||[],r=t[i]||[];e[i]=[...n,...r]})}),e}function z(e){if(void 0===e)return;const t=Number(e);return r(t)?t:void 0}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Y(e){const t=Ml(Ql);if(!Object($o.a)(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),Object($o.a)(e.controlsSettings))if(Object($o.a)(e.controlsSettings.controlsVisibility)&&Object(Yl.a)(e.controlsSettings.controlsVisibility,(e,i)=>{Xl.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),Object($o.a)(!1===e.controlsSettings.visibility)&&(t.controlsVisibility=G({},Kl)),Object(hl.a)(e.controlsSettings.controlsVariant)){const{controlsVariant:i}=e.controlsSettings;"regular"===i?t.controlsVariant="regular":"banner"===i?t.controlsVariant="banner":Xo.c.error({error:new qo.a({code:"INCORRECT_CONTROLS_VARIANT",details:{variant:i}})})}else t.controlsVariant="regular";return delete t.visibility,t}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function X(e){const{packshotSettings:t}=e;if(!Object($o.a)(t))return Jl;const{isEnabled:i}=t;return q({},Jl,{isEnabled:!1!==i&&void 0})}function K(e){const t=Object($o.a)(e)?e:{},i=[],a="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,zl):void 0;let o;return void 0!==t.skipDelay&&(n(t.skipDelay)&&t.skipDelay>=0?o=t.skipDelay:i.push(new qo.a({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"boolean"===typeof t.showGuiForVpaid?t.showGuiForVpaid:void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),description:"string"===typeof t.description?t.description:void 0,skipDelay:o,videoTimeout:r(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:r(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:a,bufferEmptyLimit:r(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?H(t.trackingEvents):{},controlsSettings:Y(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:z(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:_d,packshotSettings:X(t)},errors:i}}function Q(e){return"string"!==typeof e?NaN:Object(Id.a)(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function J(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return n(t)?{unit:"portion",value:t/100}:void 0}const t=Q(e);if(n(t))return{unit:"seconds",value:t}}function Z(e){return"number"===typeof e&&isFinite(e)&&e>=0}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function te(){return(te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ie(e){let{url:t,data:i,timeout:n,doRequest:r=oc,withCredentials:a}=e;return new Promise(async(e,o)=>{"https:"===window.location.protocol&&(t=function(e){return ac.a.href=e,ac.a.protocol="https:",ac.a.href}(t));const s=rc(n),d=r({url:t,data:i,withCredentials:a});try{const t=await Promise.race([d,s]);if(t){return e(te({},t,{xml:V(t.responseText)}))}return o({reason:"timeout",error:new Error("XHR Timeout")})}catch(l){return o(l)}})}function ne(e,t){let i=!1;const n=function(){const n=i?t:e;return i=!0,n.apply(this,arguments)};return function(){return n.apply(this,arguments)}}function re(e){Object(Jo.a)(e,e=>Xo.c.error({error:e}))}function ae(e){let{win:t,methodName:i,data:n,id:r}=e;t.postMessage({methodName:i,data:n,id:r},"*")}function oe(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)Object(Ad.a)(e,i)&&t.push(e[i]);return t}}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function le(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ce(e,t){const i=window,n=i.document;if(t&&(r=function(e){return e.location.host}(i))&&r&&0!==r.length&&ed(yc,e=>e===r||function(e,t){return t===e.substring(e.length-t.length)}(r,"."+e)))return t;var r;let a=ue(e,n);if("t\n"===a&&i.top!==i.self)try{a=ue(e,i.parent.document)}catch(o){}return _(a,e)}function ue(e,t){const i=[];let n=0;i.push("t"+(t.title||"")),n+=i[0].length;for(let r=1;r<4&&n<e;r++){const e=t.getElementsByTagName("h"+r),a=e.length;for(let t=0;t<a;t++){const a=he(e[t]);n+=a.length,i.push(""+r+a)}}return i.join("\n")+"\n"}function he(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function pe(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function Ae(e){return Boolean(e.YA_TURBO_PAGES)}function me(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function ve(e){void 0===e&&(e=window);let t="";const i=e.context,n=e.Ya;return me(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():n&&n.Context&&n.Context.AdvManager&&n.Context.AdvManager.getSkipToken&&(t=n.Context.AdvManager.getSkipToken()),t}function fe(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Sc.BLUETOOTH:return 3;case Ec.CELL_2G:return.384;case Ec.CELL_3G:case Sc.CELLULAR:return 2;case Sc.WIMAX:return 37;case Sc.NONE:return 0;case Ec.ETHERNET:case Sc.ETHERNET:case Ec.WIFI:case Sc.WIFI:case Sc.MIXED:return 10;case Ec.UNKNOWN:case Sc.UNKNOWN:case Sc.OTHER:}return-1}function ge(){const e={width:window.innerWidth,height:window.innerHeight},t=Tc(),i={win_width:wc(e.width),win_height:wc(e.height),pixel_ratio:_c(),bandwidth:fe()};return t&&(i.quirks=t),i}function be(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return Pc()+e}function ye(e){return void 0===e&&(e=window),String(e.location)}function _e(e){return void 0===e&&(e=window),_(kc(e.document,"_ym_uid")||"")}function Oe(e){return void 0===e&&(e=window),e.location.hostname}function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Se(e,t){void 0===t&&(t="");const{params:i,bids:n,matchIdDirect:r=!1,reloadCounter:a}=e,o=Ee({},function(e){const t=e.win||window,i=void 0===e.isTurbo?Ae(t):e.isTurbo,n=ed(jc,e=>e.test(t.location.hostname));return Bc(Ee({},e,{win:t,isTurbo:i,addsSsSkipToken:n}))}(e),i||{},r?{"matchid-direct":1}:{},{"enable-page-options":65536});if(Object(Jo.a)(Mc,e=>{o[e]=void 0}),o.pk)try{o.pk=decodeURIComponent(o.pk)}catch(s){}if(n){const e=n.map(e=>Ee({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),o.bids=_(pe(e)||"")}return o.grab=ce(Lc-t.length),o.utf8="\u2713",a&&(o.adf_refresh=a),o}function we(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:n,ownerId:r,domain:a=xc}=e;return"https://"+a+("/"+r+"/"+(t=n?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:Se(e,t)}}function Ce(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Pe(e,t){const i=Object(Gd.a)(window);let n;try{n=function(e){const{base:t,queryParams:i}=we(e);return Object(ls.b)(t,i)}(Ie({},e,{layoutConfig:new Cc,useXhr:!0,domain:Uc}))}catch(a){throw new qo.a(a,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!Ce(n))throw new qo.a({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const r=h({url:n,options:t,ignoreAbd:!0,win:window});return i?i(r):r}async function Ne(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:n}=e;const r=Pe(t,i),a=bc({secureMode:n,url:r})?Vl:oc;try{const e=await a({url:r,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=x(e),i=[];if(!Object($o.a)(t))throw new qo.a({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:n,data:r}=t;if(Array.isArray(n)&&n.length>0)throw new qo.a({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(r))throw new qo.a({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const a=Object(wd.a)(r,(e,n)=>{if(!Object($o.a)(e)||!Object($o.a)(e.attributes))return i.push(new qo.a({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:n}})),!1;const{campaignId:r,vastBase64:a}=e.attributes;return"string"===typeof a&&a.length>0||("string"===typeof r&&r.length>0||(i.push(new qo.a({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:n}})),!1))});if(0===a.length)throw new qo.a({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return a.length>1&&i.push(new qo.a({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:a[0].attributes,errors:i}}(e.responseText);return re(i),t}catch(o){if(Object(Md.a)(o))throw o;throw new qo.a(o,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:r}})}}function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Re(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ke(e){return e.split("?")[0].split("#")[0]===qc}function Ve(e){return!!Object($o.a)(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function Be(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!Object($o.a)(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!Object($o.a)(i))return!1;const{data_params:n}=i;if(!Object($o.a)(n))return!1;const{misc:r}=n;if(!Object($o.a)(r))return!1;const{layout_type:a}=r;return"clickable_video"===a}function Le(){return(Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Me(e){let t;try{t=JSON.parse(e)}catch(u){throw new qo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!Object($o.a)(t))throw new qo.a({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Object(Cd.a)(i)||0===i.length)return{url:ru,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[n]=i;if(!Ve(n))throw new qo.a({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const r=function(e){const{type:t}=e;return t===Zc.Overlay?"OverlayTGO":t===Zc.Motion?"MotionTGO":t===Zc.VpaidCreative?"ThemeEmpty":void 0}(n);if(r)return{url:Jc[r],isNonLinear:"OverlayTGO"===r,adFormatType:nu[r],isOldVastFormat:!1};const{theme:a}=t,o=Object(hl.a)(a),s="video-banner_theme_empty"===a,d="video-banner_survey"===a,l="video-banner_interactive-viewer"===a,c={url:qc,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:pc(i,e=>e.url!==iu.url)};if(l)return c;if(Be(a,t))return{url:cu,isNonLinear:!1,adFormatType:"clickableVideo",isOldVastFormat:!0};if(o){const e=(()=>{switch(!0){case s:return"themeEmpty";case d:return"survey";default:return"vpaidCreative"}})();return{url:s||d?cu:lu,isNonLinear:!1,adFormatType:e,isOldVastFormat:!0}}return Xo.c.event({name:"DetectInteractiveViewerAsDefault",probability:Yo.a,data:{adParametersObject:t}}),c}function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ge(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function Ye(e){const{adParametersObject:t,description:i}=e;if(!Object($o.a)(t))throw new qo.a({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:n,interactiveElements:r,mediaFiles:a}=t,o=ze({},Ge(t,["tickerData","interactiveElements","mediaFiles"]),{adParameters:{description:i,tickerData:n,interactiveElements:r},mediaFiles:[...a,iu]});return ze({},e,{mediaFiles:[mu],adParametersObject:o,adParameters:JSON.stringify(o)})}function qe(e){const{adParametersObject:t}=e;if(!Object($o.a)(t))throw new qo.a({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:n,HAS_DOMAIN:r,HAS_AGE:a,HAS_LEGAL:o,LEGAL_TEXT:s}=t,d=ze({},Ge(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE","HAS_LEGAL","LEGAL_TEXT"]),{adParameters:ze({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:n}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:r}:{},"HAS_AGE"in t?{HAS_AGE:a}:{},"HAS_LEGAL"in t?{HAS_LEGAL:o}:{},"LEGAL_TEXT"in t?{LEGAL_TEXT:s}:{}),mediaFiles:[vu]});return ze({},e,{mediaFiles:[mu],adParametersObject:d,adParameters:JSON.stringify(d)})}function Xe(e){var t;const{adParametersObject:i}=e;if(!Object($o.a)(i))throw new qo.a({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const n=ze({},i,{mediaFiles:[fu,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:ze({},i)}),{duration:a}=i,o=r(a)?a:gu;return ze({},e,{mediaFiles:[mu],adParametersObject:n,adParameters:JSON.stringify(n),durationLimit:o})}function Ke(e){const{adParametersObject:t}=e;if(!Object($o.a)(t))throw new qo.a({code:"CANNOT_CONVERT_VAST_AD_INTO_CLICKABLE_VIDEO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const i=function(e){if(!Object($o.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object($o.a)(t))return;const{data_params:i}=t;if(!Object($o.a)(i))return;const{misc:n}=i;if(!Object($o.a)(n))return;const{object_id:r}=n;if(!Object(Kd.a)(r))return;const a=i[r];if(!Object($o.a)(a))return;const{click_url:o}=a;if(!Object($o.a)(o))return;const{action_button:s}=o;return Object(Kd.a)(s)?s:void 0}(e.adParametersObject),n=ze({},e.adParametersObject,{adParameters:e.adParametersObject});return ze({},e,{mediaFiles:[mu],adParametersObject:n,adParameters:JSON.stringify(n),playbackAdParameters:ze({clickThroughUrl:i},t.playbackParameters)})}function Qe(){return(Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Je(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=Me(e.adParameters)}catch(s){return Xo.c.event({name:"PrepareYandexVastDetectionError",data:s}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,n="themeEmpty"===t.adFormatType,r="survey"===t.adFormatType,a="interactiveViewer"===t.adFormatType,o="clickableVideo"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:n}=e.adParametersObject;a&&t&&Xo.c.error({error:new qo.a({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(n)&&n.length>0&&Xo.c.error({error:new qo.a({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!Xc){if(o)return{vastAd:Ke(e),reason:"ConvertClickableOnlyVideo"};if(n)return{vastAd:Xe(e),reason:"ConvertVideoBannerThemeEmpty"};if(a)return{vastAd:Ye(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:qe(e),reason:"ConvertMotionVpaidIntoAdCreative"};if(r)return{vastAd:Qe({},e,{mediaFiles:[pu]}),reason:"ConvertVideoBannerSurvey"}}return{vastAd:e,reason:void 0}}function Ze(e){const{adParametersObject:t}=e;return!!t&&Be(t.theme,t)}function $e(e){const t=e.split("?")[0].split("#")[0];return Object(xd.a)(du,t)}function et(e){let{mediaFiles:t,adParametersObject:i}=e;if((null===i||void 0===i?void 0:i.theme)===yu)return!0;const[n]=t;return void 0!==n&&function(e){const t=e.split("?")[0].split("#")[0];return Object(xd.a)(bu,t)}(n.url)}function tt(e){const{adParametersObject:t}=e;return(null===t||void 0===t?void 0:t.theme)===Ou&&_u(e)}function it(e){return r(e)&&function(e){return n(e)&&Math.floor(e)===e}(e)}function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function at(e){return new Promise((t,i)=>{Object(Zu.a)(rt({},e,{onSuccess:t,onError:i}))})}function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function st(e,t){sh.ya||(sh.ya={}),sh.ya.isDeploying=!0,function e(t,i){const n=i.split(".");let r=window;for(let o=0;o<n.length-1;o++)r=r[n[o]];const a=n[n.length-1];if(void 0===r[a])r[a]=t;else if("object"===typeof r[a])for(const o in t)t.hasOwnProperty(o)&&e(t[o],i+"."+o)}(e,t),delete sh.ya.isDeploying}function dt(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function lt(e){if(!Object($o.a)(e))return;const t={},i=["string","number","boolean"];for(const n in e)e.hasOwnProperty(n)&&i.indexOf(typeof e[n])>=0&&(t[n]=e[n]);return t}function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ut(e){return"number"===typeof e.repeatNumber}function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function pt(e){const{adBreak:t}=e;return Object(ds.a)(os.a)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:n}=t;return u(n)?h({url:Object(ls.b)(n,ph(e)),options:i,win:window}):n}(e)}function At(e){return function(e,t){let i=e;return Object(Jo.a)(Object(ju.a)(t),n=>{let[r,a]=n;if(void 0===a)return;const o="["+r+"]";if(a!==o)for(;i.indexOf(o)>-1;)Object(Yo.e)()&&Xo.c.event({name:"ReplaceVastMacro",data:{macroName:r,macroValue:a,stringToReplace:e,macros:t}}),i=i.replace(o,a)}),i}(e,bh)}function mt(e){let{trackingUrls:t,options:i,sendBeaconParams:n}=e;if(!Array.isArray(t))return;const r=Object(wd.a)(t,Ce),a=Object(Zo.a)(r,At),o=Object(Zo.a)(a,e=>h({url:e,options:i,win:window}));Object(Jo.a)(o,e=>A(e,n))}function vt(){return(vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ft(e){let{eventName:t,trackingEventDetails:i,trackingUrls:n,options:{devicePixelRatio:r,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoContentSize:c,videoSlotSize:u,videoAvatarSize:h,videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,videoCurrentSrc:f,videoMuted:g,videoVolume:b,bufferingTime:y,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:T,adBreakType:E,adFormatType:S}}=e;const w=Oh[t],C=void 0===w?1:w+1;Oh[t]=C;const I={videoSlotSize:u,videoContentSize:c,videoAvatarSize:{width:Math.round(h.width),height:Math.round(h.height)},videoPixelRatio:p,videoToDevicePixelRatio:A,videoFramesInfo:m,videoSrc:v,bufferingTime:y,bufferingTimeRatio:_,currentTime:O,remainingBufferedTime:T},P=vt({trackingUrls:n,trackingEventDetails:i,isVisibilityReliable:sd,counterInBundle:C},I,{devicePixelRatio:r,downlink:a,relativeSizeRatio:o,screenSize:s,size:d,visibility:l,videoCurrentSrc:f,videoMuted:g,videoVolume:b,adBreakType:E,adFormatType:S});C===Th&&Xo.c.error({error:new qo.a({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:vt({eventName:t,eventTrackingsCounts:Oh},P)})}),Xo.c.event({name:_h(t),probability:Object(xd.a)(yh,t)?Yo.b:Yo.a,data:P,labels:{},queryParams:{"pcode-version":null===Lu.b||void 0===Lu.b?void 0:Lu.b.pcodeVersion,"widget-version":null===Lu.b||void 0===Lu.b?void 0:Lu.b.widgetVersion}})}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function bt(e){try{ft(e=gt({},e,{options:yt(e.options)})),mt(e)}catch(t){Xo.c.error({error:new qo.a({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function yt(e){const{size:t,screenSize:i,videoContentSize:n}=e;return gt({},e,{size:b(t,Math.round),screenSize:b(i,Math.round),videoContentSize:n&&b(n,Math.round)})}function _t(e){const{text:t,textColor:i,isVisible:n}=e||wh;return{text:Object(hl.a)(t)?t:wh.text,textColor:i||wh.textColor,isVisible:"boolean"===typeof n?n:wh.isVisible}}function Ot(e){const t=[];if(!Array.isArray(e))throw new qo.a({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new qo.a({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=Object(wd.a)(e,Ve);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new qo.a({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const n=[],r=[],a=[];let o;if(Object(Jo.a)(i,e=>{const{type:t}=e;switch(t){case Zc.Overlay:n.push(e);break;case Zc.Motion:case Zc.VpaidCreative:r.push(e);break;default:a.push(e)}}),n.length>0){if(i.length>1)throw new qo.a({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=n[0]}else{if(r.length>1)throw new qo.a({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});o=r[0]}return{errorCodes:t,videoMediaFiles:a,animationMediaFile:o}}function Tt(e){const t=[];let i={};if("string"!==typeof e)throw new qo.a({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(h){throw new qo.a(h,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!Object($o.a)(i))throw new qo.a({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:n,adParameters:r,interactiveElements:a=[],mediaFiles:o}=i;i.videoStates&&t.push(new qo.a({code:"USING_VIDEO_STATES_IN_IV_AD_PARAMETERS",details:{adParametersString:e}}));const{errorCodes:s,animationMediaFile:d,videoMediaFiles:l}=Ot(o),c=Object(Zo.a)(s,t=>new qo.a({code:t,details:{adParametersString:e}}));return t.push(...c),{raw:i,parsed:{tickerData:_t(n),animationMediaFile:d,videoMediaFiles:l,adParameters:(u=r,"string"===typeof u?u:Object($o.a)(u)?pe(u):void 0),interactiveElements:a},errors:t};var u}function Et(e){for(const{width:t,height:i}of e){const e=Number(t),n=Number(i);if(r(e)&&r(n))return{width:e,height:n}}}function St(e){let{type:t}=e;return hu.indexOf(t)>-1?"js":"video"}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ct(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=Object(wd.a)(i,e=>"video"===St(e)||u(e.url))),i=Object(Zo.a)(i,e=>"video"!==St(e)?e:Ph(e))}function It(e,t){return Object(Nh.a)(Ct(e,t),e=>"js"===St(e))}function Pt(e){let{url:t}=e;return t===Kc}function Nt(e){let{mediaFiles:t,isNonLinear:i}=e;const[n]=t;return void 0!==n&&Pt(n)}function Dt(e){let{animationMediaFile:t,win:i}=e;const{url:n}=t,r=tu[n];if(void 0!==r){0;let e=zo.a;const t=new Promise((t,n)=>{e=Object(rh.b)({moduleName:r,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{n(e)},win:i,timeout:rh.a})});return{teardown:e,promise:t}}const{promise:a,teardown:o}=Object(Dh.a)({src:n,win:i});return{promise:a.then(()=>i.initAdCreative),teardown:o}}function Rt(e){let t;try{t=e.devicePixelRatio}catch(i){}return r(t)?t:1}function kt(e){let{videoContentSize:t,slotSize:i}=e;if(!t)return{reason:"unknownVideoContentSize",value:as.videoPixelRatio};let{width:r,height:a}=t;if(Object(Kd.a)(r)&&(r=Number(r),Bh()),Object(Kd.a)(a)&&(a=Number(a),Bh()),!n(r)||!n(a))return{reason:"hasIncorrectWidthAndOrHeight",value:Vh};if(r<0||a<0)return{reason:"incorrect",value:as.videoPixelRatio};if(0===a||0===i.height)return{reason:"incorrect",value:as.videoPixelRatio};if(0===r||0===i.width)return{reason:"incorrect",value:as.videoPixelRatio};const o=r/a;return i.width/i.height>o?{reason:"normal",value:a/i.height}:{reason:"normal",value:r/i.width}}function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Bt(e,t){const i=jh(e);return Object(xd.a)(t,i)?i:void 0}function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function jt(e){const t=function(e){const t=Rt(window);let i=e-Yh;if("DIVISION"===Mh)i=e/t-Gh;else if("SUBTRACTION"===Mh){i=e-((t-1)*("undefined"===typeof Uh?1:Uh)+1)}return 0===i?0:i<0?-i:i*zh}(e.videoPixelRatio),i=function(e){if(!Boolean(e))return Qh;if(!Object(Kd.a)(e))return Qh;const t=e.toLowerCase();return t===qh?1:t===Kh?2:3}(e.type),n=Lt({},e,{prioritySolution:t+Jh*i});return n.videoPixelRatioDistance=t,n}function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xt(e,t,i){return e>i?i:e<t?t:e}function Ut(e){return Zh.indexOf(e.toLowerCase())>-1}function Ft(e){return"number"===typeof e&&e>0}function Ht(e){const{minBitrate:t,maxBitrate:i}=e;return Ft(t)&&Ft(i)}function Wt(e,t){let{desiredBitrate:i}=t;if(function(e){return Ut(e.type)&&pc($h,t=>!Ft(e[t]))}(e))return 0;if(Ht(e)){const{minBitrate:t,maxBitrate:n}=e;return i<t?t-i:i>n?i-n:0}const{bitrate:n}=e;return r(n)?Math.abs(n-i):ep}function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Gt(e,t){let{desiredBitrate:i}=t;const n=Object(Zo.a)(e,e=>{let{bitrate:t}=e;return zt({},function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["bitrate"]),{bitrate:r(t)?t:ep})}),a=Object(Zo.a)(n,e=>zt({},e,{prioritySolution:Wt(e,{desiredBitrate:i})}));let o=[...a].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:n}=t;return i-n});{const e=Ht(o[0])?xt(i,o[0].minBitrate,o[0].maxBitrate):o[0].bitrate;o=[...a].sort((t,i)=>t.bitrate<=e&&i.bitrate<=e?i.height-t.height:t.prioritySolution-i.prioritySolution)}return Object(Zo.a)(a,e=>zt({},e,{rating:kh(o,t=>{let{url:i}=t;return e.url===i})}))}function Yt(){return(Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function qt(e){if(Object(hl.a)(e))return tp[e]?(Xo.c.event({name:"CorrectCodec",data:{vastCodec:e,correctCodec:tp[e]}}),tp[e]):e}function Xt(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&Object(ds.a)(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&Object(ds.a)(t.prototype.appendBuffer)&&Object(ds.a)(t.prototype.remove))}(e)?t:void 0}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Qt(e){return cp||hp?!cp&&hp?Kt({},e,{mseAvailability:"noMse"}):cp&&!hp?Kt({},e,{mseAvailability:"noFetch"}):Object(Kd.a)(e.type)?-1===e.type.toLowerCase().indexOf(qh)?Kt({},e,{mseAvailability:"isNotWebm"}):Kt({},e,lp?up?{mseAvailability:"canPlayMseForAbd"}:{mseAvailability:"isNotAbd"}:{mseAvailability:"cannotPlayWebmWithMse"}):Kt({},e,{mseAvailability:"noType"}):Kt({},e,{mseAvailability:"noMseAndFetch"})}function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Zt(e){if(!Array.isArray(e))return[];return Object(Zo.a)(e,e=>{return function(e){return Object(Kd.a)(e.type)?e.type===qh&&rp.a?Jt({},e,{playability:"cannotPlay"}):sp(Ap(e.type,e.codec))?Jt({},e,{playability:"canPlay"}):Jt({},e,{playability:"cannotPlay"}):Jt({},e,{playability:"noType"})}(Qt(function(e){if(!Object($o.a)(e))return{validationType:"invalidObject"};const{type:t,codec:i,url:n,width:a,height:o,bitrate:s,maxBitrate:d,minBitrate:l}=e,c={type:t,codec:qt(i),url:n,width:a,height:o,bitrate:s,maxBitrate:d,minBitrate:l};return(!r(l)||!r(d)||l>=d)&&(c.minBitrate=void 0,c.maxBitrate=void 0),"string"!==typeof n?Yt({},c,{validationType:"invalidUrl"}):n.trim()?"string"!==typeof t?Yt({},c,{validationType:"invalidType"}):t.trim()?Yt({},c,{validationType:"correct"}):Yt({},c,{validationType:"emptyType"}):Yt({},c,{validationType:"emptyUrl"})}(e)))})}function $t(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ti(e,t){const i=Date.now(),n=Zt(e);let a,o;const{desiredBitrate:s}=t;if(r(s)){a=Gt(n,{desiredBitrate:s}),o="desiredBitrate"}else{a=function(e,t){if(0===e.length)return[];const i=Object(Zo.a)(e,i=>{if(!Boolean(i))throw new qo.a({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:n,reason:r}=kt({videoContentSize:i,slotSize:t.container});return jt(Mt({},i,{videoPixelRatio:n,videoPixelRatioReason:r}))}),n=[...i].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:n}=t;return i-n});return Object(Zo.a)(i,e=>Mt({},e,{rating:kh(n,t=>e===t)}))}(n,t),o="videoPixelRatio"}const d=Object(wd.a)(a,e=>{let{validationType:t,playability:i,mseAvailability:n}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===n});let l;if(d.length>0)l=d;else{l=Object(wd.a)(a,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i})}const c=function(e,t,i){if(e.length<1)return;let[n]=e,r=t(n);for(let a=1;a<e.length;a++){const o=e[a],s=t(o);i(s,r)<0&&(n=o,r=s)}return n}(l,e=>{let{rating:t}=e;return t},(e,t)=>e-t);return Xo.c.values({name:"PrioritiseMediaFiles",data:{input:ei({mediaFiles:Object(Zo.a)(e,e=>Object($o.a)(e)?ei({},e):e)},t,{dpr:Rt(window)}),output:{mediaFiles:a,mediaFile:c?ei({},c):void 0,methodType:o}},probability:Yo.a,labels:{},values:{timeSpent:Date.now()-i}}),{validatedMediaFiles:Object(Zo.a)(l,e=>{if("videoPixelRatio"===o){return $t(e,["rating","prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return $t(e,["rating","prioritySolution"])}),prioritisedMediaFiles:a,prioritisedMediaFile:c}}function ii(e){let{scope:t,errorType:i,error:n,details:r}=e;return new qo.a(n,{code:mp(t,i),details:r})}function ni(e,t){const i=[];i.push(Object(zd.a)({element:e,eventName:"unhandledrejection",listener:e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})}})),i.push(Object(zd.a)({element:e,eventName:"error",listener:(e,i,n,r,a)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:n,column:r,error:a,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})}})),i.push(Object(zd.a)({element:window,eventName:"securitypolicyviolation",listener:e=>{let{blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u}=e;const h={blockedURI:i,columnNumber:n,documentURI:r,effectiveDirective:a,lineNumber:o,originalPolicy:s,referrer:d,sourceFile:l,statusCode:c,violatedDirective:u};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:h})}}));const n=new vp({win:e,onReport:e=>{const{reportSourceEvent:i,reports:n,records:r}=e,a=new Error;0===n.length&&0===r.length&&t(a,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),Object(Jo.a)(Object(ju.a)({reports:n,records:r}),e=>{let[n,r]=e;return Object(Jo.a)(r,e=>{t(a,function(e){if(!Object($o.a)(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!Object(hl.a)(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(Object($o.a)(i)&&Object(hl.a)(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:n,report:e})})})}});return i.push(()=>{n.destroy()}),()=>Object(gd.a)(i)}function ri(e,t){return ni(e,(e,i,n)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=n;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(Xo.b)>-1)return}}t(e,i,n)})}function ai(e){return 0===bp.length&&(gp=window.setInterval(()=>{bp.forEach(e=>e())},fp)),bp.push(e),()=>{const t=bp.indexOf(e);t>-1&&bp.splice(t,1),0===bp.length&&clearInterval(gp)}}function oi(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&E(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;Object(Go.a)(i)}function si(){return(si=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function di(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function li(e){if(Tp.a&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];console.error(e,...i)}}function ci(e){let{mediaFiles:t,isNonLinear:i}=e;const[n]=t;return void 0!==n&&(!!i||Pt(n))}function ui(){return(ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function hi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function pi(){return(pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ai(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function mi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vi(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fi(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function gi(){return(gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function bi(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:n,wrapperTimeout:r},isAdFox:a,url:o,adPlacementOptions:s,adConfig:d}=e;return{adPlacementOptions:s,vastSourceType:t=a||o&&c(o)?"AD_FOX":o&&u(o)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:n,wrapperTimeout:r,requestMethod:bc({secureMode:d.secureMode,url:o})?"VASFrame":"XMLHttpRequest"}}function yi(e){let{adConfig:t,adBreak:i,adPlacementOptions:n,win:r}=e;const a=i.adFoxParameters||t.adFoxParameters;if(a)return async function(e){return new Fc(e).loadVastPromise}({adConfig:gi({},t,{adFoxParameters:a}),adBreak:i,adPlacementOptions:n});const{loadHarmlessVastCallback:o}=t,s=t.hasOwnProperty("vast")?t.vast:void 0;if(s)return nc(s,bi({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:n})).then(e=>(o&&0===e.children.length&&o({adPods:Object(Zo.a)(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const d=t.vastUrl?t.vastUrl:pt({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:n,win:r});return lc({url:d,loadParameters:bi({adConfig:t,adBreak:i,isAdFox:!1,url:d,adPlacementOptions:n})})}async function _i(e){const{adConfig:t,adBreak:i}=e;let n;try{n=await yi(e)}catch(l){throw l.details||(l.details={}),l.details.adConfig=t,v(l),l}const r=[];for(const c of n.ads)try{var a;const e=c.mediaFiles[0],t=null!==(a=null===e||void 0===e?void 0:e.url)&&void 0!==a?a:"",i=ke(t)||$e(t)||tt(c)||Ze(c)||et(c);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Je(c);t&&Xo.c.event({name:t,data:{previous:c,next:e},probability:Yo.a}),r.push(e)}else r.push(c)}catch(l){Xo.c.error({error:l})}const o=Object(Zo.a)(r,e=>(e.vast=n,new Rp(i,e,t))),s=function(e,t,i){const n=fi(i);return Object(wd.a)(e,e=>{const{isNonLinear:r}=e.vastAd;return r===n||(e.trackError(new qo.a({code:r?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(o,t,i),d=new kp(s);if(0===d.mediaAds.length)throw new qo.a({code:"NO_AD_SECTION",details:void 0});if(Object(wd.a)(d.mediaAds,e=>e.hasMediaFiles()).length>0)return{mediaAds:d,vast:n};if(d.hasFilteredOutMediaFiles()){const e=Pd(Object(Zo.a)(o,e=>e.vastAd.mediaFiles));throw new qo.a({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new qo.a({code:"NO_AD_TO_DISPLAY",details:void 0})}function Oi(e,t){return Object(wd.a)(e,e=>e.adType===t)}function Ti(e,t){const i=b(t,(t,i)=>e.style[i]);return T(e,t),Object(Ds.a)(()=>{T(e,i)})}function Ei(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function Si(e){const t=e.getRootNode;if(Object(ds.a)(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function wi(e){return!!e&&"ShadowRoot"===Object(hd.a)(e)}function Ci(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=Si(i);if(!wi(e)||!Vp(e.host))return!1;i=e.host}return!1}function Ii(e,t){const i={};return Object(md.a)(t).forEach(t=>{i[t]=e.getAttribute(t)}),E(e,t),Object(Ds.a)(()=>{E(e,i)})}function Pi(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function Ni(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&Object(rd.a)(i)?i:void 0}function Di(e){if(!op)return Promise.reject();const t=(i=e.play)[Fp]||i;var i;if(Object(rd.a)(t))return t.call(e);const n=Ni("HTMLVideoElement")||Ni("HTMLMediaElement");if(n)return n.call(e);const r=document.createElement("div");r.style.display="none",document.body.appendChild(r);const a=Ni("HTMLMediaElement",Object(Up.a)(r).contentWindow);if(a){const t=a.call(e);return Object(Go.a)(r),t}return e.play()}function Ri(e,t,i,n){const r=function(e){let t=!1,i=!1,n=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),n=Boolean(e.once)),{capture:t,passive:i,once:n}}(n),a=eA.a?r:r.capture,o=r.once&&!eA.b?function(e){s(),i.call(this,e)}:i,s=()=>{Object($p.b)(e,t,o,a)};return Object($p.a)(e,t,o,a),s}function ki(e,t){void 0===t&&(t={});let i=0;const n=[],r=(t,r)=>{n.push(Ri(e,t,r,tA)),clearTimeout(i)},a=()=>Object(gd.a)(n),o=new Promise((n,a)=>{const o=t=>{e.paused&&a(t)},s=Di(e);if(o(Zp.VideoTagPaused),r("durationchange",()=>o(Zp.VideoTagPausedAfterDurationChange)),r("error",()=>o(Zp.VideoTagPausedAfterError)),r("pause",()=>a(Zp.PauseEvent)),r("playing",()=>{n(Zp.PlayingEvent)}),s)t.useProgressEvent&&r("progress",()=>{n(Zp.ProgressEvent)}),s.then(()=>n(Zp.PromiseResolve)).catch(e=>a(function(e){return e?Zp.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":Zp.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{a(Zp.Timeout)},t.timeoutForNonPromisePlay))}});return o.then(a,a),o}function Vi(e,t){const{paused:i}=e,n=t();return i||Pi(Di(e)),n}function Bi(){return(Bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Li(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:n}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:n}}function ji(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=Hp(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),Li({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:qp.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),Li({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:qp.YaBroAllowedToPlay})):(t(),Li({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:qp.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),Jp(e))return Li({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:qp.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),Yp(e))return Li({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:qp.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const n=function(e){if(void 0===e&&(e=window),Xp(e))return Li({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:qp.PlayStationSmartTV})}();if(void 0!==n)return Promise.resolve(n);if(e.isAVPlay)return Promise.resolve(Bi({},aA,{detectionMethod:qp.TizenAVPlay}));const r=function(e){if(void 0===e&&(e=window),Kp(e))return Qp(e)?Li({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:qp.Tizen23SmartTV}):Li({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:qp.TizenSmartTVModern})}();return void 0!==r?Promise.resolve(r):Mp&&jp<=9||iA?Promise.resolve(Bi({},rA,{detectionMethod:qp.IOS9OrLess})):op?nA?Promise.resolve(Bi({},aA,{detectionMethod:qp.OldIE})):void 0:Promise.resolve(Bi({},rA,{detectionMethod:qp.HTML5VideoIsNotSupported}))}function Mi(){return(Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xi(){return(xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ui(e){return void 0===e&&(e=""),e.replace(bA,e=>e in yA?yA[e]:e)}function Fi(e){var t;const{AUCTION_DC_PARAMS:i}=e;if(!Object($o.a)(i)||!Object($o.a)(i.data_params))return;const n=OA(i.data_params);if(!Object($o.a)(n))return;const r=null===(t=n.click_url)||void 0===t?void 0:t.action_button;return Object(hl.a)(r)?r:void 0}function Hi(e){return!Object(md.a)(e).length}function Wi(e){if(!Object($o.a)(e))return[];const{AUCTION_DC_PARAMS:t}=e;if(!Object($o.a)(t)||!Object($o.a)(t.data_params))return[];const i=OA(t.data_params);if(!Object($o.a)(i)||!Object($o.a)(i.text))return[];const n=i.text,r=i.unmoderated||n.unmoderated||{};return EA(r.images)}function zi(e){const{AUCTION_DC_PARAMS:t}=e;if(!Object($o.a)(t)||!Object($o.a)(t.data_params))return;const i=OA(t.data_params);if(!Object($o.a)(i))return;const n=i.target_url;return Object(hl.a)(n)?n:void 0}function Gi(){const e=Ml(Ql);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];const r=Object(wd.a)(i,e=>Boolean(e));return Object(Id.a)(r,(e,t)=>(function(e,t){const i=Ml(Ql);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility,void 0!==t.controlsVariant?i.controlsVariant=t.controlsVariant:i.controlsVariant=e.controlsVariant;for(const n of LA)!1===i.visibility?i.controlsVisibility[n]=!1:"boolean"===typeof t.controlsVisibility[n]?i.controlsVisibility[n]=t.controlsVisibility[n]:i.controlsVisibility[n]=e.controlsVisibility[n];return i})(e,t),e)}function Yi(e){const{BUTTON_LABELS:t,BUTTON_TEXT:i}=e;return Object($o.a)(t)&&Object(hl.a)(t[_d])?t[_d]:Object(hl.a)(i)?i:void 0}function qi(e){const t=e.packshot_duration;if(!r(t))return;const i=e.PACKSHOT_IMAGE_URL;if(!Object(hl.a)(i))return;const n=Fi(e);return void 0!==n?{packshotDuration:t,packshotImageUrl:i,packshotActionButtonClickUrl:n,packshotButtonText:Yi(e)}:void 0}function Xi(e){let{vastAd:t,secureMode:i}=e;const{skipTime:r,skipOffset:a,playbackAdParameters:o,mediaFiles:s}=t;return o&&n(o.skipDelay)?{skipDelay:o.skipDelay,eventName:void 0}:function(e,t){const i=It(e,t);return!!i&&ke(i.url)}(s,i)?{skipDelay:MA,eventName:"UsingDefaultInteractiveViewerSkipDelay"}:n(a)?n(r)?{skipDelay:r,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:a,eventName:void 0}:{skipDelay:jA,eventName:void 0}}function Ki(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&$e(i.url)}(e))return!1;if(et(e))return!1;if(ci(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=Object(Qs.a)(()=>Ot(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:UA}function Qi(e){if(et(e))return!1}function Ji(e){const{imhoParams:t,playbackAdParameters:i}=e,n={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:Ki(e),skip:xA,play:Qi(e)}};let r;return i&&(r=i.controlsSettings),Gi(n,r)}function Zi(e){if("error"===e.reason)return e.details}function $i(e){const t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||(t=>e.setTimeout(t,FA)),i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||(t=>e.clearTimeout(t));return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:i.bind(e)}}function en(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function tn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rn(e){return!!Object($o.a)(e)&&Vp(e)}function an(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:n}=e;if(!r(i))return zo.a;let a=0;const o=t.onBufferingAfterPlay.add(()=>{a++,Object(Ko.a)("bufferEmptyCount=["+a+"] limit=["+i+"]"),a<=i||(o(),n())});return o}function on(e){let{videoNodeController:t,bufferFullTimeout:i,callback:n}=e,r=zo.a;const a=t.isBuffering.add(async e=>{if(r(),!e)return;const{promise:t,clear:o}=Object(Nd.a)(i);r=o,await t,r(),a(),n()});return()=>{r(),a()}}function sn(e,t){const i=Object(zd.a)({element:e,eventName:"timeupdate",listener:()=>{e.currentTime>0&&!e.paused&&(r(),t())}}),n=Object(zd.a)({element:e,eventName:"playing",listener:()=>{e.duration>0&&(r(),t())}}),r=()=>{i(),n()};return r}function dn(e){function t(){let e=i.getDuration();return r(e)||(e=n()),r(a)?Math.min(e,a):e}let{videoNodeController:i,durationFallback:n,durationLimit:a,callbacks:{AdStarted:o,AdVideoFirstQuartile:s,AdVideoMidpoint:d,AdVideoThirdQuartile:l,AdVideoBeforeComplete:c,AdVideoComplete:u}}=e;const h=Object(Ds.a)(s),p=Object(Ds.a)(d),A=Object(Ds.a)(l),m=Object(Ds.a)(c);let v=0;const f=()=>{const e=t();if(!r(e))return;const n=(i.getCurrentTime()-v)/e;n>=.25&&h(),n>=.5&&p(),n>=.75&&A()},g=Object(Ds.a)((function(e){void 0===e&&(e={completeOnDurationLimit:!1}),f(),u(e)})),b=[sn(i.videoNode,()=>{v=i.getCurrentTime(),o()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:n,isEnd:o}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+QA>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});n&&m(),o&&r(a)&&g({completeOnDurationLimit:!0,durationLimit:a})}),i.currentPosition.add(f),i.onEnd.add(g)];return()=>Object(gd.a)(b)}function ln(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function cn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function un(e){var t;if(!u(e)&&!c(e)||!od.a)return e;const i=sm.a[sm.a.length-1],n=null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document;return Object(ls.a)(e,"target_ref",n.referrer)}function hn(e,t){if(e===t)return!0;if(!Object($o.a)(e)||!Object($o.a)(t))return!1;if(Object(Cd.a)(e)!==Object(Cd.a)(t))return!1;const i=Object(md.a)(e),n=Object(md.a)(t);if(i.length!==n.length)return!1;for(const r of n){if(!(r in e))return!1;if(!hn(e[r],t[r]))return!1}return!0}function pn(e,t){const i=function(e){const t=Object(um.a)(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Object(zd.a)({element:e,eventName:i,listener:()=>{t(Object(cm.a)(e))}}):zo.a}function An(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function mn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vn(e,t){const i={};return Object(md.a)(e).forEach(n=>{t(e[n],n)&&(i[n]=e[n])}),i}function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function gn(){return(gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function bn(e,t){let{width:i,height:n}=e;const r=Object(Zo.a)([i,n],e=>Math.round(e)),a=Math.min(...r),o=Math.max(...r);return t?a>=Bm&&o*a>=Lm:a>=km&&o*a>=Vm}function yn(){return(yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function _n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function On(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Tn(e){let{slotSize:t,videoSlotSize:i,videoContentSize:n}=e;const r=void 0===n?t.width/t.height:n.width/n.height,a=i.width/i.height>r,o=a?i.height*r:i.width/r,s=a?i.height:i.width,d={width:a?o:s,height:a?s:o},l=Math.min(t.width,d.width)/Math.min(t.height,d.height),c=t.width/t.height>l;return{adjacentSize:c?t.height*l:t.width/l,innerSize:c?t.height:t.width,extraHorizontalSpace:c}}function En(e){const{videoWidth:t,videoHeight:i}=e;if(r(t)&&r(i))return{width:t,height:i}}function Sn(e){let{win:t,slotSize:i,slotVisibilityRatio:a,videoSlotSize:s,videoNode:d,bufferingTime:l,adBreakType:c,adFormatType:u}=e;const h=Fm(t),p=h.width*h.height,A=i.width*i.height,m=0===p?0:A/p,v=Rt(t),f=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const n=i.type;if("string"===typeof n||"number"===typeof n)switch(n){case"BLUETOOTH":return 3;case Hm.CELL_2G:return.384;case Hm.CELL_3G:case"CELLULAR":return 2;case"WIMAX":return 37;case"NONE":return 0;case Hm.ETHERNET:case"ETHERNET":case Hm.WIFI:case"WIFI":case"MIXED":return 10;case Hm.UNKNOWN:}return-1}(t),g=d?En(d):as.videoContentSize;let b=as.videoAvatarSize,y=as.videoFramesInfo,_=as.videoSrc,O=as.videoCurrentSrc,T=as.videoMuted,E=as.videoVolume,S=as.currentTime,w=as.bufferingTimeRatio,C=as.remainingBufferedTime;if(d){const{innerSize:e,adjacentSize:t,extraHorizontalSpace:r}=Tn({slotSize:i,videoContentSize:g,videoSlotSize:s});b={width:r?t:e,height:r?e:t},y=o(d),_=d.src,O=d.currentSrc,T=d.muted,E=d.volume;const a=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!n(e.buffered.length)||!Object(ds.a)(e.buffered.start)||!Object(ds.a)(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let n=1;n<t.length;n++){const e=t[n],r=i[i.length-1];r.end<e.start?i.push(e):r.end<e.end&&(r.end=e.end)}return i}(t)}(d);S=d.currentTime;const c=(I=a,P=S,Object(Nh.a)(I,e=>{let{start:t,end:i}=e;return t<=P&&P<=i}));c&&(C=c.end-S),n(S)&&n(l)&&l+S>0&&(w=l/(l+S))}var I,P;const{value:N}=kt({videoContentSize:g,slotSize:i});let D=as.videoToDevicePixelRatio;return r(N)&&(D=N/v),{visibility:a,size:i,relativeSizeRatio:m,screenSize:h,devicePixelRatio:v,downlink:f,videoContentSize:g,videoSlotSize:s,videoAvatarSize:b,videoPixelRatio:N,videoToDevicePixelRatio:D,videoFramesInfo:y,videoSrc:_,videoCurrentSrc:O===_?void 0:O,videoMuted:T,videoVolume:E,bufferingTime:l,currentTime:S,bufferingTimeRatio:w,remainingBufferedTime:C,adBreakType:c,adFormatType:u}}function wn(e){const t=e.ownerDocument,i=t.defaultView,n=t.documentElement,r=e.getBoundingClientRect();return{winWidth:zm?Math.max(n.clientWidth,(null===i||void 0===i?void 0:i.innerWidth)||0):(null===i||void 0===i?void 0:i.innerWidth)||n.clientWidth||t.body.clientWidth,winHeight:zm?Math.max(n.clientHeight,(null===i||void 0===i?void 0:i.innerHeight)||0):(null===i||void 0===i?void 0:i.innerHeight)||n.clientHeight||t.body.clientHeight,left:r.left,top:r.top,width:r.width,height:r.height}}function Cn(e){let{width:t,height:i,top:n,left:r,winWidth:a,winHeight:o}=e;const s=r+t,d=n+i,l=xt(r,0,a),c=xt(n,0,o);return{winWidth:a,winHeight:o,left:l,top:c,width:xt(s,l,a)-l,height:xt(d,c,o)-c}}function In(e,t){return e.width*e.height/(t.width*t.height)}function Pn(e){const t=function(e){return[wn(e),...Object(Zo.a)(Object(Wm.a)(e),wn)]}(e);let i=Cn(t[0]),n=In(i,t[0]);for(let o=1;o<t.length;o++){const e=t[o];n=In(i=Cn((r=i,{winWidth:(a=e).winWidth,winHeight:a.winHeight,left:r.left+a.left,top:r.top+a.top,width:r.width,height:r.height})),t[0])}var r,a;return n}function Nn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Dn(e){return Object(Jo.a)(Object(md.a)(Sm),t=>{const i=Sm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(n){Xo.c.error({error:new qo.a({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else Xo.c.error({error:new qo.a({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),Object(Jo.a)(Object(md.a)(wm),t=>{const i=wm[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:n=>{if("function"===typeof e[i])try{return e[i](n)}catch(r){Xo.c.error({error:new qo.a({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:n}})})}else Xo.c.error({error:new qo.a({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:n}})})}})}),e}function Rn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function kn(){return(kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Vn(){return(Vn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Bn(){return(Bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function jn(e){return"YandexTestMeasurerVpaidEvent_"+e}function Mn(e){return Array.isArray(e)?Object(wd.a)(e,e=>"string"===typeof e&&e.length>0):[]}function xn(e){const t=[];return Object($o.a)(e)?{measurers:vn(e,(i,n)=>Object($o.a)(i)?-1!==Av.indexOf(n)||(t.push(new qo.a({code:"UNSUPPORTED_MEASURER",details:{measurerName:n,measurersParameters:e}})),!1):(t.push(new qo.a({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:n,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new qo.a({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Un(){return(Un=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Fn(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:n}=e;let r={},a={};const{bannerParameters:o,errors:s}=function(e){const t=[];if(!Object($o.a)(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!Object($o.a)(i))return{bannerParameters:void 0,errors:t};const{misc:n}=i;if(!Object($o.a)(n))return{bannerParameters:void 0,errors:t};const{object_id:r}=n,a=i[r];return Object($o.a)(a)?{bannerParameters:a,errors:t}:{bannerParameters:void 0,errors:t}}(n);if(t.push(...s),Object($o.a)(o)){const{measurers:i,unmoderated:n}=o,{measurers:s,errors:d}=xn(i);if(t.push(...d),r=s,Object($o.a)(n)){const{measurers:i}=n;i&&t.push(new qo.a({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:r,errors:o}=xn(i);t.push(...o),a=r}}const{measurers:d,errors:l}=xn(i);t.push(...l);const c=Object(md.a)(a).length>0,u=Object(md.a)(r).length>0,h=Object(md.a)(d).length>0;return Number(c)+Number(u)+Number(h)>1&&t.push(new qo.a({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Un({},a,r,d),errors:t}}function Hn(e){return Object($o.a)(e)?b(mv,(t,i)=>Mn(e[i])):Ml(mv)}function Wn(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!Object($o.a)(i)&&"sad"===i.sad}function zn(e){if(!Object($o.a)(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?Object($o.a)(t)?{partnerCode:i,ids:vn(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function Gn(e){return e<2?1e3:2===e?3e3:5e3}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function qn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Xn(e,t,i){void 0===i&&(i={});const n=e,{onStop:r=zo.a,onInitMeasurer:a=zo.a,onTrackEvent:o=zo.a,onExecutionError:s=zo.a,onAdError:d=zo.a,onPlayingStateChange:l=zo.a,onSlotHoverStateChange:c=zo.a,onSlotVisibilityStateChange:u=zo.a,onSlotSizeChange:h=zo.a}=i,p=new vv(n,t,{onStop:r,onInitMeasurer:a,onTrackEvent:o,onExecutionError:s,onAdError:d,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:c,onSlotSizeChange:h});return{measurableVPAIDCreative:function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:n}=t;const r=gn({},b(Tm,(e,t)=>{return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return i(t,n)}}),b(vn(Cm,(t,i)=>"function"===typeof e[i]),(t,i)=>()=>e[i]()));return Object(Jo.a)(Object(md.a)(Em),t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{n(t,e)}})}),r}(n,p),userInteractionDispatchers:p.userInteractionDispatchers,vpaidCreativeProxyForMeasurers:p.vpaidCreativeProxyForMeasurers}}function Kn(e,t){for(var i in t)e[i]=t[i];return e}function Qn(e){var t=e.parentNode;t&&t.removeChild(e)}function Jn(e,t,i){var n,r=arguments,a={};for(n in t)"key"!==n&&"ref"!==n&&(a[n]=t[n]);if(arguments.length>3)for(i=[i],n=3;n<arguments.length;n++)i.push(r[n]);if(null!=i&&(a.children=i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===a[n]&&(a[n]=e.defaultProps[n]);return Zn(e,a,t&&t.key,t&&t.ref)}function Zn(e,t,i,n){var r={type:e,props:t,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return _v.vnode&&_v.vnode(r),r}function $n(e){return e.children}function er(e,t){this.props=e,this.context=t}function tr(e,t){if(null==t)return e.__?tr(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?tr(e):null}function ir(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return ir(e)}}function nr(e){(!e.__d&&(e.__d=!0)&&1===Ov.push(e)||Ev!==_v.debounceRendering)&&((Ev=_v.debounceRendering)||Tv)(rr)}function rr(){var e,t,i,n,r,a,o;for(Ov.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=Ov.pop();)e.__d&&(i=void 0,n=void 0,a=(r=(t=e).__v).__e,(o=t.__P)&&(i=[],n=lr(o,r,Kn({},r),t.__n,void 0!==o.ownerSVGElement,null,i,null==a?tr(r):a),cr(i,r),n!=a&&ir(r)))}function ar(e,t,i,n,r,a,o,s,d){var l,c,u,h,p,A,m,v=i&&i.__k||Iv,f=v.length;if(s==Cv&&(s=null!=a?a[0]:f?tr(i,0):null),l=0,t.__k=function e(t,i,n){if(null==n&&(n=[]),null==t||"boolean"==typeof t)i&&n.push(i(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)e(t[r],i,n);else n.push(i?i("string"==typeof t||"number"==typeof t?Zn(null,t,null,null):null!=t.__e||null!=t.__c?Zn(t.type,t.props,t.key,null):t):t);return n}(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(u=v[l])||u&&i.key==u.key&&i.type===u.type)v[l]=void 0;else for(c=0;c<f;c++){if((u=v[c])&&i.key==u.key&&i.type===u.type){v[c]=void 0;break}u=null}if(h=lr(e,i,u=u||Cv,n,r,a,o,s,d),(c=i.ref)&&u.ref!=c&&(m||(m=[]),u.ref&&m.push(u.ref,null,i),m.push(c,i.__c||h,i)),null!=h){var g;if(null==A&&(A=h),void 0!==i.__d)g=i.__d,i.__d=void 0;else if(a==u||h!=s||null==h.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(h),g=null;else{for(p=s,c=0;(p=p.nextSibling)&&c<f;c+=2)if(p==h)break e;e.insertBefore(h,s),g=s}"option"==t.type&&(e.value="")}s=void 0!==g?g:h.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return l++,i})),t.__e=A,null!=a&&"function"!=typeof t.type)for(l=a.length;l--;)null!=a[l]&&Qn(a[l]);for(l=f;l--;)null!=v[l]&&pr(v[l],v[l]);if(m)for(l=0;l<m.length;l++)hr(m[l],m[++l],m[++l])}function or(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===Pv.test(t)?i+"px":null==i?"":i}function sr(e,t,i,n,r){var a,o,s,d,l;if(r?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(a=e.style,"string"==typeof i)a.cssText=i;else{if("string"==typeof n&&(a.cssText="",n=null),n)for(o in n)i&&o in i||or(a,o,"");if(i)for(s in i)n&&i[s]===n[s]||or(a,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),l=t.toLowerCase(),t=(l in e?l:t).slice(2),i?(n||e.addEventListener(t,dr,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,dr,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!r&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function dr(e){this.l[e.type](_v.event?_v.event(e):e)}function lr(e,t,i,n,r,a,o,s,d){var l,c,u,h,p,A,m,v,f,g,b=t.type;if(void 0!==t.constructor)return null;(l=_v.__b)&&l(t);try{e:if("function"==typeof b){if(v=t.props,f=(l=b.contextType)&&n[l.__c],g=l?f?f.props.value:l.__:n,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in b&&b.prototype.render?t.__c=c=new b(v,g):(t.__c=c=new er(v,g),c.constructor=b,c.render=Ar),f&&f.sub(c),c.props=v,c.state||(c.state={}),c.context=g,c.__n=n,u=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Kn({},c.__s)),Kn(c.__s,b.getDerivedStateFromProps(v,c.__s))),h=c.props,p=c.state,u)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&v!==h&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(v,g),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(v,c.__s,g)){for(c.props=v,c.state=c.__s,c.__d=!1,c.__v=t,t.__e=i.__e,t.__k=i.__k,c.__h.length&&o.push(c),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(v,c.__s,g),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(h,p,A)}))}c.context=g,c.props=v,c.state=c.__s,(l=_v.__r)&&l(t),c.__d=!1,c.__v=t,c.__P=e,l=c.render(c.props,c.state,c.context),t.__k=null!=l&&l.type==$n&&null==l.key?l.props.children:l,null!=c.getChildContext&&(n=Kn(Kn({},n),c.getChildContext())),u||null==c.getSnapshotBeforeUpdate||(A=c.getSnapshotBeforeUpdate(h,p)),ar(e,t,i,n,r,a,o,s,d),c.base=t.__e,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else t.__e=ur(i.__e,t,i,n,r,a,o,d);(l=_v.diffed)&&l(t)}catch(e){_v.__e(e,t,i)}return t.__e}function cr(e,t){_v.__c&&_v.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){_v.__e(e,t.__v)}}))}function ur(e,t,i,n,r,a,o,s){var d,l,c,u,h,p=i.props,A=t.props;if(r="svg"===t.type||r,null==e&&null!=a)for(d=0;d<a.length;d++)if(null!=(l=a[d])&&(null===t.type?3===l.nodeType:l.localName===t.type)){e=l,a[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(A);e=r?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,A.is&&{is:A.is}),a=null}if(null===t.type)null!=a&&(a[a.indexOf(e)]=null),p!==A&&e.data!=A&&(e.data=A);else if(t!==i){if(null!=a&&(a[a.indexOf(e)]=null,a=Iv.slice.call(e.childNodes)),c=(p=i.props||Cv).dangerouslySetInnerHTML,u=A.dangerouslySetInnerHTML,!s){if(p===Cv)for(p={},h=0;h<e.attributes.length;h++)p[e.attributes[h].name]=e.attributes[h].value;(u||c)&&(u&&c&&u.__html==c.__html||(e.innerHTML=u&&u.__html||""))}(function(e,t,i,n,r){var a;for(a in i)a in t||sr(e,a,null,i[a],n);for(a in t)r&&"function"!=typeof t[a]||"value"===a||"checked"===a||i[a]===t[a]||sr(e,a,t[a],i[a],n)})(e,A,p,r,s),t.__k=t.props.children,u||ar(e,t,i,n,"foreignObject"!==t.type&&r,a,o,Cv,s),s||("value"in A&&void 0!==A.value&&A.value!==e.value&&(e.value=null==A.value?"":A.value),"checked"in A&&void 0!==A.checked&&A.checked!==e.checked&&(e.checked=A.checked))}return e}function hr(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){_v.__e(e,i)}}function pr(e,t,i){var n,r,a;if(_v.unmount&&_v.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||hr(n,null,t)),i||"function"==typeof e.type||(i=null!=(r=e.__e)),e.__e=e.__d=void 0,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){_v.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(a=0;a<n.length;a++)n[a]&&pr(n[a],t,i);null!=r&&Qn(r)}function Ar(e,t,i){return this.constructor(e,i)}function mr(e,t,i){var n,r,a;_v.__&&_v.__(e,t),r=(n=i===Sv)?null:i&&i.__k||t.__k,e=Jn($n,null,[e]),a=[],lr(t,(n?t:i||t).__k=e,r||Cv,Cv,void 0!==t.ownerSVGElement,i&&!n?[i]:r?null:Iv.slice.call(t.childNodes),a,i||Cv,n),cr(a,e)}function vr(e){var t={},i={__c:"__cC"+wv++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,r=this;return this.getChildContext||(n=[],this.getChildContext=function(){return t[i.__c]=r,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&n.some((function(e){e.context=t.value,nr(e)}))},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function fr(e){_v.__h&&_v.__h(Rv);var t=Rv.__H||(Rv.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function gr(e){return function(e,t,i){var n=fr(Dv++);return n.__c||(n.__c=Rv,n.__=[i?i(t):Pr(void 0,t),function(t){var i=e(n.__[0],t);n.__[0]!==i&&(n.__[0]=i,n.__c.setState({}))}]),n.__}(Pr,e)}function br(e,t){var i=fr(Dv++);Ir(i.__H,t)&&(i.__=e,i.__H=t,Rv.__H.__h.push(i))}function yr(e,t){var i=fr(Dv++);Ir(i.__H,t)&&(i.__=e,i.__H=t,Rv.__h.push(i))}function _r(e){return Or((function(){return{current:e}}),[])}function Or(e,t){var i=fr(Dv++);return Ir(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function Tr(e,t){return Or((function(){return e}),t)}function Er(e){var t=Rv.context[e.__c];if(!t)return e.__;var i=fr(Dv++);return null==i.__&&(i.__=!0,t.sub(Rv)),t.props.value}function Sr(){Vv.some((function(e){if(e.__P)try{e.__H.__h.forEach(wr),e.__H.__h.forEach(Cr),e.__H.__h=[]}catch(t){return _v.__e(t,e.__v),!0}})),Vv=[]}function wr(e){e.t&&e.t()}function Cr(e){var t=e.__();"function"==typeof t&&(e.t=t)}function Ir(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function Pr(e,t){return"function"==typeof t?t(e):t}function Nr(){return(Nr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Dr(e){const[t,i]=gr(e.getValue());return br(()=>(i(e.getValue()),e.add(i)),[e]),t}function Rr(e,t){var i;const n=(null!==(i=e.ownerDocument)&&void 0!==i?i:document).createElement("style");return n.type="text/css",n.textContent=t,e.appendChild(n),n}function kr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vr(e){const t=qv();yr(()=>Kv.useStyleModule(t.element,e),[e])}function Br(e){let{descriptionText:t,buttonText:i,onButtonClick:n,animationProgress:r,hasTimeline:a}=e;return{descriptionText:t,buttonText:i,onButtonClick:n,progress:Dr(r),hasTimeline:a}}function Lr(e){var t,i,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=Lr(e[t]))&&(n&&(n+=" "),n+=i);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Mr(){return(Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function xr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ur(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function Fr(e){return Boolean(e.IntersectionObserver)&&!Object(rd.a)(e.IntersectionObserver)}function Hr(e){var t;if(Nf)return null;if(null!==(t=!Boolean(e.ownerDocument))&&void 0!==t?t:!e.ownerDocument.defaultView)return null;const i=e.ownerDocument.defaultView,n=function(e,t){try{if(Object(rd.a)(e.attachShadow))return e.attachShadow(t);if(Object(rd.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(rd.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:"open"});if(!n)return null;const r=i.document.createElement("div");return n.appendChild(r),r}function Wr(){return(Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function zr(){return(zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Gr(e){let{creative:t,isYandexCreative:i,getLogDetails:n}=e;return function(e,t){let{methodCallError:i,methodAbsent:n,workaroundMethodCallError:r,getterError:a,setterError:o}=t;const s=Wr({},b(Tm,(t,r)=>(function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];if("function"===typeof e[r])try{return e[r].apply(e,a)}catch(s){i({methodName:r,args:a,error:s})}else n({methodName:r,args:a})})),b(vn(Cm,(t,i)=>"function"===typeof e[i]),(t,i)=>(function(){try{return e[i]()}catch(o){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];r({methodName:i,args:n,error:o})}})));return Object(jl.a)(Em,(t,i)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){a({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(n){o({propertyName:i,error:n,value:t})}}})}),s}(t,{methodCallError:e=>{let{methodName:t,args:r,error:a}=e;Xo.c.error({error:new qo.a(a,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:zr({methodName:t,args:r},n())})}),Object(ud.a)(a)},methodAbsent:e=>{let{methodName:t,args:r}=e;Xo.c.error({error:new qo.a({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:zr({methodName:t,args:r},n())})})},workaroundMethodCallError:e=>{let{methodName:t,args:r,error:a}=e;Xo.c.error({error:new qo.a(a,{code:i?"YANDEX_VPAID_WORKAROUND_METHOD_CALL_ERROR":"VPAID_WORKAROUND_METHOD_CALL_ERROR",details:zr({methodName:t,args:r},n())})}),Object(ud.a)(a)},getterError:e=>{let{propertyName:t,error:r}=e;Xo.c.error({error:new qo.a(r,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:zr({propertyName:t},n())})}),Object(ud.a)(r)},setterError:e=>{let{propertyName:t,value:r,error:a}=e;Xo.c.error({error:new qo.a(a,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:zr({propertyName:t,value:r},n())})}),Object(ud.a)(a)}})}function Yr(e){"function"===typeof e.catch&&e.catch(e=>void 0)}function qr(){return(qr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Xr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Kr(e,t){return jf.indexOf(e)>=jf.indexOf(t)}function Qr(e){let{creativeLifeCycleStage:t,isYandexCreative:i,adCreativeWrapper:n}=e;if(Kr(t,"start")){if(n){const e=n.params.animationParameters,t=n.params.videoParameters;if(e&&!n.adCreativeLatch.getDispatched())return t?"YANDEX_AD_CREATIVE_WITH_VIDEO_START_TIMEOUT_NO_ANIMATION":"YANDEX_AD_CREATIVE_NO_VIDEO_START_TIMEOUT_NO_ANIMATION";if(t&&!n.videoStartedLatch.getDispatched())return e?"YANDEX_AD_CREATIVE_WITH_ANIM_VIDEO_START_TIMEOUT":"YANDEX_AD_CREATIVE_NO_ANIM_VIDEO_START_TIMEOUT"}return i?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT"}return Kr(t,"init")?i?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":i?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function Jr(){return(Jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Zr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $r(){return($r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ea(e){const{config:t,errors:i}=function(e){const t=[],i=Object($o.a)(e)?e:{};let n,r;return Vp(i.visibilitySlot)?n=i.visibilitySlot:void 0!==i.visibilitySlot&&t.push(new qo.a({code:"VISIBILITY_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),Vp(i.backgroundSlot)?r=i.backgroundSlot:void 0!==i.backgroundSlot&&t.push(new qo.a({code:"BACKGROUND_SLOT_IS_NOT_ELEMENT_OR_UNDEFINED",details:{config:e}})),{config:{visibilitySlot:n,backgroundSlot:r,clickThroughCallback:Object(ds.a)(i.clickThroughCallback)?i.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof i.clickThroughConfirmation?i.clickThroughConfirmation:void 0,renderSkin:Object(ds.a)(i.renderSkin)?i.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof i.retainLastMediaAfterPlayback?i.retainLastMediaAfterPlayback:void 0},errors:t}}(e),{config:n,errors:r}=K(e);return{config:$r({},t,n),errors:[...i,...r]}}function ta(e){const t=jh(e);if(void 0!==t)if(Object(hl.a)(t)){var i;if(i=t,qf||(qf=document.createElement("div")),qf.style.borderColor="",qf.style.borderColor=i,qf.style.borderColor.length>0)return t;Xo.c.error({error:new qo.a({code:"INVALID_COLOR_VALUE_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}else Xo.c.error({error:new qo.a({code:"INVALID_COLOR_FLAG_IN_AB_LONG_EXP",details:{experimentFlagName:e,flagValue:t}})})}function ia(e,t){return Object(Zo.a)(e,e=>Kf(e)?{duration:e.durationPortion*t,value:e.value}:{duration:e.durationPortion*t,values:e.values,easing:"easeInOut"})}function na(e,t,i,n,r){const a=t=>{const n=1-t;return 3*n*n*t*e+3*n*t*t*i+t*t*t},o=e=>{const i=1-e;return 3*i*i*e*t+3*i*e*e*n+e*e*e},s=t=>{const n=1-t;return 3*(2*(t-1)*t+n*n)*e+3*(-t*t*t+2*n*t)*i};return e=>{const t=e;let i,n,d,l,c,u;for(d=t,u=0;u<8;u++){if(c=a(d)-t,Math.abs(c)<r)return o(d);if(l=s(d),Math.abs(l)<1e-6)break;d-=c/l}if(n=1,(d=t)<(i=0))return o(i);if(d>n)return o(n);for(;i<n;){if(c=a(d),Math.abs(c-t)<r)return o(d);t>c?i=d:n=d,d=.5*(n-i)+i}return o(d)}}function ra(e){let{position:t,unit:i,steps:n}=e;const{step:r,stepPosition:a}=function(e,t){let i=0;const{length:n}=t;for(let r=0;r<n;r++){const a=t[r],o=i+a.duration,s=i<=e&&e<o;if(r===n-1||s)return{step:a,stepPosition:i};i=o}throw new qo.a({code:"CANNOT_DETERMINE_ANIMATION_SCRIPT_STEP_BY_POSITION",details:{position:e,steps:t}})}(t,n);if(Qf(r))return r.value;const{duration:o,values:[s,d],easing:l=Zf}=r;if(s===d)return s;if(t>=a+o)return d;const c=("function"===typeof l?l:Jf[l])((t-a)/o);return(0,$f[i])(c,s,d)}function aa(e,t){const i=og.get(e);return!i||t?ag:i}function oa(){return(oa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function sa(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function da(e,t,i,n){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!Vg.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,n?"important":""):e.style.cssText+=";"+t+": "+i+(n?"!important":""))}function la(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ca(e){const{ownerDocument:t}=e;return Boolean(t)?"false"===e.getAttribute("pip")?zo.a:function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===Zg.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?zo.a:Ii(e,{pip:"false"}):zo.a}function ua(e,t){void 0===t&&(t={meta:!1,strict:!0});const{meta:i=!1,strict:n=!1}=t,r=e.trim().replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n\n"),a=r.shift();if(!(null===a||void 0===a?void 0:a.startsWith("WEBVTT")))throw new Error('Must start with "WEBVTT"');const o=a.split("\n"),s=o[0].replace("WEBVTT","");if(s.length>0&&" "!==s[0]&&"\t"!==s[0])throw new Error("Header comment must start with space or tab");if(0===r.length&&1===o.length)return{valid:!0,strict:n,cues:[],errors:[]};if(!i&&o.length>1&&""!==o[1])throw new Error("Missing blank line after signature");const{cues:d,errors:l}=function(e,t){const i=[];return{cues:Object(wd.a)(Object(Zo.a)(e,(e,n)=>{try{return function(e,t,i){let n="",r=0,a=.01,o="",s="";const d=Object(wd.a)(e.split("\n"),Boolean);if(d.length>0&&d[0].trim().startsWith("NOTE"))return;if(1===d.length&&!Aa(d[0]))throw new Error("Cue identifier cannot be standalone (cue #"+t+")");if(d.length>1&&!Aa(d[0])&&!Aa(d[1])){throw new Error("Cue identifier needs to be followed by timestamp (cue #"+t+")")}d.length>1&&Aa(d[1])&&(n=d.shift());if("string"!==typeof d[0])throw new Error("Invalid cue timestamp (cue #"+t+")");const l=d[0].split(" --\x3e ");if(2!==l.length||!ha(l[0])||!ha(l[1]))throw new Error("Invalid cue timestamp (cue #"+t+")");if(r=pa(l[0]),a=pa(l[1]),i){if(r>a)throw new Error("Start timestamp greater than end (cue #"+t+")");if(a<=r)throw new Error("End must be greater than start (cue #"+t+")")}if(!i&&a<r)throw new Error("End must be greater or equal to start when not strict (cue #"+t+")");if(s=l[1].replace(tb,"").trim(),d.shift(),!(o=d.join("\n")))return;return{identifier:n,start:r,end:a,text:o,styles:s}}(e,n,t)}catch(r){return void i.push(r)}}),Boolean),errors:i}}(r,n);if(n&&l.length>0)throw l[0];const c=i?function(e){const t={};return Object(Jo.a)(e.slice(1),e=>{const i=e.indexOf(":"),n=e.slice(0,i).trim(),r=e.slice(i+1).trim();t[n]=r}),Object(md.a)(t).length>0?t:void 0}(o):void 0,u={valid:0===l.length,strict:n,cues:d,errors:l};return i&&(u.meta=c),u}function ha(e){return tb.test(e)}function pa(e){const t=e.match(tb);if(null===t)throw new Error("Timestamp parse error");const i=parseFloat(t[1]||"0"),n=parseFloat(t[2]),r=parseFloat(t[3]);return i*th+n*eh+r}function Aa(e){return-1!==e.indexOf("--\x3e")}function ma(e,t,i){function n(){0!==o&&(clearTimeout(o),o=0)}let{threshold:r=rb,delay:a=ab}=void 0===i?{}:i,o=0,s=0,d=0;const l=Ri(e,"click",(function(e){0!==o&&(n(),t(e))}),{passive:!0}),c=Ri(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,d=e.changedTouches[0].screenY,n(),o=window.setTimeout(n,a))}),{passive:!0}),u=Ri(e,"touchend",(function(e){0!==o&&(n(),t(e))}),{passive:!0}),h=Ri(e,"touchmove",(function(e){if(0===o||!Object($o.a)(e.touches)||1!==e.touches.length)return void n();const{screenX:t,screenY:i}=e.changedTouches[0];if(a=t,l=i,Math.abs(s-a)>r||Math.abs(d-l)>r)n();else var a,l}),{passive:!0});return()=>{l(),c(),u(),h()}}function va(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Object(wd.a)(ob,e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const n=function(e,t){var i,n;return void 0===e&&(e=window),void 0===t&&(t=null!==(i=null===(n=e.HTMLVideoElement)||void 0===n?void 0:n.prototype)&&void 0!==i?i:{}),Object(wd.a)(ob,e=>{let{enabled:i}=e;return i in t})}(e,t);return n.length>0?n[0]:void 0}function fa(e,t){const i=va(e,t);if(!i)return null;let n=e.document[i.element];return t&&t[i.element]&&(n=t),n||null}function ga(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ba(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _a(){return(_a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Oa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ta(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ea(e){var t,i;const n=!0===e.HAS_TITLE,r=!0===e.HAS_BODY,a=e.BUTTON_POSITION,{data_params:o}=null!==(t=e.AUCTION_DC_PARAMS)&&void 0!==t?t:{},s=o&&OA(o),{title:d,body:l}=null!==(i=null===s||void 0===s?void 0:s.text)&&void 0!==i?i:{},c=function(e){let{titleEnabled:t,bodyEnabled:i,body:n,title:r,buttonPosition:a}=e;return!(t&&i&&n&&r)?Object(xd.a)(Nb,a)?a:"left-bottom":Object(xd.a)(Pb,a)?a:"right-bottom"}({titleEnabled:n,bodyEnabled:r,buttonPosition:a,title:d,body:l}),u=c.split("-")[0];return{position:c,side:u,oppositeSide:"left"===u?"right":"left"}}function Sa(e){const{BUTTON_COLOR:t="#ffdb4d",BUTTON_TEXT_COLOR:i="#000000",BUTTON_BORDER_COLOR:n=""}=e,r=Object(Zo.a)((a=t,[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)]),e=>it(e)?e:0).join(", ");var a;return{backgroundColor:"rgb("+r+")",boxShadow:"0 6px 8px rgba("+r+", 0.53)",color:i,borderColor:n}}function wa(e,t,i){if(!e)return kb;const n=Rb(e.controlsVisibility),r=Boolean(t.abuseUrl);return{isCloseAvailable:n&&r,isCloseDialogActive:"selection"===i}}function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ia(){return(Ia=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Pa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Na(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Da(e){let{width:t}=e;return t<rg?"small":"middle"}function Ra(e){let{abuseScreenWidth:t,hasDescription:i}=e;return i&&t>=400?"middle":t>=500?"middle":"small"}function ka(e){let{isShortDescription:t,abuseScreenWidth:i}=e;return t?19:i<400?27:33}function Va(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:n}=e;return i?0!==t?"unmuted":n?"muted":"mutedStart":"unavailable"}function Ba(){return(Ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function La(){const e=zv(),t=gO(),i=_O();return Or(()=>Tn({slotSize:e,videoContentSize:t,videoSlotSize:i}),[e,t])}function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ma(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function xa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ua(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Fa(e,t,i){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,i);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=i}return i}function Ha(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wa(e){if(!Object($o.a)(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return g({stickTo:za(t,MT),stickyColorScheme:za(i,jT)})}function za(e,t){if("string"!==typeof e)return;if(!Object($o.a)(t))return;const i=e.toLowerCase();return oe(t).indexOf(i)>-1?i:void 0}function Ga(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?j(i):void 0}function Ya(e,t){return"true"===Ga(e,t)}function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Xa(){return(Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ka(e,t,i){const n=[],r=i.querySelector("AdSource");if(!r)throw new qo.a({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let a=VT;if(r.hasAttribute("id")){if(!it(a=Number(r.getAttribute("id"))))throw new qo.a({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else n.push(new qo.a({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const o=i.querySelector("Extensions");if(!o)throw new qo.a({code:"NO_AD_BREAK_EXTENSIONS",details:t});const s=r.querySelector("AdTagURI"),d=j(s);if(!s||!d)throw new qo.a({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const l={adTagURI:d,adFoxParameters:void 0},c=i.getAttribute("breakType"),u=L(i,"breakId"),h=L(i,"timeOffset","start"),p=()=>new qo.a({code:"VMAP_INCORRECT_TIME_OFFSET",details:Xa({},t,{timeOffset:h,breakIdAttribute:u})});if(-1===NT.indexOf(u))throw new qo.a({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Xa({},t,{breakIdAttribute:u})});const A=c===kT,m=function(e,t){switch(e){case DT:return[new qo.a({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case RT:case kT:return[];default:throw new qo.a({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(c,t);if(n.push(...m),A!==fi({adType:u})){if("inroll-overlay"!==u)throw new qo.a({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});n.push(new qo.a({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:u,adBreakTypeAttribute:c}}))}let v;if("inpage"===u)v=function(e){const t=Ga("Stick",e),i=Wa({stickTo:Ga("StickTo",e),stickyColorScheme:Ga("ColorScheme",e)});return qa({stick:"true"===t,adType:"inpage",replayMode:xT(e)},i)}(o);else if("inroll"===u)v={adType:"inroll"};else if("inroll-overlay"===u)v={adType:"inroll-overlay"};else if("start"===h){if(PT[h]!==u)throw p();v={adType:"preroll"}}else if("end"===h){if(PT[h]!==u)throw p();v={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(h))throw p();{if(["midroll","overlay"].indexOf(u)<0)throw p();const e=function(e,t){return Number(Ga(e,t))}("MaxRepeatCount",o),t=Q(L(i,"repeatAfter")),n={timeOffset:Q(h),repeatAfter:isNaN(t)?LT:t,maxRepeatCount:isNaN(e)?BT:e,repeatNumber:0};v=Xa("midroll"===u?{adType:"midroll",broadcastReplace:Ya("BroadcastReplace",o)}:{adType:"overlay"},n)}}return{adBreak:Xa({impId:a},v,e,l),errors:n,events:[]}}function Qa(){return(Qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ja(e){let{vmapXmlObject:t,vmapLoadParams:i,vmapAdBreaksConfig:n}=e;const{xml:r,responseText:a}=t,o={responseText:a};if(null===r||void 0===r)throw i?new qo.a({code:"VMAP_EMPTY_RESPONSE",details:Qa({},i,{vmapXmlObject:t})}):new qo.a({code:"VMAP_IS_EMPTY",details:{vmapXmlObject:t}});const s=r.querySelector("VMAP");if(!s)throw new qo.a({code:"NO_VMAP_ROOT_NODE",details:o});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new qo.a({code:"NO_VMAP_AD_BREAKS",details:o});const l=new ZT,c=r.querySelector("VMAP > Extensions");if(!c)throw new qo.a({code:"NO_VMAP_EXTENSIONS",details:o});const u=s.querySelectorAll("TrackingEvents");Object(zo.a)(u);const h=e=>{const t=c.querySelector('Extension[type="'+e+'"]');return t?j(t):""},p=e=>parseInt(h(e),10);l.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const A={sessionId:h("SessionID"),vastTimeout:p("VASTTimeout"),videoTimeout:p("VideoTimeout"),vpaidTimeout:p("VPAIDTimeout"),wrapperTimeout:p("WrapperTimeout"),wrapperMaxCount:p("WrapperMaxCount"),bufferFullTimeout:p("BufferFullTimeout"),bufferEmptyLimit:p("BufferEmptyLimit")},m=[],v=[];for(let g=0;g<d.length;g++)try{const{adBreak:e,errors:t,events:i}=Ka(Qa({},A,n),o,d[g]);l.adBreaks.push(e),m.push(...t),v.push(...i)}catch(f){m.push(f)}return{vmap:l,errors:m,events:v}}function Za(e){if(!Object($o.a)(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const r=(n=e.adFoxParameters,Object($o.a)(n)?pe(n)?void 0===n.containerId||Object(hl.a)(n.containerId)?Object(Kd.a)(n.ownerId)?0===n.ownerId.length?"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY_STRING":void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_NOT_A_STRING":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT");r?i.push(new qo.a({code:r,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var n;return{config:t,errors:i}}function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function eo(e){if(!Object($o.a)(e))return{};const{partnerId:t,category:i,vmapId:r,vmapScenarioId:a,impId:o,videoContentId:s,startWatchedTime:d,additionalParams:l,vmap:c}=e;if(void 0!==o&&!it(o))throw new qo.a({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!it(r))throw new qo.a({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});if(void 0!==c&&!Object(hl.a)(c))throw new qo.a({code:"INVALID_CONFIG_INLINE_VMAP_VALUE",details:{config:e}});if(void 0!==a&&!it(a))throw new qo.a({code:"INVALID_CONFIG_VMAP_SCENARIO_ID_VALUE",details:{config:e}});return $a({},function(e){const t=Object($o.a)(e)?e:{};return g({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{vmap:c,partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:o,vmapId:r,vmapScenarioId:a,videoContentId:"string"===typeof s?s:void 0,startWatchedTime:n(d)?d:void 0,additionalParams:lt(l)})}function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function io(e){if(!Object($o.a)(e))return{config:{},errors:[]};const{config:t,errors:i}=Za(e);return{config:to({},t,eo(e),function(e){if(Object($o.a)(e))return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?Object(Zo.a)(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?Object(Zo.a)(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?Object(Zo.a)(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&Object(hl.a)(e.vast)?String(e.vast):void 0,desiredBitrate:z(e.desiredBitrate),secureMode:HT(e),preferableAdSize:UT(e),loadHarmlessVastCallback:Object(ds.a)(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function no(){return(no=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ro(e){const t=Object($o.a)(e)?e:{};return g(no({},Wa(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function ao(){return(ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function oo(e){let t={};try{const i=e.getItem(qT);null!==i&&(t=JSON.parse(i))}catch(n){}const i={};return Object(Yl.a)(t,(e,t)=>{r(e)&&(i[t]=e)}),i}function so(){return(so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function lo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function ho(e){return Object(hl.a)(e)?e:iE}function po(){return(po=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Ao(){return(Ao=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function mo(){return(mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function vo(){return(vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function fo(e){return!!Object(Kd.a)(e)&&lE.indexOf(e)>-1}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function bo(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}function yo(e,t,i){const n=Object(Ol.a)(Object(Zo.a)(Object(ju.a)(t),e=>{let[t,i]=e;return[hE(t),i]}));return Bg(e,n,i)}function _o(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function Oo(e){var t;if(!e)return!1;const i=null!==(t=(e.ownerDocument||document).defaultView)&&void 0!==t?t:window;return Boolean(i.Element)&&e instanceof i.Element}function To(e,t){void 0===t&&(t=vE);const i=e.ownerDocument,{body:n}=i,r=i.documentElement,a=i.defaultView,o=Math.max(n.scrollHeight,n.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);if(e===r||e===n){return o-((a.pageYOffset||r.scrollTop)-(r.clientTop||0)+a.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function Eo(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let n=i;for(;Boolean(n);){if(Oo(n)&&!To(n))return!1;n=n.parentNode||n.host}return!0}function So(e,t,i){const n={promise:Promise.resolve(void 0),unsubscribe:()=>void 0};if(Object(Ko.a)("whenCanShow: start logic with threshold=["+i+"]"),function(e,t){const i=e.ownerDocument;return!!Object(cm.a)(i)&&Pn(e)>=t}(t,i))return Object(Ko.a)("whenCanShow: element is already visible"),n;if(Eo(t)&&_o(t))return Object(Ko.a)("whenCanShow: element is at the end of the <body>"),n;const r=[],a=()=>{Object(Ko.a)("whenCanShow: stop logic"),Object(gd.a)(Object(Zo.a)(r,e=>()=>Object(Qs.a)(e)))};let o=zo.a;if(ad&&(s=window).top===s.self){Object(Ko.a)("whenCanShow: use intersection observer");const n=e,a=t.getBoundingClientRect().height*i,{promise:s,teardown:d}=mE(n,"-"+a+"px",0);r.push(()=>d()),s.then(()=>{Object(Ko.a)("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+a+"]"),o()}).catch(ud.a)}var s;return r.push(ai(()=>{const e=Object(cm.a)(document),n=Pn(t),r=e&&n>=i,s=Eo(t)&&_o(t);r||s?(Object(Ko.a)("whenCanShow: visibility detected by interval isVisible=["+r+"] isAtTheEndOfTheBody=["+s+"]"),o(),a()):Object(Ko.a)("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+e+"}] elementVisibilityRatio=["+n+"] threshold=["+i+"]")})),{promise:new Promise(e=>{o=e}),unsubscribe:a}}function wo(){return(wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Co(e,t){e[TE]=t}function Io(e){return e[TE]}function Po(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function No(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Do(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ro(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ko(){return(ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Vo(){return(Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Bo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Lo(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:n}=e;const a=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:n,height:a}=i;if(!r(n)||!r(a))return;const o=a/n;return Math.floor(t*o)}({placeholderWidth:i,adContentSize:n});void 0!==a?n&&(Object(Ko.a)("inPage: adjust ad height to adContentSize=["+JSON.stringify(n)+"] nextHeight=["+a+"]"),Bg(t,{height:a+"px"},!0)):Object(Ko.a)("inPage: skip adjust placeholder to unknown ad size")}function jo(e,t){if(QE)return!1;const{left:i,right:n,top:r,bottom:a}=Fd(e),o=n-i,s=a-r,d=e.ownerDocument!==document;let l;if(d){const t=Array.prototype.slice.call(document.getElementsByTagName("iframe"),0);l=Object(Nh.a)(t,t=>t.contentWindow===e.ownerDocument.defaultView)}return!ed(t,t=>{let[n,a]=t,c=i+(o-1)*(1+n)/2,u=r+(s-1)*(1+a)/2;if(l){const{left:e,top:t}=Fd(l);c+=e,u+=t}const h=document.elementFromPoint(c,u);if(!h||e===h||e.contains(h))return!0;if(d&&h&&"IFRAME"===h.tagName&&h.contentWindow&&h.contentWindow.document.body.contains(e))return!0;if(Object(ds.a)(e.getRootNode)){if(function e(t,i){const n=t.getRootNode();if(!n||!n.host)return!1;if(i.contains(n.host))return!0;return e(n.host,i)}(h,e))return!0;if(function e(t,i){const n=i.getRootNode();if(!n||!n.host)return!1;if(t===n.host)return!0;return e(t,n.host)}(h,e))return!0}return!1})}function Mo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xo(){return(xo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function Uo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fo(e){return e.createElement("video")}function Ho(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Wo(){return(Wo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.r(t);var zo=i(4),Go=i(24),Yo=i(5),qo=i(0),Xo=i(1),Ko=i(3),Qo=i(116),Jo=i(7),Zo=i(6),$o=i(2);const es=-1,ts={droppedVideoFrames:es,corruptedVideoFrames:es,totalVideoFrames:es},is=a({},ts,{droppedVideoFramesRatio:es}),ns=0,rs={width:0,height:0},as={visibility:0,size:rs,relativeSizeRatio:0,screenSize:rs,devicePixelRatio:0,downlink:0,videoSlotSize:rs,videoContentSize:void 0,videoAvatarSize:rs,videoPixelRatio:es,videoToDevicePixelRatio:es,videoFramesInfo:is,videoSrc:"",videoMuted:!0,videoVolume:ns,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:es,remainingBufferedTime:0};var os=i(63),ss=i(79),ds=i(13),ls=i(20),cs=i(39),us=i(133);const hs="client-ts",ps="client-timezone-offset",As="adsdk-bundle-version",ms="adsdk-bundle-name",vs="adsdk-container-visibility",fs="adsdk-container-width",gs="adsdk-container-height",bs="video-avatar-width",ys="video-avatar-height",_s="ad-session-id",Os="sid",Ts="viewability-undetermined",Es="top-ancestor",Ss="top-ancestor-undetermined",ws="video-volume",Cs="video-muted",Is="shyid";var Ps=i(30),Ns=i(27),Ds=i(10);const Rs=(e,t,i)=>{let n=e.getItem(t);return n||(n=i(t),e.setItem(t,n)),n};var ks=i(62),Vs=i(74);const Bs=(e,t,i)=>{if(!Object($o.a)(e))return e;const n=e,r=t.split("."),a=r.pop();for(const o of r){const t=e[o];e=Object($o.a)(t)?t:e[o]={}}return e[a]=i,n},Ls=e=>{try{return e()}catch(t){return}},js=(e,t,i,n)=>(function(){try{return t.apply(i||this,arguments)}catch(r){if(Object(ds.a)(n)&&n(r),!0===r.preventProtect)throw r;js.log(r,e)}});js.log=function(e,t){console.log("LOG:"+t+":"+e)},js.setTimeout=(e,t,i,n)=>window.setTimeout(js("timeout",e,i,n),t);class Ms{}Ms.YaContextCallbacks=s("Ya.C","ontext._callbacks"),Ms.YaContextCallbacksCalls=s("Ya.C","ontext._callbacks_call"),Ms.AdvManager=s("A","dvManager"),Ms.AdvBlock=s("A","dvBlock"),Ms.RTB=s("R","TB"),Ms.Rtb=s("R","tb"),Ms.MetrikaAdtune=s("metrika_a","dtune");class xs{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const Us=Object(Ds.a)(()=>((e,t,i)=>{let n;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(n=Ls(()=>Object(Vs.a)(e,t))))return Ls(()=>Object(ks.a)(e.frames))||[]}),n||(n=i()),Bs(e,t,n),n})(self,"Ya.pcodeCrossFrameData",()=>new xs({}))),Fs=e=>Rs(Us(),e,()=>new xs({})),Hs=Object(Ds.a)(()=>((e,t,i)=>{let n=Object(Vs.a)(e,t);return n||(n=i(),Bs(e,t,n)),n})(self,"Ya.pcodeWindowData",()=>new xs({}))),Ws=e=>Rs(Hs(),e,()=>new xs({})),zs=js("metrika::pushEvent",(e,t)=>{const i=Object(Vs.a)(e,"Ya._metrika.dataLayer")||[];Bs(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:d({},t)}}})}),Gs=js("sessionId::configureMetrika",(e,t)=>{zs(e,{adSessionID:t})});var Ys=i(57);const qs=()=>(1e6*Object(Ys.a)()).toFixed(0)+(new Date).valueOf().toString();let Xs;const Ks=()=>(Xs||(Xs=((e,t,i,n)=>{let r=t.getItem("sessionId");return r||(r=i.getItem("sessionId")||e(),n(window,r)),t.setItem("sessionId",r),i.setItem("sessionId",r),r})(qs,Ws("common"),Fs("common"),Gs)),Xs);var Qs=i(36);const Js=()=>Object(Qs.a)(Ks)||void 0,Zs=e=>{var t;const i=null===(t=e.yandex)||void 0===t?void 0:t.getSiteUid;if(Object(ds.a)(i))return String(i())},$s="adfox.ru",ed=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1};var td=i(23);const id=[...["localhost","127.0.0.1"].concat([]),...["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz",td.b,"yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];var nd=i(143),rd=i(21);const ad="function"===typeof IntersectionObserver&&Object(rd.a)(IntersectionObserver);var od=i(68);const sd=ad||!od.a;var dd=i(46);const ld=(e=>Object(rd.a)(e.navigator.sendBeacon))(window);var cd=i(41);Object(cd.a)({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var ud=i(26),hd=i(55);const pd=e=>(e=>e instanceof Promise||"Promise"===Object(hd.a)(e)&&Boolean(f(()=>Object(rd.a)(e.constructor))))(e)||(e=>Boolean(f(()=>Object(ds.a)(e.then)&&Object(ds.a)(e.catch))))(e);var Ad=i(71),md=i(11),vd=i(15),fd=i(8),gd=i(33),bd=i(48),yd=i(129);const _d="ru",Od="TranslatorError";class Td extends bd.a{constructor(){super(...arguments),this.name=Od}}const Ed=function(e,t){void 0===t&&(t=!1);const i=(t,i,n)=>e[t][i][n],n=(t,i,n)=>e[t]&&e[t][i]&&e[t][i][n],r=e=>{let{keyset:t,key:r,lang:a=_d,onError:o,throwErr:s=!0}=e;if(n(a,t,r))return i(a,t,r);if(n(_d,t,r))return i(_d,t,r);{const e=new Td("Tanker locale for lang="+a+", keyset="+t+", key="+r+" not found");return s&&Object(ud.a)(e),"function"===typeof o&&o(e),""}};if(t){const e=e=>{let{keyset:t,key:i,lang:n}=e;return t+"_"+i+"_"+n};return Object(yd.a)(r,e)}return r}(i(168)),Sd=function(e,t){return void 0===t&&(t=_d),Ed({keyset:"adsdk",key:e,lang:t})};var wd=i(16),Cd=i(37),Id=i(32);const Pd=function e(t){return Object(Id.a)(t,(t,i)=>t.concat(Object(Cd.a)(i)?e(i):i),[])};var Nd=i(28);const Dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";var Rd=i(34);const kd=Object(Rd.b)(window,"adsdkwithcredentials"),Vd=kd?(""+kd).toLowerCase():void 0,Bd="true"===Vd||"false"!==Vd&&void 0,Ld="\x3c!-- Bad partner/domain --\x3e",jd="\x3c!-- PageImp data not found --\x3e";var Md=i(54),xd=i(22),Ud=i(43);const Fd=e=>{try{const{left:t,right:i,top:n,bottom:r}=e.getBoundingClientRect();return{left:t,right:i,top:n,bottom:r,width:i-t,height:r-n}}catch(t){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}};var Hd=i(12),Wd=i(137),zd=i(14),Gd=i(40),Yd=i(140),qd=i(76);const Xd=e=>{let{version:t=Ps.a,win:i}=e;const n=Object(Gd.a)(i),r=Yd.a.ES5,a=""+Object(qd.a)(t)+r+"/proxy_frame.html";return Object(ds.a)(n)?n(a):a};var Kd=i(17);let Qd;const Jd=(void 0===(Zd=window)&&(Zd=window),Qd||(Qd=Zd.document.createElement("div")),Qd);var Zd;const $d=(e,t)=>{const i="undefined"!==typeof Jd.style[e];if(i&&t&&Object(Kd.a)(t))try{Jd.style.cssText=e+": "+t+";";const i=Boolean(Jd.style.cssText);return Jd.style.cssText="",i}catch(n){return!1}return i};var el=i(87);const tl={},il=function(e){return void 0===e&&(e=""),tl[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<el.b.length;i++){const n=el.b[i],r=n?""+n+t:e;if($d(r))return tl[e]=r}return tl[e]=e}(e)},nl={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},rl=e=>{const t=S({},e,{RUM_WRAPPER:void 0});return encodeURI(JSON.stringify(t))},al={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},ol={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},sl=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const n=i?ol:al;E(t,n.attributes),T(t,n.styles)},dl=dd.a,ll=Object(cd.a)({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:dl}),cl=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),ul=e=>{const t=e.data;return!(!Object($o.a)(t)||"kill-me"!==t.type)};var hl=i(9),pl=i(88);const Al=5e3;class ml extends vd.a{constructor(e,t){var i,n,r;super(),this.port=e,this.commandHandlers=t,r=e=>{const t=Object(zd.a)({element:this.port,eventName:"message",listener:t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new qo.a({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))}});return this.addDestroyHandler(t),t},(n="listenForCommandEvents")in(i=this)?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,this.listenForNewCommands(),this.addDestroyHandler(Object(zd.a)({element:e,eventName:"messageerror",listener:()=>{this.destroy(new qo.a({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}}))}executeCommand(e,t){const i=Object(Ud.a)(6),n=Object(Nd.a)(Al);n.promise.then(()=>{this.destroy(new qo.a({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(ud.a),this.addDestroyHandler(()=>n.clear());const r=this.waitForNextCommandEvent({name:e,id:i}),a=new Promise((t,a)=>{r.then(r=>{if(n.clear(),"success"===r.status)t(r.payload);else if("error"===r.status){const e=r.payload;a(Object(pl.b)(e))}else{if("abort"===r.status)return;this.destroy(new qo.a({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:r.status,payload:r.payload,name:e,commandId:i}}))}}).catch(a)}),o=Object(Ds.a)(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:a,abort:o}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new qo.a({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(C({},e,{type:"command"}))}catch(t){0,this.destroy(new qo.a({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(n=>{n.name===e.name&&n.id===e.id&&(i(),t(n))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new qo.a({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const n=this.createCommandControlDescriptor(e),r=e.payload;try{i(n,r)}catch(a){0,this.destroy(new qo.a({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:a}}))}})}createCommandControlDescriptor(e){const t=new Hd.a;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(n=>{i||"abort"===n.status&&n.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(zo.a),{resolve:n=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:n})},reject:n=>{if(i)return;i=!0,t.removeAll();const r=Object(pl.c)(n);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:r})},subscribeForAbort:function(){return i?zo.a:t.add(...arguments)}}}isEventDataCommandLike(e){return!!Object($o.a)(e)&&("command"===e.type&&(!!Object(hl.a)(e.id)&&!!Object(hl.a)(e.status)))}}const vl=Object(md.a)({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),fl=["src","poster"],gl=Object(md.a)({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),bl=["video/mp4","video/webm"],yl={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},_l=Object(md.a)({load:0,play:0,pause:0,setAttribute:0});var Ol=i(47);const Tl=Object(md.a)({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),El=e=>{return I({},Object(Ol.a)(Object(Zo.a)(Tl,t=>[t,e[t]])),{target:null})},Sl=new WeakSet;class wl extends vd.a{static isVideoNodeLocked(e){return Sl.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Object(Ko.a)("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Object(Ol.a)(Object(Zo.a)(bl,e=>[e,this.params.videoNode.canPlayType(e)]))),Object(Jo.a)(Object(md.a)(yl),e=>{const t=yl[e];Object(Jo.a)(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Object(xd.a)(_l,e)){if("setAttribute"===e){const[e,n=""]=t;if(!Object(hl.a)(e))return;return Object(xd.a)(fl,e)?i.setAttribute(e,n):void Xo.c.error({error:new qo.a({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:n}})})}return i[e]()}Xo.c.error({error:new qo.a({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Object(xd.a)(gl,e))return void Xo.c.error({error:new qo.a({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const n=e,r=i[n];Bs(i,e,t),this.params.handleVideoNodePropertyChange(n,i[n]),this.addDestroyHandler(()=>{Bs(i,e,r)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;Object(Jo.a)(vl,t=>{this.addDestroyHandler(Object(zd.a)({element:e,eventName:t,listener:e=>{yl.hasOwnProperty(e.type)&&Object(Jo.a)(yl[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=El(e);this.params.handleVideoNodeEvent(t)}),0)}}))})}}class Cl extends vd.a{constructor(e){super(),this.params=e,P(this,"dispatcher",void 0),P(this,"localVideoNode",void 0),P(this,"vpaidEventBus",new Hd.a),P(this,"vpaidGetterPropertyBus",new Hd.a),P(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:n,args:r}]=t;i(),this.vpaidEventBus.dispatch({eventName:n,args:r})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:n,value:r}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:n,value:r})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:n}=e,[{methodName:r,args:a}]=t;const o=this.localVideoNode;if(o)try{Object(Ko.a)("[outsideAPI] call video method=["+r+"], args=["+a+"]");const e=o.callVideoNodeMethod(r,a);return pd(e)?e.then(e=>{i(e)}).catch(n):i(e)}catch(s){this.destroy(new qo.a({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new qo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:n,value:r}]=t;i();const a=this.localVideoNode;a?Object(xd.a)(gl,n)?(Object(Ko.a)("[outsideAPI] set video property name=["+n+"], value=["+r+"]"),a.setVideoNodeProperty(n,r)):this.destroy(new qo.a({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:n,value:r}})):this.destroy(new qo.a({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:n,value:r}}))}}),P(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),P(this,"handleVideoNodePropertyChange",(e,t)=>{Object(Ko.a)("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Object(Ko.a)("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&Xo.c.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new ml(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Object(zd.a)({element:e.port,eventName:"message",listener:e=>{if(!ul(e))return;const{data:t}=e;this.destroy(new qo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))}})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(Xo.c.error({error:null!==e&&void 0!==e?e:new qo.a({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Object(Ko.a)("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:n}=await t.promise;return Object(Ko.a)("[outsideApi]: finish get request"),{responseStatus:n,responseText:i}}async loadCreative(e){Object(Ko.a)("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Object(Ko.a)("[outsideApi]: done loading creative")}async initCreative(e){Object(Ko.a)("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Object(Ko.a)("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Object(Ko.a)("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Object(Ko.a)("[outsideApi]: "+(e?"show":"hide")+" frame"),sl({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(wl.isVideoNodeLocked(t))throw Object(Ko.a)("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Object(Ko.a)("[outsideApi]: assign video tag"),this.localVideoNode=new wl({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Object(Ko.a)("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Object(Ko.a)("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:n,args:r}=i;e===n&&t(n,r)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:n}=t;e(i,n)})}}const Il=async e=>{let{container:t,initAbort:i,initTimeout:n,win:r}=e;const a=Object(Ud.a)(6);Xo.c.event({name:"VASFrameInitStart",probability:Yo.a,data:{handshakeID:a}});const o=Date.now();let s=!1;const d=new Hd.a;d.add(()=>{s=!0}),i.add(()=>{Object(Ko.a)("[initOutsideApi]: init aborted"),Xo.c.event({name:"VASFrameInitAborted",probability:Yo.a,data:{handshakeID:a}}),d.dispatch(void 0)});const l=N({},Wd.a,{handshakeID:a}),c=(e=>{let{container:t,frameUrl:i,initialData:n}=e;const r=t.ownerDocument.createElement("iframe");return E(r,{name:rl(n),sandbox:cl,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),T(r,w({},nl)),sl({iframe:r,shouldBeVisibleNow:!1}),t.appendChild(r),r})({container:t,frameUrl:Xd({win:window}),initialData:l});d.add(()=>{Object(Ko.a)("[initOutsideApi]: remove frame"),Object(Go.a)(c)});const u=new MessageChannel;u.port1.start(),d.add(()=>{u.port1.close()});const h=new Promise((e,t)=>{Object(Ko.a)("[initOutsideApi]: wait for frame to load"),c.addEventListener("load",()=>{Object(Ko.a)("[initOutsideApi]: got load event. transfer port"),c.contentWindow.postMessage({type:"init",handshakeID:a},"*",[u.port2]),e()})}),p=new Promise((e,t)=>{const i=Object(zd.a)({element:u.port1,eventName:"message",listener:t=>{const n=t.data;"handshake"===n.type&&n.initialData.handshakeID===a&&(Object(Ko.a)("[initOutsideApi]: got handshake event"),i(),e())}})}),A=Promise.all([h,p]),{promise:m,clear:v}=Object(Nd.a)(n);if(m.then(()=>{var e;Xo.c.error({error:new qo.a({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=c.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:Fd(c),handshakeID:a}})}),d.dispatch(void 0)}),A.then(()=>{v()}),d.add(()=>{v()}),await Promise.race([A,m]),s)throw new qo.a({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});Xo.c.values({name:"VASFrameInitSuccess",probability:Yo.a,data:{handshakeID:a},labels:{},values:{timeSpent:Date.now()-o}}),c.removeAttribute("name"),i.removeAll();const f=new Cl({port:u.port1,initialData:l,frame:c});return f.addDestroyHandler(()=>{Object(Ko.a)("[initOutsideApi]: do teardown since class destroy"),Xo.c.event({name:"VASFrameDestroy",probability:Yo.a,data:{handshakeID:a}}),d.dispatch(void 0)}),f.addDestroyHandler(Object(zd.a)({element:u.port1,eventName:"message",listener:e=>{const t=e.data;Object($o.a)(t)&&"destroy"===t.type&&Xo.c.error({error:new qo.a({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})}})),Object(Ko.a)("[initOutsideApi]: init done"),f},Pl=e=>{Object(Ko.a)("[initOutsideApi]: do init"),(e=>ll.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:dl,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,n=new Hd.a,r=t.ownerDocument.defaultView;return{initPromise:Il({container:t,initAbort:n,initTimeout:i,win:r}),abortInit:()=>n.dispatch(void 0)}},Nl={idle:["initializing"],initializing:["initialized"]};class Dl extends vd.a{constructor(){super(),D(this,"initPromise",void 0),D(this,"state",new fd.a({name:"idle"},(e,t)=>{const i=Nl[e.name];return i&&Object(xd.a)(i,t.name)||Xo.c.error({error:new qo.a({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Object(Ko.a)("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),D(this,"users",0),Object(Ko.a)("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Object(Ko.a)("SingleVASFrame: do init");const t=Pl(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Object(Ko.a)("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Object(Ko.a)("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let Rl;const kl=()=>(Rl||(Rl=new Dl).addDestroyHandler(()=>{Rl=void 0}),Rl),Vl=async e=>{const t=kl();return(await t.initPromise).doGETRequest(e)},Bl=function(e,t){let i=e[t];if(!Object(rd.a)(i)){const r=i;try{delete e[t],i=e[t],e[t]=r}catch(n){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,Object($o.a)(t))for(const n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return new i},Ll=e=>e instanceof Date||"Date"===Object(hd.a)(e);var jl=i(42);const Ml=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let n=t;if(Object(Cd.a)(t)){return t.map(t=>e(t,i))}return Ll(t)?new Date(t.getTime()):(!Object(ds.a)(t)&&Object($o.a)(t)&&(n=i.preserveConstructors?Bl(t):{},Object(jl.a)(t,(t,r)=>{n[r]=e(t,i)})),n)},xl=["nobanner","noad"];let Ul={ads:[],children:[],xmlString:""};const Fl=(e,t,i)=>{const r=L(e,t,i),a=parseInt(r,10);return n(a)?a:i},Hl=-1,Wl=4,zl=2147483647,Gl=-1;var Yl=i(67);const ql={adLabel:0,actionButton:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0},Xl=Object(md.a)(ql),Kl=b(ql,()=>!1),Ql={controlsVisibility:{}},Jl={};let Zl={sequence:0,adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};let $l={showCountDown:!0,showSoundButton:!0,showLabel:!0};const ec=e=>({src:j(e.querySelector("StaticResource")),program:L(e,"program"),xPosition:Fl(e,"xPosition",0),yPosition:Fl(e,"yPosition",0),width:Fl(e,"width",0),height:Fl(e,"height",0)}),tc=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])},ic=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const n=e.querySelector("VideoClicks"),r=e.querySelectorAll("MediaFile"),a=e.querySelector("Linear"),o=e.querySelector("NonLinear"),s=e.querySelector("NonLinearClickThrough"),d=e.querySelector("TrackingEvents"),l=d?d.querySelectorAll("Tracking"):[],c=Object(ks.a)(e.querySelectorAll("Impression")),u=e.querySelectorAll("Error"),h=e.querySelector("Extensions"),p=e.querySelector("Description"),A=e.querySelectorAll("Icons Icon"),m=e.querySelector("AdParameters"),f=e.querySelector("AdSystem"),g=e.querySelector("AdTitle"),b=Ml(Zl,{preserveConstructors:!1}),y=e.querySelector("InLine"),_=e.querySelector("Wrapper"),O=Boolean(y);if(O===Boolean(_)){if(O)throw new qo.a({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new qo.a({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(b.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return Hl;const i=parseInt(t,10);return Z(i)?i:(Xo.c.error({error:new qo.a({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),Hl)}(e),O&&m){const e=j(m);b.adParameters=e;const t=x(e);if(Object($o.a)(t)){b.adParametersObject=t;const e=function(e){if(!Object($o.a)(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!Object($o.a)(t))return;const{data_params:i}=t;if(!Object($o.a)(i))return;const{misc:n}=i;if(!Object($o.a)(n))return;const{click_url:r}=n;if(!Object($o.a)(r))return;const{abuse:a}=r;return Object(hl.a)(a)?a:void 0}(t);e&&(b.abuseUrl=e),b.playbackAdParameters=K(t.playbackParameters).config;const i=function(e){if(!Object($o.a)(e))return;const{background:t}=e;return Object($o.a)(t)&&Object(hl.a)(t.color)?t.color:void 0}(t);void 0!==i&&(b.backgroundColor=i);const n=function(e){const{PACKSHOT_START_NOTICE_URL:t}=e;if(Object(hl.a)(t))return t}(t);n&&tc(b,"packshotStart",n)}}if(_){const t=j(e.querySelector("VASTAdTagURI"));if(!t)throw new qo.a({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});b.vastAdTagUri=t}if(void 0!==r)for(let v=0;v<r.length;v++){const e=U(r[v]);e&&b.mediaFiles.push(e)}if(n){const e=j(n.querySelector("ClickThrough"));e&&(b.clickThrough=e)}if(n){const e=n.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)tc(b,"clickThrough",j(e[t]))}for(let v=0;v<l.length;v++){const e=L(l[v],"event"),t=j(l[v]);if("progress"===e){const e=L(l[v],"offset",""),n=J(e);void 0!==n?b.progressTrackings.push({urls:[t],offset:n}):Xo.c.error({error:new qo.a({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else tc(b,e,t)}Object(Jo.a)(c,e=>{tc(b,"impression",j(e))});for(let v=0;v<u.length;v++)tc(b,"error",j(u[v]));for(let v=0;v<A.length;v++)b.icons.push(ec(A[v]));if(h){const e=h.querySelectorAll('Extension[type="skipAd"]');for(let l=0;l<e.length;l++)Xo.c.event({name:"UsingSkipAdExtensionInVast",probability:Yo.a,data:void 0}),tc(b,"skip",j(e[l]));const t=h.querySelector('Extension[type="skipTime"]');if(M(t)){const e=Q(j(t));Xo.c.event({name:"UsingSkipTimeExtensionInVast",probability:Yo.a,data:{skipTime:e}}),b.skipTime=Q(j(t)),b.skipTime>180&&(b.skipTime=0)}const i=h.querySelector('Extension[type="controls"]');i&&(b.imhoParams=(e=>{const t=$({},$l),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==L(i,"layout"));const n=e.querySelector('control[id="soundbtn"]');n&&(t.showSoundButton="0"!==L(n,"layout"));const r=e.querySelector('control[id="adlabel"]');return r&&(t.showLabel="0"!==L(r,"layout")),t})(i));const n=h.querySelector('Extension[type="isClickable"]');M(n)&&(b.isClickable="0"!==j(n)),h.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(b.isNotReplacedBroadcastAd=!0);const r=h.querySelector('Extension[type="backgroundBlur"]');M(r)&&(b.backgroundBlur="1"===j(r));const a=h.querySelector('Extension[type="OutstreamEndScreen"]');a&&(b.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const n=L(e[i],"src");Object(hl.a)(n)&&t.randomBackgrounds.push(n)}}return t})(a));const o=h.querySelector('Extension[type="CustomTracking"]'),s=o?o.querySelectorAll("Tracking"):[];for(let l=0;l<s.length;l++){const e=L(s[l],"event");tc(b,e,j(s[l]))}const d=h.querySelector('Extension[type="isIndependentOnVideoElement"]');M(d)&&(b.isIndependentOnVideoElement="1"===j(d))}if(M(p)&&(b.description=j(p)),M(f)&&(b.adSystem=j(f)),M(g)&&(b.adTitle=j(g)),a){const e=L(a,"skipoffset","").trim();if(""!==e){const t=Q(e);isNaN(t)?v(new qo.a({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),b.trackingEvents.error):b.skipOffset=t}const t=a.querySelector("Duration");t&&(b.duration=Q(j(t)))}if(o){if(b.isNonLinear=!0,s){const e=j(s);e&&(b.clickThrough=e)}b.mediaFiles=Object(wd.a)([F(o)],Boolean)}return b},nc=async(e,t)=>{const i=V(e),n="YANDEX"===t.vastSourceType;if(!i)throw new qo.a({code:n?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:e}});const a=i.querySelector("VAST");if(!a){const t=n?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",r=n?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new qo.a({code:xl.indexOf(B(i))>-1?t:r,details:{xmlString:e}})}const o=a.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!Object(Kd.a)(e))return!1;const t=Number(e.split(".")[0]);return!!r(t)&&t<=Wl}(o))throw new qo.a({code:n?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:e,version:o}});const s=Array.prototype.slice.call(i.querySelectorAll("VAST Ad"));if(0===s.length)return Ml(Ul,{preserveConstructors:!1});const d=[],l=Object(Zo.a)(s,e=>{const i=ic(e,{isYandexVastUrl:n}),{vastAdTagUri:r}=i;if(!r)return[i];if(t.wrapperMaxCount<=1)return Xo.c.error({error:new qo.a({code:n?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:a,wrapperTimeout:o}=t,s=Object(Nd.a)(o),l=s.promise.then(()=>(Xo.c.error({error:new qo.a({code:n?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:o,vastAdTagUri:r,parsingParameters:t}})}),[])),c=lc({url:h({url:r,options:a,win:window}),loadParameters:ee({},t,{wrapperMaxCount:t.wrapperMaxCount-1})}).then(e=>(s.clear(),d.push(e),Object(Zo.a)(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),Object(Jo.a)(Object(md.a)(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===Hl&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,i),e)))).catch(e=>(Xo.c.error({error:new qo.a({code:n?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:e,vastAdTagUri:r,parsingParameters:t}})}),[]));return Promise.race([l,c])}),c=R(await Promise.all(l)),[u,p]=k(c,e=>e.isNonLinear),A=p.length>0;return A&&u.length>0&&Xo.c.error({error:new qo.a({code:n?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:A?p:u,xmlString:e,children:d}},rc=async(e,t)=>{let i;try{await new Promise((n,r)=>{t&&t.then(n,r),i=window.setTimeout(n,e)})}finally{window.clearTimeout(i)}};var ac=i(35);const oc=e=>{let{url:t,data:i,withCredentials:n=!0}=e;return new Promise((e,r)=>{const a=new XMLHttpRequest;a.open("GET",t),a.withCredentials=n,a.onerror=()=>r({reason:"error",error:new Error("XHR Error["+a.status+"]["+a.statusText+"]["+t+"]")}),a.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:n}=t;i({responseText:n,responseStatus:e})}})({xhr:a,resolve:e});try{a.send(i)}catch(o){o.message="XHR Send Error["+o.message+"]["+t+"]",r({reason:"error",error:o})}})},sc=e=>{let{thrownError:t,errorCode:i,errorDetails:n,timeoutCode:r,timeoutDetails:a}=e;const o=t;if("string"===typeof o.reason&&Object($o.a)(o.error)){const{error:e,reason:t}=o;if("error"===t)return new qo.a(e,{code:i,details:n});if("timeout"===t)return new qo.a(e,{code:r,details:a})}return new qo.a(t,{code:i,details:n})},dc=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:n}=i,r=u(t),a="VASFrame"===i.requestMethod?Vl:oc,o="boolean"!==typeof Bd||Bd;try{const{responseText:e,responseStatus:s}=await ie({url:t,data:null,timeout:n,doRequest:a,withCredentials:o}),d=function(e,t,i){if(200!==t)switch(e){case Ld:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case jd:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,s,r);if(d)throw new qo.a({code:d,details:{url:t,responseText:e,responseStatus:s}});return nc(e,i)}catch(s){const e="AD_FOX"===i.vastSourceType;let a;a=Object(Md.a)(s)?s.code:e?"ADFOX_VAST_LOAD_ERROR":r?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const o=sc({thrownError:s,errorCode:a,errorDetails:void 0,timeoutCode:r?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:n,url:t}});return Promise.reject(o)}},lc=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new qo.a({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:n}=i;Xo.c.event({name:"VastLoadStart",probability:Yo.a,data:{url:t,loadParameters:i,timeout:n}});const r=Date.now(),a=await dc({url:t,loadParameters:i});return Xo.c.values({name:"VastLoadSuccess",probability:Yo.a,data:{url:t,timeout:i.vastTimeout,vast:a},labels:{},values:{timeSpent:Date.now()-r}}),a},cc={bids:[],creatives:{},creativeUrls:{}};var uc=i(104);const hc=100,pc=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class Ac extends vd.a{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,le(this,"requestPromise",void 0),le(this,"onFetchBidsStart",new Hd.a),le(this,"postMessageRequestId",cs.a+"_"+Object(Ud.a)(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){Xo.c.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;Xo.c.event({name:"HBFetchBidsStart",data:de({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:n}=Object(Nd.a)(t);throw this.addDestroyHandler(i),await n,new qo.a({code:"HB_FETCH_BIDS_TIMEOUT",details:de({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{Xo.c.errorToStats(e),this.destroy(cc)})}subscribeHBMessages(){this.addDestroyHandler(Object(zd.a)({element:this.win,eventName:"message",listener:e=>{const{data:t,source:i}=e;if(!Object($o.a)(t)||!Object($o.a)(i))return;const{id:n,methodName:r}=t;if(n===this.postMessageRequestId)switch(r){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:Xo.c.error({error:new qo.a({code:"HB_MESSAGE_UNKNOWN_METHOD",details:de({},this.getDataForLogs(),{methodName:r})})})}}}))}handleFetchBidsStartEventData(e){if(!Object($o.a)(e))return void Xo.c.error({error:new qo.a({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;r(t)?this.onFetchBidsStart.dispatch({timeout:t}):Xo.c.error({error:new qo.a({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:de({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:n,warnings:r}=function(e,t){const i=[];if(!Array.isArray(e))throw new qo.a({code:"HB_NON_ARRAY_BIDS_DATA",details:se({},t,{fetchedBids:e})});e.length>1&&i.push(new qo.a({code:"HB_EXTRA_BIDS_DATA",details:se({},t,{fetchedBids:e})}));const[n]=e;if(!Object($o.a)(n))throw new qo.a({code:"HB_NON_OBJECT_BIDS_DATA",details:se({},t,{fetchedBids:e})});const{bids:r,creatives:a,creativeUrls:o}=n;if(!Array.isArray(r)||!pc(r,$o.a))throw new qo.a({code:"HB_INVALID_BIDS_OBJECTS",details:se({},t,{fetchedBids:e})});if(!Object($o.a)(a)||!pc(oe(a),Kd.a))throw new qo.a({code:"HB_BIDS_INVALID_CREATIVES",details:se({},t,{fetchedBids:e})});if(!Object($o.a)(o)||!pc(oe(o),Kd.a))throw new qo.a({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:se({},t,{fetchedBids:e})});return{bids:r,creatives:a,creativeUrls:o,warnings:i}}(e,this.getDataForLogs()),a={bids:t,creatives:i,creativeUrls:n};re(r),Xo.c.event({name:"HBFetchBidsComplete",data:de({},this.getDataForLogs(),{fetchedBidsObject:a})}),this.destroy(a)}catch(t){Xo.c.errorToStats(t)}}sendBidsRequest(){const e=Object(uc.a)(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const r of e)ae(de({win:r},t));const{promise:i,clear:n}=Object(Nd.a)(hc);return this.addDestroyHandler(n),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),n=new Promise(n=>{t=Object(zd.a)({element:e,eventName:"message",listener:e=>{let{data:r}=e;r===i&&(t(),n())}}),e.postMessage(i,"*")});return{teardown:t,promise:n}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new qo.a({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const r=ne(t=>{n(),e(t)},e=>{Xo.c.error({error:new qo.a({code:"HB_START_MULTIPLE_TIMES",details:de({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(r))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const mc={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},vc=Object(md.a)(mc),fc=Object(Rd.b)(window,"adsdksecuremode"),gc=fc&&Object(xd.a)(vc,fc)?fc:void 0,bc=e=>{let{secureMode:t,url:i}=e;const n=null!==gc&&void 0!==gc?gc:t;return"ForceSafe"===n||"Safe"===n&&(!i||!u(i))},yc=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],_c=(me(),function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1});var Oc=i(73);const Tc=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var Ec,Sc;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(Ec||(Ec={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Sc||(Sc={}));const wc=e=>Math.max(0,Math.round(e));class Cc{constructor(){this.config=ge()}set(e,t){this.config[e]=t}get(e){return this.config[e]}toString(){return JSON.stringify(this.config)}}let Ic=0;const Pc=()=>Ic,Nc=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Dc=e=>{return e.getFullYear()+"-"+Nc(e.getMonth()+1,2)+"-"+Nc(e.getDate(),2)+"T"+Nc(e.getHours(),2)+":"+Nc(e.getMinutes(),2)+":"+Nc(e.getSeconds(),2)+"."+Nc(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+Nc(Math.floor(Math.abs(t)/60),2)+":"+Nc(Math.abs(t)%60,2)})(e)},Rc=()=>(function(e,t){let i=e+Object(Ys.a)()*(t+1-e);return i=Math.floor(i)})(1,4294967295),kc=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(a){}const n=/(%[0-9A-Z]{2})+/g;let r;for(let o=0;o<i.length;o++){const e=i[o].split("="),s=e.slice(1).join("=");try{const i=e[0].replace(n,decodeURIComponent);if(s.replace(n,decodeURIComponent),t===i){r=decodeURIComponent(s);break}}catch(a){return}}return r};let Vc=0;const Bc=e=>{let{win:t,date:i=new Date,pr1:n,pr:r,testtag:a,isTurbo:o=Ae(t),addsSsSkipToken:s=!1,layoutConfig:d=new Cc,cookies:l,loaderVer:c,bundleVer:u,adSessionId:h,location:p,extid_loader:A,extid_tag_loader:m}=e;d.set("req_no",(()=>Vc++)()),d.set("ad_no",be());const v=Te({},(e=>{let{win:t,pr:i,date:n=new Date,pr1:r=Rc(),location:a,extid_loader:o,extid_tag_loader:s}=e;const d=me(t)&&t.context&&t.context.sourceUrl||void 0,l=d||t.document.referrer;return{dl:d||a||ye(t),date:Dc(n),pd:n.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:r,pr:i,prr:l,pv:n.getHours(),pw:n.getDay(),extid_loader:void 0===o?_e(t):o,extid_tag_loader:void 0===s?Oe(t):s}})({win:t,date:i,pr1:n,pr:r,location:p,extid_loader:A,extid_tag_loader:m}),{ylv:"0."+(c||"1"),ybv:"0."+(u||"1"),ytt:a?a.toString():"","is-turbo":Number(o),"skip-token":ve(),"ad-session-id":h||Ks(),"layout-config":d.toString(),"enable-flat-highlight":1},l);return s&&(v["ss-skip-token-length"]=20,v["allow-repeat-ads"]=0),v},Lc=2048,jc=[/avito/],Mc=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],xc=["an.ya","ndex.ru/adf","ox"].join(""),Uc=td.a+"/adfox";class Fc extends vd.a{constructor(e){super(),this.params=e,Re(this,"loadVastPromise",void 0),Re(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Object(Nd.a)(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw Xo.c.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){var e;const{adConfig:t,adBreak:i,adPlacementOptions:n}=this.params;let{adFoxParameters:r}=t;const{bids:a,containerId:o}=r;if(!a&&o){const e=new Ac(De({},r,{containerId:o}),i,window);this.addDestroyHandler(()=>{e.destroy(cc)});const n=await Promise.race([e.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new qo.a({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:t,adBreak:i,timeout:i.vastTimeout}})})]);r=De({},r,n)}const s=await Promise.race([Ne({adFoxParameters:r,adPlacementOptions:n,secureMode:t.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new qo.a({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:t,adBreak:i,adFoxParameters:r}})})]),{vastBase64:d}=s;if(d){const e=await this.processBase64Vast(d).catch(e=>{throw new qo.a({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:t,adBreak:i,vastBase64:d,error:e}})});return Xo.c.event({name:"AdFoxVastLoadedUsingHB",data:{adConfig:t,adBreak:i,vast:e}}),this.destroy(),e}const l=await this.processLoadingHBCreativeUsingCampaignId(r,s),c=Object(wd.a)(null!==(e=r.bids)&&void 0!==e?e:[],e=>""+(e.campaign_id||"")===s.campaignId);return Object(Jo.a)(c,e=>{let{win_notice:t}=e;t&&Object(Jo.a)(l.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),Xo.c.event({name:"AdFoxVastLoaded",data:{adConfig:t,adBreak:i,vast:l}}),this.destroy(),l}processLoadingHBCreativeUsingCampaignId(e,t){let{campaignId:i}=t;const{adConfig:n,adBreak:r}=this.params,{creatives:a={},creativeUrls:o={}}=e,s=a[i],d=o[i];if(!s&&!d)throw new qo.a({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:n,adBreak:r,adFoxParameters:e,campaignId:i}});return s?this.processBase64Vast(s).catch(e=>{throw new qo.a({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:n,adBreak:r,vastBase64:s,error:e}})}):lc({url:d,loadParameters:bi({adConfig:n,adBreak:r,isAdFox:!0,adPlacementOptions:as})}).catch(e=>{throw new qo.a({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:n,adBreak:r,vastUrl:d,error:e}})})}processBase64Vast(e){let t;try{t=O(e)}catch(i){throw new qo.a({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:i}})}return nc(t,bi({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:as}))}}var Hc=i(75);const Wc=Hc.a+"/1_0",zc="https://"+td.b+"/"+Wc+"/",Gc="https://"+td.a+"/system/video-ads-sdk/",Yc={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer",OldPythiaSurvey:"vpaid-pythia-survey-embed"},qc=""+zc+(Yc.VpaidPlayerLoader+".js"),Xc=Object(Rd.b)(window,"adsdknovastconvertation"),Kc="https://"+td.b+"/"+Wc+"/ad_creative.js",Qc="https://"+td.b+"/"+Wc+"/overlay_creative.js",Jc={OverlayTGO:Qc,MotionTGO:Kc,InteractiveElementsAdCreative:Kc,ThemeEmpty:Kc},Zc={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript"},$c=Le({},rs,{bitrate:0});const eu=b(i(139).a,e=>"https://"+td.b+"/"+Wc+"/"+e+".js"),tu=function(e){const t={};return Object(jl.a)(e,(e,i)=>{t[e]=i}),t}(eu),iu=je({},$c,{url:eu.InteractiveElementsAdCreative,type:Zc.Motion}),nu={OverlayTGO:"overlay",MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty"},ru="https://"+td.b+"/"+Hc.a+"/1_0/vpaid-motion.js",au="https://"+td.b+"/pcode/media/vpaid-motion.js",ou="https://"+td.a+"/system/video-ads-sdk/vpaid-motion.js",su=Object(qd.a)()+"vpaid-motion.js",du=[ru,au,ou,su],lu="https://"+td.b+"/pcode/media/vpaid-creative.js",cu="https://"+td.b+"/"+Hc.a+"/1_0/vpaid-creative.js",uu=[lu,cu],hu=["application/javascript","application/x-javascript"],pu=xe({},$c,{type:"application/x-javascript",url:Object(qd.a)()+"vpaid-pythia-survey-embed.js"}),Au=Ue({},$c,{type:"application/x-javascript"}),mu=Fe({url:Kc},Au),vu=He({},$c,{url:eu.MotionTGO,type:Zc.Motion}),fu=We({},$c,{url:eu.ThemeEmpty,type:Zc.VpaidCreative}),gu=15;const bu=["https://"+td.b+"/pcode/media/vpaid-pythia-survey-embed.js"],yu="video-banner_survey",_u=e=>{const{mediaFiles:t}=e;return Array.isArray(t)&&ed(t,e=>Object(xd.a)(uu,e.url))},Ou="video-banner_theme_empty";var Tu=i(72);var Eu=i(119),Su=i(70),wu=(i(170),i(52)),Cu=i(49),Iu=i(108);const Pu="AdSDKLoader"===Ns.c,Nu=Object(md.a)({AdSDKLoader:0,VpaidPlayerLoader:0,OldPythiaSurvey:0}),Du=Object(xd.a)(Nu,Ns.c),Ru="VpaidPlayerLoader"===Ns.c,ku=Gc+"adsdk.js",Vu="1.0-"+Ps.a;var Bu=i(138),Lu=i(50),ju=i(38),Mu=i(102),xu=i(117);const Uu=Object(Rd.b)(window,"adsdkmotionoldanimation"),Fu=Object(Rd.b)(window,"adsdkthemeemptyactionbutton");var Hu=i(152);const Wu=Object(Rd.b)(window,"adsdkver"),zu=parseInt(null!==Wu&&void 0!==Wu?Wu:"",10),Gu=it(zu)&&r(zu)?zu:void 0,Yu={adsdkdebug:Mu.a,adsdkecmaver:xu.a,adsdkmotionoldanimation:Uu,adsdknovastconvertation:Xc,adsdksecuremode:gc,adsdkthemeemptyactionbutton:Fu,adsdktracelogs:Hu.a,adsdkwithcredentials:Bd,adsdkver:Gu},qu={adsdkdebug:"UsingAdsdkDebugHardcodedParam",adsdkecmaver:"UsingAdsdkEcmaVerHardcodedParam",adsdkmotionoldanimation:"UsingAdsdkMotionOldAnimationHardcodedParam",adsdknovastconvertation:"UsingAdsdkNoVASTConvertationHardcodedParam",adsdksecuremode:"UsingAdsdkSecureModeHardcodedParam",adsdkthemeemptyactionbutton:"UsingAdsdkThemeEmptyActionButtonHardcodedParam",adsdktracelogs:"UsingAdsdkTraceLogsHardcodedParam",adsdkwithcredentials:"UsingAdsdkWithCredentialsHardcodedParam",adsdkver:"UsingAdsdkVerHardcodedParam"};var Xu=i(59),Ku=i(141),Qu=i(58);const Ju=()=>{if(!Du)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!Object(Kd.a)(t))return;const n=Ns.c,r=""+("AdSDKLoader"===n?Gc:zc)+Yc[n]+".js",a=Object(ls.f)(nt({},Object(ls.e)(t),{search:"",hash:""}));(Object(hl.a)(i)?"anonymous"===i.toLowerCase():""===i)&&(Xo.c.event({name:"CrossOriginAnonymousLoaderScript",probability:Yo.a,data:{src:t,crossOrigin:String(i)}}),Object(Qu.a)('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),a!==r&&(Object(ds.a)(Object(Gd.a)(window))?Xo.c.event({name:"AbdLoaderScripsSrc",probability:Yo.a,data:{src:t}}):0===a.indexOf(Ku.a)?Xo.c.event({name:"HardcodedLoaderScriptSrc",probability:Yo.a,data:{src:t}}):"AdSDKLoader"===n?(Object(Qu.a)("You are using unsupported Video Ads SDK script src ["+a+"] please, use new link ["+ku+"]"),Xo.c.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:Yo.a,data:{src:t,crossOrigin:String(i)}})):Xo.c.event({name:"UnexpectedLoaderScripsSrc",probability:Yo.a,data:{src:t,expectedSrc:r,crossOrigin:String(i)}}))};var Zu=i(131);const $u=1e3,eh=60,th=60*eh,ih=30*(24*th*$u),nh=()=>{Date.now()-Ns.a<ih||rc(2e3).then(()=>at({url:zc+"build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==Ps.a&&Xo.c.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+Ps.a+") is out of date. Actual version is "+i+"."})}).catch(e=>{Xo.c.error({error:new qo.a(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})};var rh=i(44);const ah={PREROLL:"preroll",MIDROLL:"midroll",PAUSEROLL:"pauseroll",OVERLAY:"overlay",POSTROLL:"postroll"},oh={VAST_URL:"vastUrl",VAST:"vast",AD_FOX_URL:"adFoxUrl",AD_FOX_URL_VAST:"adFoxUrlVast",PARTNER_ID:"partnerId",CATEGORY:"category",TAGS_LIST:"tagsList",CHARSET:"charset",VIDEO_CONTENT_ID:"videoContentId",VIDEO_CONTENT_NAME:"videoContentName",VIDEO_PUBLISHER_ID:"videoPublisherId",VIDEO_PUBLISHER_NAME:"videoPublisherName",VIDEO_GENRE_ID:"videoGenreId",VIDEO_GENRE_NAME:"videoGenreName",EXT_PARAM:"extParam",PLAYER_INFO:"playerInfo",DURATION:"duration"},sh=window;st({videoAd:{debugParameters:{},get AdConfigParams(){return sh.ya&&!sh.ya.isDeploying&&Xo.c.warning({name:"UsingDeprecatedGlobalVideoAdAdConfigParamsProperty",message:"You are using deprecated ya.videoAd.AdConfigParams property",probability:Yo.a}),oh},encodeUrl:Eu.a,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{Object(rh.b)({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:rh.a})})},skipTokens:[],modules:{},play:e=>new Promise((t,i)=>{Object(rh.b)({moduleName:"AdLoader",version:void 0,onSuccess:n=>{let{play:r}=n;r(e).then(t).catch(i)},onError:i,win:window,timeout:rh.a})}),getBundleVersion:()=>String(Ps.a),getModuleVersion:()=>String(Ps.b)},mediaAd:{get DOMAIN(){return sh.ya&&!sh.ya.isDeploying&&Xo.c.warning({name:"UsingDeprecatedGlobalMediaAdDomainProperty",message:"You are using deprecated ya.mediaAd.DOMAIN property",probability:Yo.a}),td.b},get SDK_VERSION(){return sh.ya&&!sh.ya.isDeploying&&Xo.c.warning({name:"UsingDeprecatedGlobalMediaAdSdkVersionProperty",message:"You are using deprecated ya.mediaAd.SDK_VERSION property, use videoAd.getBundleVersion() instead",probability:Yo.a}),Vu},get AdType(){return sh.ya&&!sh.ya.isDeploying&&Xo.c.warning({name:"UsingDeprecatedGlobalMediaAdAdTypeProperty",message:"You are using deprecated ya.mediaAd.AdType property",probability:Yo.a}),ah},get TrackingEventType(){return sh.ya&&!sh.ya.isDeploying&&Xo.c.warning({name:"UsingDeprecatedGlobalMediaAdTrackingEventTypeProperty",message:"You are using deprecated ya.mediaAd.TrackingEventType property",probability:Yo.a}),{ERROR:"error",IMPRESSION:"impression",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CLOSE:"close",SKIP:"skip",CLICK_THROUGH:"clickThrough",PROGRESS:"progress",REWIND:"rewind",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION:"acceptInvitation"}},get AdConfigParams(){return sh.ya&&!sh.ya.isDeploying&&Xo.c.warning({name:"UsingDeprecatedGlobalMediaAdAdConfigParamsTypeProperty",message:"You are using deprecated ya.mediaAd.AdConfigParams property",probability:Yo.a}),oh},bannerAd:{initVideo:(e,t,i)=>{Xo.c.event({name:"UsingDeprecatedGlobalMethodInitVideo",probability:Yo.a,data:void 0}),Object(rh.b)({moduleName:"BannerAd",version:void 0,onSuccess:n=>{n.initVideo(e,t,i)},onError:i,win:window,timeout:rh.a})}},inPage:{addInPageVideo:(e,t,i)=>{Xo.c.event({name:"UsingDeprecatedGlobalMethodAddInPageVideo",probability:Yo.a,data:void 0}),Object(rh.b)({moduleName:"InPage",version:void 0,onSuccess:n=>{n.addInPageVideo(e,t,i)},onError:i,win:window,timeout:rh.a})}}},video:{addVideoPlayer:(e,t,i,n)=>{Xo.c.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://yandex.ru/support/video-hosting/index.html."}),Object(rh.b)({moduleName:"VideoPlayer",version:void 0,onSuccess:r=>{r.addVideoPlayer(e,t,i,n)},onError:zo.a,win:window,timeout:rh.a})}}},"ya");const dh=ya;if(Object($o.a)(Lu.b)?Xo.c.event({name:"UsingGlobalStatsRootField",probability:Yo.c,data:{statsRootParams:Lu.b}}):Object(Su.a)(Lu.a)&&Xo.c.error({error:new qo.a({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:Lu.a}})}),(Pu||Ru)&&(Object(Jo.a)(Object(ju.a)(Yu),e=>{let[t,i]=e;void 0!==i&&Xo.c.event({name:qu[t],data:{value:i}})}),Cu.b)){Cu.b instanceof ReferenceError?Xo.c.event({name:"VasUAASConfigIsEmpty",data:{}}):Xo.c.error({error:new qo.a(Cu.b,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:Cu.b}})})}if(Du){const e=Object(Ol.a)(Object(Zo.a)(Object(md.a)(wu.a),e=>["flag_"+e,1])),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;Object(hl.a)(e)&&(t.crossorigin=e.toLowerCase())}Xo.c.values({name:"CreateLoader",data:ot({statsRootParams:Lu.b},t),labels:{bundleName:Ns.c},values:ot({liveTime:Date.now()-Ns.a},e)}),Bu.a&&Iu.a.logTimingAndLoadRum("adsdk.js",(null===Xu.a||void 0===Xu.a?void 0:Xu.a.src)||ku)}Du&&(Ju(),nh());class lh{static addUnit(e){Array.isArray(dh.videoAd.skipTokens)?-1===dh.videoAd.skipTokens.indexOf(e)&&dh.videoAd.skipTokens.push(e):dh.videoAd.skipTokens=[e]}static toBase64(){const e=lh.getUnits();return e.length?_(Object(Zo.a)(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(dh.videoAd.skipTokens)?dh.videoAd.skipTokens:[]}}var ch=i(106),uh=i(107);const hh=e=>{let{additionalParams:t,videoContentId:i,videoContentName:n,videoPublisherId:r,videoPublisherName:a,videoGenreId:o,videoGenreName:s,musicArtistId:d,musicGenreId:l,musicGenreName:c,preferableAdSize:u}=e;return ct({},lt(t),{"video-content-id":i,"video-content-name":n,"video-publisher-id":r,"video-publisher-name":a,"video-genre-id":dt(o),"video-genre-name":dt(s),music_artist_id:d,"music-genre":l,"music-genre-name":c,wtime:void 0,"ad-session-id":Js(),"pcode-icookie":ch.a,"pcode-test-ids":uh.a,"pcode-flags":JSON.stringify(wu.a),"preferable-ad-size-width":u?String(u.width):void 0,"preferable-ad-size-height":u?String(u.height):void 0,"pcode-version":void 0,"widget-version":void 0})},ph=e=>{let{adConfig:t,adBreak:i,random:n,win:r}=e;const{targetRef:a,width:o,height:s,tagsList:d,extParam:l,charset:c,distrId:u}=t,h=r.document.referrer,p=Object(Tu.a)(r);let A;return a?(A=a,Xo.c.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:Yo.a})):"about:blank"===p?(A=h,Xo.c.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:Yo.a})):A=p,ht({},hh(t),{"repeat-number":ut(i)?String(i.repeatNumber):void 0,wtime:ut(i)?String(Math.floor(i.timeOffset)):void 0,"target-ref":A,"page-ref":h,"video-width":o,"video-height":s,"tags-list":dt(d),"ext-param":l,charset:c||"UTF-8","video-session-id":i.sessionId,"skip-token":lh.toBase64(),"distr-id":u,"enable-page-options":"65536",rnd:String(n)})},Ah="Yabs Ad Server",mh=[Ah,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"],vh=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},fh=vh();var gh=i(105);const bh={PAGEURL:encodeURIComponent(Object(gh.a)(document).location),Y_DEVICE_TYPE:fh?"mobile":"desktop",Y_AD_SESSION_ID:Ks()},yh=["clickThrough","close","impression","mute","skip","unmute"],_h=e=>"VastTracking_"+e,Oh={},Th=100,Eh={width:void 0,height:void 0},Sh=void 0,wh={text:"",textColor:"#FFFFFF",isVisible:!1};var Ch=i(145);const Ih=e=>{const{protocol:t}=Object(ls.e)(e);return"blob:"===t?e:u(e)?Object(ls.b)(e,{[Os]:cs.a,vsid:Ch.a}):e},Ph=e=>wt({},e,{url:Ih(e.url)});var Nh=i(45),Dh=(i(126),i(109));const Rh=e=>{let{src:t,win:i}=e;const n=$e(t),{promise:r,teardown:a}=Object(Dh.a)({src:n?su:t,win:i});return{promise:r.then(()=>i.getVPAIDAd),teardown:a}},kh=function(e,t){void 0===t&&(t=e=>Boolean(function(e){return e}(e)));for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},Vh=1e3,Bh=Object(Ds.a)(()=>{Xo.c.error({error:new qo.a({code:"MEDIA_FILE_STRING_SIZE",details:void 0}),probability:Yo.a})}),Lh=(Vt({},wu.a),Vt({},wu.a)),jh=e=>Lh[e],Mh=(zo.a,zo.a,zo.a,zo.a,Bt("DPR_STRATEGY",["SUBTRACTION","DIVISION"])),xh=e=>{const t=Number(jh(e));return n(t)?t:void 0},Uh=xh("DPR_WEIGHT"),Fh=xh("PERFECT_VDPR"),Hh=xh("PERFECT_VPR"),Wh=xh("VPR_PRIORITY_MULTIPLIER"),zh="undefined"===typeof Wh?1.2:Wh,Gh="undefined"===typeof Fh?1:Fh,Yh="undefined"===typeof Hh?1:Hh,qh="video/webm",Xh='video/webm; codecs="vorbis,vp8"';const Kh="video/mp4",Qh=4,Jh=.001,Zh=["application/vnd.apple.mpegurl","application/x-mpegurl"],$h=["bitrate","minBitrate","maxBitrate","width","height"],ep=9007199254740991,tp={"vp08, vorbis":"vp8, vorbis",vp08:"vp8"},ip=(e=>{const t=Xt(e);return!!t&&Boolean(f(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),np=Xt();var rp=i(64);const ap=document.createElement("video"),op="function"===typeof ap.load,sp=op?function(e,t){return void 0===t&&(t=ap),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,dp=!rp.a&&sp("video/webm"),lp=ip&&dp,cp=np&&Object(rd.a)(np),up=Object(ds.a)(os.a),hp=void 0!==window.AbortController&&void 0!==window.fetch&&Object(rd.a)(AbortController)&&Object(rd.a)(fetch),pp=cp&&hp,Ap=(e,t)=>t?e+'; codecs="'+t+'"':e,mp=(e,t)=>e+"_"+t;class vp extends vd.a{constructor(e){let{win:t,onReport:i}=e;super();const n=t;if(void 0===n.ReportingObserver)return;const r=new n.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:r.takeRecords()})},{buffered:!0});r.observe();const a=r.takeRecords();a.length&&i({reportSourceEvent:"buffered",reports:[],records:a}),this.addDestroyHandler(Object(zd.a)({element:t,eventName:"beforeunload",listener:()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})}})),this.addDestroyHandler(()=>{const e=r.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),r.disconnect()})}}const fp=250;let gp=0;const bp=[],yp=(e,t)=>{const i=e.contentDocument.body;return ai(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class _p extends vd.a{static create(e){const{parentElement:t,attributes:i,scope:n}=e,r=oi(t,i);if(!r)throw ii({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new _p(si({},e,{iframe:r}))}static createHidden(e){const{parentElement:t,attributes:i,scope:n}=e,r=function(){const e=oi(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!r)throw ii({scope:n,errorType:"NOT_CREATED",error:new Error,details:void 0});return new _p(si({},e,{iframe:r}))}constructor(e){super(),di(this,"iframe",void 0),di(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{Object(Go.a)(i)}),this.addDestroyHandler(yp(this.iframe,()=>{this.destroy(ii({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(ri(this.window,(i,n,r)=>{const a="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;Xo.c.error({error:ii({scope:t,errorType:n,error:i,details:si({},a,{error:i,data:r})})})}))}}var Op,Tp=i(86);!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(Op||(Op={}));Object(cd.a)({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});const Ep=Object(cd.a)({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});var Sp,wp;const Cp=null!==(Sp=null!==(wp=window.URL)&&void 0!==wp?wp:window.webkitURL)&&void 0!==Sp?Sp:{},Ip="function"===typeof Cp.createObjectURL&&"function"===typeof Cp.revokeObjectURL;class Pp{static canPreload(e){return sp(e)&&this.canPreloadToBlob(e)}static canPreloadToBlob(e){return Ip&&!Ut(e)}constructor(e){hi(this,"readyPromise",void 0),hi(this,"ready",!1),hi(this,"video",void 0),hi(this,"xhr",void 0),hi(this,"blobUrl",void 0);const{type:t}=e;if(!Pp.canPreload(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=this.preloadToBlob(e);Ep.call({callbackArguments:[{mediaFile:e,videoPreloader:this}]}),this.readyPromise=i.then(t=>(this.ready=!0,null!==t&&void 0!==t?t:e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),Object(Kd.a)(this.blobUrl)&&Cp.revokeObjectURL(this.blobUrl)}async preloadToBlob(e){const{response:t}=await at({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return ui({},e,{url:Cp.createObjectURL(t)})}}class Np{constructor(e,t,i){Ai(this,"parsedParams",void 0),Ai(this,"contentType",void 0),Ai(this,"_promise",void 0),Ai(this,"_isPreloaded",!1),Ai(this,"_vpaidWindow",void 0),Ai(this,"preloaders",[]),Ai(this,"_preloadedVpaidAdParameters",void 0),Ai(this,"_preloadedVideoFile",void 0),Ai(this,"_preloadedAdCreativeInitFunction",void 0),Ai(this,"getMediaFiles",void 0),Ai(this,"getJSMediaFile",void 0),Ai(this,"getVastAd",void 0),this.parsedParams=function(e){const{videoSlot:t,viewMode:i=Op.NORMAL,preloadJS:n=!0,preloadVideo:r=!0}=e,{width:a=t.clientWidth,height:o=t.clientHeight}=e,s=z(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>zl)&&(d=zl),{preloadTimeout:d,width:a,height:o,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:n,preloadVideo:r}}(e),this.contentType=t,this.getMediaFiles=i.getMediaFiles,this.getJSMediaFile=i.getJSMediaFile,this.getVastAd=i.getVastAd}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&Xo.c.event({name:"PreloadCancelled",data:{reason:e},probability:Yo.a}),this._promise=void 0,this._vpaidWindow=void 0,Object(Jo.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&"js"===this.contentType){if(!ci(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=Tt(i.adParameters),n=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,r=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([n,r]))}t&&"video"===this.contentType&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(e){Object(Jo.a)(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(e,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=_p.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:n}=Dt({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:n}),this._preloadedAdCreativeInitFunction=await t}catch(n){return void this._logError(n,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["preloadTimeout"]),n=this.getJSMediaFile();if(!n)return;const r=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=r;try{const{promise:e,teardown:t}=Rh({src:n.url,win:r});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(s){return this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=r.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const a=r.Ya.preloadVPAIDAd(pi({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let o;this.preloaders.push(a);try{o=await a.readyPromise}catch(s){return void this._logError(s,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=o.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:n,desiredBitrate:r}=t;const{prioritisedMediaFile:a}=ti(e,{container:{width:i,height:n},desiredBitrate:r});if(!a)return;const o=Ph(a),s=new Pp(o);let d;this.preloaders.push(s);try{d=await s.readyPromise}catch(l){return void this._logError(l,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=d}_logError(e,t){li(e),Xo.c.error({error:new qo.a(e,{code:t})})}}class Dp{constructor(){mi(this,"src",void 0),mi(this,"type",void 0),mi(this,"x",NaN),mi(this,"y",NaN),mi(this,"width",NaN),mi(this,"height",NaN)}static fromVastIcon(e){const t=new Dp;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class Rp{get contentType(){return this.getJSMediaFile()?"js":"video"}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,vi(this,"icons",void 0),vi(this,"preloadingController",void 0),vi(this,"isTrackingEventsEnabled",!0),vi(this,"duration",0),vi(this,"getMediaFiles",()=>Ct(this.vastAd.mediaFiles,this.adConfig.secureMode)),vi(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:n,adParameters:r,isNonLinear:a}=t;if(a)return Sh;if(Nt(t)){const{parsed:{videoMediaFiles:e}}=Tt(r);return 0===e.length?Eh:Et(e)}const o=It(n,i);return Et(o?[o]:Ct(n,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),vi(this,"getJSMediaFile",()=>It(this.vastAd.mediaFiles,this.adConfig.secureMode)),vi(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=Object(Zo.a)(this.vastAd.icons,e=>Dp.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}trackError(e){v(e,this.vastAd.trackingEvents.error)}removeTrackingEvents(){this.isTrackingEventsEnabled=!1}trackEvent(e,t,i){if(!this.isTrackingEventsEnabled)return void Object(Ko.a)("eventName ("+e+") was NOT tracked in MediaAd (disabled with method removeTrackingEvents)");Object(Ko.a)("Track event=["+e+"]");const n=this.vastAd.trackingEvents[e];bt({eventName:e,trackingEventDetails:i,trackingUrls:Array.isArray(n)?n:[],options:t})}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new Np(e,this.contentType,{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===Ah||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(function(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,n=Array.isArray(i)?i[0]:void 0;return Object($o.a)(n)&&n.url===vu.url}(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if($e(e.url)&&u(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return Xo.c.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:Yo.a,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return Xo.c.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:Yo.a,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Object(xd.a)(mh,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Object(Ko.a)("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||Nt(this.vastAd)}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!u(e.url))}}class kp{constructor(e){var t,i,n;n=void 0,(i="mediaAds")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.mediaAds=e.sort((e,t)=>{const i=e.vastAd.sequence,n=t.vastAd.sequence;return i===n?0:i===Hl?1:n===Hl?-1:i-n})}getDuration(){return Object(Id.a)(this.mediaAds,(e,t)=>e+t.getDuration(),0)}getFirstMediaAd(){return this.mediaAds[0]}hasFilteredOutMediaFiles(){return ed(this.mediaAds,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}preload(e){return Object(Jo.a)(this.mediaAds,t=>{t.preload(e)}),e=>{Object(Jo.a)(this.mediaAds,t=>{t.cancelPreloading(e)})}}}const Vp=e=>{try{return"display"in Ei(e)}catch(t){return!1}},Bp=Object(Oc.a)();var Lp=i(110);const jp=function(e){if(void 0===e&&(e=window),Object(Lp.a)(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),Mp=Object(Lp.a)(),xp=dp?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=";var Up=i(130);const Fp="__yaMuffleVideoPlayPromiseOriginalPlay",Hp=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),n=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&Pi(Di(e))}})(e);return()=>{t(),i(),n()}};var Wp;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(Wp||(Wp={}));class zp{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:Object($o.a)(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=Wp[this.code]||"")}}var Gp=i(56);const Yp=function(e){void 0===e&&(e=window);const t=Object(Gp.a)(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var qp;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(qp||(qp={}));const Xp=function(e){void 0===e&&(e=window);const t=Object(Gp.a)(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},Kp=function(e){return void 0===e&&(e=window),Object(Gp.a)(e).toLowerCase().indexOf("tizen")>-1},Qp=function(e){void 0===e&&(e=window);const t=function(e){void 0===e&&(e=window);const t=Object(Gp.a)(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,n]=t;return{major:parseInt(i,10),minor:parseInt(n,10)}}(e);return 2===t.major&&3===t.minor},Jp=function(e){return void 0===e&&(e=window),Object(Gp.a)(e).toLowerCase().indexOf("web0s")>-1};var Zp,$p=i(78),eA=i(111);!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(Zp||(Zp={}));const tA={once:!0,passive:!0};let iA=!1;const nA=-1<Bp&&Bp<=16,rA=Li({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:qp.AutomaticallyGenerated}),aA=Li({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:qp.AutomaticallyGenerated}),oA=500;class sA{constructor(e,t){let{checkSoundEnabled:i,promise:n}=t;if(this.video=e,this.stop=zo.a,this.isStopped=!1,this.revertVideoState=zo.a,this.getIsActiveWindow())return this.promise=Promise.resolve(Bi({},aA,{detectionMethod:qp.WindowHasBeenActive})),this;if(n)return this.promise=n,this;const r=document.createElement("div");r.style.display="none";const a=Hp(e),o=Vi(e,()=>Ii(e,{src:xp}));let s;this.revertVideoState=Object(Ds.a)(()=>{o(),e.load(),a(),Object(Go.a)(r)}),this.promise=new Promise(async(e,t)=>{let n,r,a;if(s=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);r=e.autoplayAbility,n=e.detectionMethod}else r=!1;if(!this.isStopped){if(r)a=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);a=e.autoplayAbility,n=n&&n!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+n+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(Li({canPlayUnMuted:r,canPlayMuted:a,detectionMethod:n||qp.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,s(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(Vi(t,()=>{t.load()}),await rc(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:qp.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{ki(t,{useProgressEvent:!0,timeoutForNonPromisePlay:oA}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const n=function(e){const{error:t}=e;return new zp(t)}(t);n&&n.code===Wp.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:qp.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:qp.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!Object($o.a)(i))return;const{isActive:n,hasBeenActive:r}=i;return{isActive:n,hasBeenActive:r}}(e);return Boolean(t&&t.hasBeenActive)}}var dA;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(dA||(dA={}));const lA="TRUE"===jh("DISABLE_SUBTITLES")||void 0,cA="1"===jh("AB_LONG_EXP_FLAG_ENABLE_ABUSE_DISPLAY"),uA={open:{reason:1,action:0},close:{reason:2,action:0}},hA={notInterestedAd:{reason:3,action:2},alreadyPurchasedAd:{reason:14,action:2},seenTooOftenAd:{reason:22,action:2},overlapContentAd:{reason:9,action:1},anotherReasonAd:{reason:23,action:0}},pA={unpleasantContentAd:{reason:24,action:2},scammersAd:{reason:26,action:2},illegalGoodsOrServiceAd:{reason:27,action:2},anotherReasonAd:{reason:23,action:0}},AA={politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}},mA=Mi({},uA,{hide:{reason:21,action:4},complaint:{reason:5,action:2},about:{reason:19,action:0}},hA,pA,AA),vA={abuseUrl:""},fA=xi({},{notInterested:{reason:3,action:2},annoying:{reason:1,action:3},spam:{reason:5,action:4}},{notInterestedSocialAd:{reason:15,action:4},politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}}),gA={isAvailable:!1},bA=/&\w+;/g,yA={"&quot;":'"',"&laquo;":"\xab","&raquo;":"\xbb","&bdquo;":"\u201e","&ndash;":"\u2013","&mdash;":"\u2014"},_A=["spec","logo","misc"],OA=e=>{if(Object($o.a)(e))for(const t in e)if(e.hasOwnProperty(t)&&!Object(xd.a)(_A,t)){const i=e[t];return i.text&&Object(Kd.a)(i.text.banner_flags)&&(i.text.banner_flags=i.text.banner_flags.split(",")),i}},TA=e=>{const{AUCTION_DC_PARAMS:t}=e;if(!Object($o.a)(t)||!Object($o.a)(t.data_params))return;const i=OA(t.data_params);if(!Object($o.a)(i))return;const n=i.assets;if(!Object($o.a)(n))return;const r={},{logo:a,button:o}=n;if(Object($o.a)(a)){const e=Object(ju.a)(a);if(e.length){const t={};for(const[i,n]of e){const{url:e,width:r,height:a}=n;Object(hl.a)(e)&&it(r)&&it(a)&&(t[i]={url:e,width:r,height:a})}Hi(t)||(r.logo=t)}}if(Object($o.a)(o)){const{caption:e,href:t,key:i}=o;Object(hl.a)(e)&&Object(hl.a)(t)&&Object(hl.a)(i)&&(r.button={caption:e,href:t,key:i})}return r},EA=e=>{if(!Array.isArray(e))return[];const t=Object(Zo.a)(e,e=>{const t=e[0],i=Number(e[1]),n=Number(e[2]),r=e[3];if(Object(hl.a)(t)&&!isNaN(i)&&!isNaN(n)){const e=[t,String(i),String(n)];return Object($o.a)(r)&&e.push(r),e}});return Object(wd.a)(t,e=>void 0!==e)},SA=Object(Ds.a)(e=>{Xo.c.event({name:"AdCreativeVideoBannerVastHasDisclaimers",data:e,probability:Yo.a})}),wA=Object(Ds.a)(()=>{Xo.c.event({name:"AdCreativeVideoBannerVastUnmoderatedInsideText",data:void 0,probability:Yo.a})}),CA=Object(Ds.a)(()=>{Xo.c.event({name:"AdCreativeVideoBannerVastHasBooleanFields",data:void 0,probability:Yo.a})}),IA=Object(Ds.a)(e=>{Xo.c.event({name:"AdCreativeVideoBannerVastHasBannerFlags",data:e,probability:Yo.a})}),PA=e=>{if(!Object($o.a)(e))return;const{AUCTION_DC_PARAMS:t,HAS_DOMAIN:i,AGE_BACKGROUND_COLOR:n,AGE_TEXT_COLOR:r,BODY_BACKGROUND_COLOR:a,BODY_TEXT_COLOR:o,BUTTON_BORDER_COLOR:s,BUTTON_COLOR:d,BUTTON_TEXT_COLOR:l,DISCLAIMER_BACKGROUND_COLOR:c,DISCLAIMER_TEXT_COLOR:u,DOMAIN_BACKGROUND_COLOR:h,DOMAIN_TEXT_COLOR:p,HAS_AGE:A,HAS_BODY:m,HAS_BUTTON:v,HAS_DISCLAIMER:f,HAS_LEGAL:g,HAS_TITLE:b,LEGAL_BACKGROUND_COLOR:y,LEGAL_TEXT:_,LEGAL_TEXT_COLOR:O,TITLE_BACKGROUND_COLOR:T,TITLE_TEXT_COLOR:E,BUTTON_POSITION:S,BUTTON_LABELS:w}=e;if(!Object($o.a)(t)||!Object($o.a)(t.data_params))return;("HAS_TITLE"in e||"HAS_LEGAL"in e||"HAS_DISCLAIMER"in e||"HAS_BODY"in e||"HAS_BUTTON"in e||"HAS_DOMAIN"in e||"HAS_AGE"in e)&&CA();const C=OA(t.data_params);if(!Object($o.a)(C)||!Object($o.a)(C.text))return;const I=C.text,{title:P,domain:N,body:D,age:R,banner_flags:k}=I,V=C.unmoderated||I.unmoderated||{},{punyDomain:B}=V,L=Array.isArray(k)?k:[],{hasDrugDisclaimer:j,hasDietarysupplDisclaimer:M,hasDistanceSales:x,legalDisclaimerText:U}=function(e){var t,i;if(!Object($o.a)(e))throw new qo.a({code:"CANNOT_PARSE_DISCLAIMERS_FROM_AD_PARAMETERS",details:{adParametersJson:e}});const{AUCTION_DC_PARAMS:n,LEGAL_TEXT:r,HAS_LEGAL:a}=e,o=OA(null!==(t=null===n||void 0===n?void 0:n.data_params)&&void 0!==t?t:{}),{warning:s,dynamic_disclaimer:d,banner_flags:l}=null!==(i=null===o||void 0===o?void 0:o.text)&&void 0!==i?i:{},c=null!==l&&void 0!==l?l:[],u=Object(xd.a)(c,"medicine"),h=Object(xd.a)(c,"dietarysuppl"),p=Object(xd.a)(c,"distance_sales"),A=a&&(null===r||void 0===r?void 0:r.trim())&&r,m=Object(hl.a)(s)&&"1"===d?s:void 0;return(a||Object(hl.a)(A)||Object(hl.a)(m)||u||h||p)&&SA({HAS_LEGAL:a,LEGAL_TEXT:r,dynamic_disclaimer:d,warning:s,hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p}),{hasDrugDisclaimer:u,hasDietarysupplDisclaimer:h,hasDistanceSales:p,legalDisclaimerText:A||m||void 0}}(e);L.length>0&&IA({bannerFlags:L}),V===I.unmoderated&&wA();const F={title:kA(P),domain:kA(N),punyDomain:kA(B),domainBackgroundColor:kA(h),domainTextColor:kA(p),hasDomain:VA(i),body:kA(D),ageRestriction:kA(R),hasAgeRestriction:VA(A),extraLinks:NA(V),legalDisclaimerText:U,hasDrugDisclaimer:j,hasDietarysupplDisclaimer:M,hasDistanceSales:x,hasButton:VA(v),images:Wi(e),clickThruUrl:Fi(e),ageBackgroundColor:kA(n),ageTextColor:kA(r),bodyBackgroundColor:kA(a),bodyTextColor:kA(o),buttonBorderColor:kA(s),buttonColor:kA(d),buttonTextColor:kA(l),hasDisclaimer:VA(f),disclaimerBackgroundColor:kA(c),disclaimerTextColor:kA(u),hasBody:VA(m),hasLegal:VA(g),hasTitle:VA(b),legalBackgroundColor:kA(y),legalText:kA(_),legalTextColor:kA(O),titleBackgroundColor:kA(T),titleTextColor:kA(E),buttonPosition:kA(S),buttonLabels:BA(w),offer:C,assets:TA(e),targetUrl:zi(e)};return F.title&&(F.title=Ui(F.title)),F.body&&(F.body=Ui(F.body)),F},NA=e=>{if(!Object($o.a)(e))return[];const{sitelinks:t,addInfo:i,telNum:n,workingTime:r,metro:a,region:o}=e;if(RA(t)){const e=Object(wd.a)(t,e=>Object(hl.a)(e.title)&&Object(hl.a)(e.url));if(e.length)return Object(Zo.a)(e,e=>({type:"sitelink",text:e.title,url:e.url}))}const s=null===i||void 0===i?void 0:i.callouts_list;if(DA(s)){const e=Object(wd.a)(s,hl.a);if(e.length)return Object(Zo.a)(e,e=>({type:"callout",text:e}))}const d=Object(wd.a)([n,r,a,o],hl.a);return Object(Zo.a)(d,e=>({type:"contact",text:e}))},DA=e=>Array.isArray(e)&&pc(e,Kd.a),RA=e=>Array.isArray(e)&&pc(e,$o.a),kA=e=>Object(hl.a)(e)?e:void 0,VA=e=>"boolean"===typeof e?e:void 0,BA=e=>Object($o.a)(e)&&pc(oe(e),e=>"string"===typeof e)?e:void 0,LA=Xl,jA=0,MA=5,xA=!0,UA=!0,FA=1e3/60;class HA{constructor(e,t){this.callback=t,en(this,"animationFrameFunctions",void 0),en(this,"time",0),en(this,"startTime",0),en(this,"id",0),en(this,"started",!1),en(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=$i(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const WA=1500;class zA{constructor(e){this.params=e,tn(this,"animationFramesController",void 0),tn(this,"position",0),tn(this,"offset",0),tn(this,"duration",void 0),tn(this,"onFinishOnce",void 0),tn(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,n=WA/this.duration;if(Math.abs(this.offset)>=n){const e=this.position+i+this.offset;return void this.setPosition(e)}const r=i*(1+this.offset/n);this.position=xt(this.position+r,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-r,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=Object(Ds.a)(e.onFinish),this.animationFramesController=new HA(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=xt(e,0,1),this.offset=0,this.params.callback(e))}}class GA{constructor(e){nn(this,"dispatch",Object(Ds.a)(e=>{this.value=e,this._isDispatched=!0,Object(gd.a)(this.callbacks,e),this.callbacks.length=0})),nn(this,"callbacks",[]),nn(this,"_isDispatched",!1),nn(this,"value",void 0),Object(ds.a)(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),zo.a):(this.callbacks.push(e),()=>{this.callbacks=Object(wd.a)(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}const YA=0,qA=0;var XA=i(142);const KA=Boolean(XA.a),QA=2*fp/$u,JA=function(e){return void 0===e&&(e=window),-1!==Object(Oc.a)(e)}(),ZA=null===ap.onwaiting,$A=!ZA||JA||rp.a?(e,t)=>{let i=0,n=!1;return ai(()=>{const r=e.currentTime,a=e.duration,o=1/fp;if(!e.paused){const e=i+o;n?r>e&&(t(!1),n=!1):r<e&&r!==a&&(t(!0),n=!0)}i=r})}:(e,t)=>{let i=!1;const n=Ri(e,"pause",()=>{i&&(i=!1,t(!1))},{passive:!0}),r=Ri(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),a=Ri(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=Ri(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{n(),r(),a(),o()}};class em extends vd.a{constructor(){super(),ln(this,"isStarted",!1),ln(this,"lastStartTime",void 0),ln(this,"spent",0),ln(this,"callbacks",[]),ln(this,"timeoutId",0),ln(this,"recalculateTimeAndDispatchCallbacks",()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}),this.addDestroyHandler(()=>{this.stop()})}start(){this.isStarted||this.isDestroyed||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let n=0;n<this.callbacks.length;n++){const{time:t}=this.callbacks[n];if(t>=e)return void this.callbacks.splice(n,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=k(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,Object(Jo.a)(e,e=>{let{callback:t}=e;t()})}}class tm extends vd.a{constructor(){super(),cn(this,"bufferingTimeCount",void 0),cn(this,"isPlaying",new fd.a(!1)),cn(this,"isBuffering",new fd.a(!1)),this.bufferingTimeCount=new em,this.addDestroyHandler(()=>{this.bufferingTimeCount.destroy()})}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler($A(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(y([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/$u}}const im=20,nm=e=>{switch(!0){case e<=1*$u:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*$u:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*$u:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*$u:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}},rm=NaN,am=0,om={duration:rm,remainingTime:am};var sm=i(77);const dm=Object(md.a)({portion:"portion",seconds:"seconds"});class lm{constructor(e){var t,i,n;n={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,Object(Jo.a)(e,e=>{let{urls:t,offset:{unit:i,value:n}}=e;this.trackingUrls[i].push({urls:[...t],offset:n})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!Z(i))return[];const n=t-i,r={portion:n/t,seconds:n},a=[];return Object(Jo.a)(dm,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,r[e]);a.push(...t)}),a}getTrackingUrlsByUnitAndOffset(e,t){const[i,n]=k(this.trackingUrls[e],e=>{let{urls:i,offset:n}=e;return t>=n});return this.trackingUrls[e]=n,R(Object(Zo.a)(i,e=>{let{urls:t}=e;return t}))}}var cm=i(60),um=i(134);const hm={AdClickThru:e=>{Xo.c.error({error:new qo.a({code:"CALL_USER_INTERACTION_DISPATCHER_AD_CLICK_THRU_WITHOUT_AD_CREATIVE",details:e})})}};class pm extends vd.a{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:n}=e;super(),An(this,"adDisplayController",void 0),An(this,"mediaAd",void 0),An(this,"adPodViewerPlaybackParams",void 0),An(this,"playbackPosition",new fd.a(om,hn)),An(this,"userInteractionDispatchers",hm),An(this,"packshotStartLatch",new GA),An(this,"adVideoIsBuffering",new fd.a(!1)),An(this,"playingState",new fd.a("idle",(e,t)=>"idle"===t?(Xo.c.error({error:new qo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&Xo.c.error({error:new qo.a({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),An(this,"isCreativeStartRequested",new fd.a(!1)),An(this,"onReady",new Hd.a),An(this,"onBeforeDestroy",new Hd.a),An(this,"isStarted",new fd.a(!1)),An(this,"onResume",new Hd.a),An(this,"onPause",new Hd.a),An(this,"onVolumeChange",new Hd.a),An(this,"onImpression",new Hd.a),An(this,"onFirstQuartile",new Hd.a),An(this,"onMidpoint",new Hd.a),An(this,"onThirdQuartile",new Hd.a),An(this,"onBeforeComplete",new Hd.a),An(this,"completeLatch",new GA(()=>{this.trackEvent("complete",void 0)})),An(this,"onClickThrough",new Hd.a),An(this,"onAdInteraction",new Hd.a),An(this,"playingTimeCounter",new em),An(this,"shouldPlayTimeCounter",new em),An(this,"bufferingTimeManager",void 0),An(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.getAdParametersObject())||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),An(this,"subscribeFullscreenForLogs",()=>{const{videoNodeController:e}=this.adDisplayController,t=Object(Ds.a)(()=>{Xo.c.error({error:new qo.a({code:"VIDEOTAG_FULLSCREEN",details:void 0})})});e.isFullscreen()?t():this.onBeforeComplete.addOne(()=>{e.isFullscreen()&&t()})}),this.addDestroyHandler(e=>{const t=Math.round(this.shouldPlayTimeCounter.getTime()),i=Math.round(this.playingTimeCounter.getTime()),n=Math.round(t-i),r=Math.round(this.bufferingTimeManager.getBufferingTime()*$u),a=Math.round(this.getDuration()*$u),s=Math.round(this.getAdRemainingTime()*$u),d=Math.round(a-s),l=Math.round(r/d*1e6),{droppedVideoFrames:c,corruptedVideoFrames:u,totalVideoFrames:h,droppedVideoFramesRatio:p}=o(this.adDisplayController.videoNode);Xo.c.values({name:"ViewerDestroy",probability:Yo.a,data:{destroyReason:e},labels:{},values:{shouldPlayTime:t,playingTime:i,notPlayingTime:n,bufferingTime:r,duration:a,remainingTime:s,currentTime:d,bufferingTimeRatio:l,droppedVideoFrames:Math.round(c),corruptedVideoFrames:Math.round(u),totalVideoFrames:Math.round(h),droppedVideoFramesRatio:Math.round(1e6*p)}}),this.playingTimeCounter.destroy(),this.shouldPlayTimeCounter.destroy(),this.onBeforeDestroy.dispatch(e),this.userInteractionDispatchers=hm}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=n,this.isStarted.add(()=>{this.trackEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackEvent("resume",void 0)}),this.onPause.add(()=>{this.trackEvent("pause",void 0)}),this.packshotStartLatch.subscribe(()=>{this.trackEvent("packshotStart",void 0)});let r=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();r!==e&&(this.trackEvent(e?"mute":"unmute",void 0),r=e)}),this.onImpression.addOne(()=>{this.trackEvent("impression",void 0)});const a=new lm(i.vastAd.progressTrackings);this.playbackPosition.add(e=>{let{remainingTime:t,duration:i}=e;const n=a.getTrackingUrlsByPosition({duration:i,remainingTime:t});n.length&&bt({eventName:"progress",trackingEventDetails:void 0,trackingUrls:n,options:this.adDisplayController.getAdPlacementOptions()})}),this.onFirstQuartile.add(()=>{this.trackEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new tm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+im)*$u;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new qo.a({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"skip"!==t&&"close"!==t||this.trackEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.playbackPosition.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onBeforeComplete.removeAll(),this.onVolumeChange.removeAll(),this.adVideoIsBuffering.removeAll()}),this.addDestroyHandler(Object(zd.a)({element:window,eventName:"unload",listener:()=>{this.destroy({reason:"unload",details:void 0})}})),this.isStarted.addOne(()=>{this.subscribeFullscreenForLogs()})}trackEvent(e,t){this.mediaAd.trackEvent(e,this.adDisplayController.getAdPlacementOptions(),t)}trackAdParametersEvent(e,t){const i=this.getAdParametersTrackingUrls(e);Array.isArray(i)&&(Object(Ko.a)("Track event=["+e+"]"),bt({eventName:e,trackingEventDetails:t,trackingUrls:i,options:this.adDisplayController.getAdPlacementOptions()}))}trackStartEvent(){this.isCreativeStartRequested.getValue()||Xo.c.error({error:new qo.a({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:"js"===this.mediaAd.contentType}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=es),this.trackEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:n}=this.adPodViewerPlaybackParams;let r;e.url?r=e.url:n&&(Xo.c.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:n}}),r=n);const{pauseOnClickThrough:a,clickThroughConfirmation:o}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||r)||!i)return void this.trackEvent("clickThrough",void 0);r&&(r=h({url:un(r),options:this.adDisplayController.getAdPlacementOptions(),win:window}));const d=Object(Ds.a)((function(i){void 0===i&&(i=!1);const n=Date.now(),o=t.adDisplayController.getPaused(),d=a&&!o;if(d&&t.pause(),i){const e=pn(window.document,i=>{if(!i)return;d&&t.resume();const r=Date.now()-n;t.trackAdParametersEvent("returnAfterClickThrough",{timeSpentBeforeReturn:r});const a=nm(r);Xo.c.event({name:a,data:{timeSpentBeforeReturn:r}}),e()});t.addDestroyHandler(e)}t.trackEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(a)}),s&&Yo.d&&Xo.c.event({name:"ClickThroughCallbackHandle",probability:Yo.a,data:{clickThroughParams:e,url:r,pauseOnClickThrough:a}})}));if(s)o||d(),s({url:r,onHandle:d}),Xo.c.event({name:"ClickThroughCallbackCall",probability:Yo.a,data:{clickThroughParams:e,url:r,pauseOnClickThrough:a}});else{null!==window.open(r,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return Sh;if(this.isAdaptive())return Eh;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==YA&&e.width!==qA?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=Gl}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}getAdParametersObject(){return this.mediaAd.vastAd.adParametersObject}}const Am=640,mm=480;class vm extends pm{constructor(e){super(e),mn(this,"preferredSource",void 0),mn(this,"videoNodeController",void 0),mn(this,"curtain",void 0),mn(this,"startTracked",!1),mn(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,wrapperNode:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;Xo.c.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Object(zd.a)({element:t,eventName:"click",listener:i,ignoreBubbling:!0})),rn(e)&&this.isClickable()&&(KA||(this.addDestroyHandler(Ti(e,{cursor:"pointer"})),this.addDestroyHandler(Ti(t,{cursor:"pointer"}))))})),mn(this,"setAdMediaFile",Object(Ds.a)(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),mn(this,"getVideoMediaFileToPlay",Object(Ds.a)(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const n=this.mediaAd.getMediaFiles();if(i||(i=ti(n,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackEvent("fullscreen",void 0):this.trackEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&Object(Go.a)(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:n}=this,r=new Error,{videoTimeout:a}=n;this.shouldPlayTimeCounter.addCallback(a,()=>{this.isStarted.getValue()||this.destroy({reason:"error",details:new qo.a(r,{code:"VIDEO_TIMEOUT",details:{timeout:a,src:this.getSrc(),config:t.config,viewerPlaybackParams:n}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&Xo.c.error({error:new qo.a({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(Xo.c.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new qo.a({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:qA}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:YA}getCurrentTime(){return this.videoNodeController.getCurrentTime()}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();return this.isCreativeStartRequested.getValue()?e-this.videoNodeController.getCurrentTime():e}getDuration(){const e=this.mediaAd.getDuration();return!this.isStarted.getValue()||this.isDestroyed?e:this.videoNodeController.getDuration()||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=Op.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(an({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const t=new qo.a({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e}});this.destroy({reason:"error",details:t})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(on({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{this.destroy({reason:"error",details:new qo.a({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{this.destroy({reason:"error",details:e})})),this.addDestroyHandler(dn({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:!0}),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.playbackPosition.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{Xo.c.event({name:"RestoreSeek",data:{},probability:Yo.a})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:n}=this.adDisplayController.slotSize.getValue();return i&&n?{width:i,height:n}:{width:Am,height:mm}}}const fm=-1,gm=-1,bm=-2,ym=!1,_m={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:bm,getAdVolume:ns,getAdIcons:!1,getAdExpanded:!1,getAdHeight:YA,getAdWidth:qA,getAdLinear:!0,getAdSkippableState:ym},Om=fn({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Tm=fn({},_m,Om),Em={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},Sm={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},wm={adVolume:"setAdVolume"},Cm={getAdUnitId:0},Im=10,Pm="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",Nm={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:Dm}=i(171),Rm=Object(md.a)({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdPodDurationChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),km=180,Vm=320*km,Bm=160,Lm=300*Bm;class jm extends vd.a{constructor(e){var t;super(),_n(this,"onResize",void 0),_n(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),_n(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=Fd(e);this.onResize=new fd.a({width:i.width,height:i.height},(e,t)=>{let{width:i,height:n}=t;return e.width===i&&e.height===n}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const n=this.getElementWindow(e),r=null!==(t=null===n||void 0===n?void 0:n.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof r&&Object(rd.a)(ResizeObserver))try{const t=new r(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(a){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return yn({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Fd(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Object(zd.a)({element:t,eventName:"resize",listener:i,options:{passive:!0}})),this.addDestroyHandler(ai(i))}}class Mm{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class xm{constructor(e){this.distributionFunction=e,On(this,"stopped",!0),On(this,"cancel",void 0),On(this,"clock",void 0),On(this,"lastNow",0),On(this,"lastKnockTime",0),On(this,"lastTimeout",0),On(this,"restTime",0),On(this,"destroyed",!1),On(this,"isFirstKnock",!0),On(this,"count",0),this.clock=new Mm}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}reset(){this.setDefaultParams()}setDefaultParams(){this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.lastKnockTime=0,this.count=0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const Um={height:0,width:0},Fm=function(e){if(void 0===e&&(e=window),void 0===e.screen)return Um;const{width:t=Um.width,height:i=Um.height}=e.screen;return{width:t,height:i}},Hm={UNKNOWN:0,ETHERNET:1,WIFI:2,CELL_2G:3,CELL_3G:4};var Wm=i(103);const zm=ed([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),Gm=!0,Ym=!0,qm=.5,Xm=2;class Km extends vd.a{constructor(e,t){let{considerDocumentVisibility:i=Gm,numberOfMeasurementSteps:n=Xm}=void 0===t?{}:t;super(),this.element=e,Nn(this,"totalVisibilityValueSignal",new fd.a(!1)),Nn(this,"totalVisibilityRatioValueSignal",void 0),Nn(this,"elementVisibilityRatioValueSignal",void 0),Nn(this,"documentVisibilityValueSignal",new fd.a(Ym)),Nn(this,"recalculateVisibility",()=>{if(this.isDestroyed||!Ci(this.element))return;const e=Pn(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)}),Nn(this,"refreshTotalVisibility",()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=qm),this.totalVisibilityRatioValueSignal.dispatch(t)});const r=Math.max(n,Xm);this.totalVisibilityRatioValueSignal=new fd.a(0),this.elementVisibilityRatioValueSignal=new fd.a(0);const a=e.ownerDocument.defaultView.IntersectionObserver;Boolean(a)?this.startIntersectionObserver(a,r):this.startVisibilityCheckInterval(),i&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}startIntersectionObserver(e,t){const i=[qm],n=1/t;for(let a=1;a<t;a++)i.push(a*n);const r=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});r.observe(this.element),this.addDestroyHandler(()=>{r.disconnect()})}startVisibilityCheckInterval(){const e=ai(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Object(Nd.a)(0);t.then(this.recalculateVisibility).catch(zo.a),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await rc(0);const t=Object(cm.a)(e);this.documentVisibilityValueSignal.dispatch(t);const i=pn(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}class Qm{constructor(){var e=this;Rn(this,"events",{}),Rn(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let n=this.events[t];void 0===n&&(n=this.events[t]=[]),n.push({callback:e,context:i})}),Rn(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=Object(wd.a)(i,t=>{let{callback:i}=t;return e!==i}))}),Rn(this,"dispatch",(function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];if("string"!==typeof t)throw new Error("Event name MUST be a string");const a=e.events[t];a&&Object(Jo.a)(a,e=>{let{callback:i,context:r}=e;try{i.apply(r,n)}catch(a){Xo.c.error({error:new qo.a(a,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:n}})})}})}))}}i(172);const Jm=WBViewAbility;var Zm=i(65);const $m=8,ev={id1:"",id2:"",id5:"",id7:"",id9:""},tv=e=>Object(ls.b)("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:n,id7:r,id9:a}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:n,id7:r,id9:a,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),iv="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206&plat=206",nv=e=>"https://"+td.b+"/pcode-static/measurers/"+e+"/video/adloox.js",rv=ss.b.split("/"),av=rv[rv.length-1],{initMoatTracking:ov}=i(173),sv={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},dv="yandexhostedvideo786420153684",lv=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n}=e;await Object(Zm.a)({src:"https://"+td.b+"/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:n})},cv={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+td.b+"/pcode-static/measurers/"+e+"/video/adriver.js")(r);await Object(Zm.a)({win:a,src:o}).promise,new a.AdriverViewabilityYandexVPAID(Vn({},n,{ya_custom:"ADSID="+cs.a}),i,t),Object(Ko.a)("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:a}=e;const o=ov(i,Bn({},n,{zMoatADID:cs.a,slicer1:av,partnerCode:dv}),t.getAdDuration(),dv,a);Object(Jo.a)(Object(md.a)(sv),e=>{t.subscribe(()=>{try{o.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(i){r(new qo.a({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:i,eventName:e}}))}},e)})},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:n,onMeasurerError:r,yastaticVersion:a}=e;var o;const s=kn({},n,{targetelt:((o=i).id||(o.id=Object(Ud.a)($m)),o.id),urli:iv,urlv:iv,urle:iv},{id8:cs.a}),d=Object(Id.a)(Object(ju.a)(s),(e,t,i)=>{let[n,r]=t;return"string"!==typeof r?e:e+(0===i?"#":"&")+n+"="+encodeURIComponent(r)},"");t.subscribe(()=>{const e=""+nv(a)+d;A(tv(kn({},ev,s))),Object(Zm.a)({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{r(new qo.a({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;const a=i.ownerDocument.defaultView,o=(e=>"https://"+td.b+"/pcode-static/measurers/"+e+"/video/weborama.js")(r);await Object(Zm.a)({win:a,src:o}).promise,new a.WBMeasurerV(i,t,JSON.stringify(Ln({},n,{siteid:cs.a}))),Object(Ko.a)("weborama measurer loaded")},admetrica:lv,sizmek:lv,yandexTestMeasurer:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:n,yastaticVersion:r}=e;Object(Ko.a)("start YandexTestMeasurer initialization"),Object(Jo.a)(Rm,e=>{const i=Object(Ds.a)(()=>{Xo.c.event({name:jn(e),data:void 0,probability:Yo.a})});t.subscribe((function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Object(Ko.a)("YandexTestMeasurer received VPAID event=["+e+"], args=["+pe(n)+"]"),i()}),e)}),Object(Ko.a)("complete YandexTestMeasurer initialization")}},uv={moat:{actual:"64",unstable:"56"},adloox:{actual:"35",unstable:"35"},weborama:{actual:"42",unstable:"42"},adriver:{actual:"28",unstable:"28"},sizmek:{actual:"1",unstable:"1"},admetrica:{actual:"1",unstable:"1"},yandexTestMeasurer:{actual:"1",unstable:"2"}},hv=(e,t)=>{const i=uv[e],n=t;return Object($o.a)(n)&&"use_unstable_script"in n&&Boolean(n.use_unstable_script)?i.unstable:i.actual},pv=3e4,Av=Object(md.a)(cv),mv={1:[],2:[],3:[],5:[]};class vv extends vd.a{constructor(e,t,i){var n,r;super(),n=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,qn(this,"userInteractionDispatchers",{AdClickThru:e=>{this.onClickThru.dispatch(e)}}),qn(this,"vpaidCreativeProxyForMeasurers",void 0),qn(this,"playingStateValueSignal",new fd.a(!1)),qn(this,"bufferingTimeManager",void 0),qn(this,"slotVisibilityStateValueSignal",void 0),qn(this,"slotHoverStateValueSignal",new fd.a(!1)),qn(this,"vpaidInitParameters",void 0),qn(this,"measurerStartParameters",void 0),qn(this,"shouldPlayTimeCounter",new em),qn(this,"lastVolume",void 0),qn(this,"vpaidEventBus",new Qm),qn(this,"vpaidCreativeProxyForMeasurersEventBus",new Qm),qn(this,"isVisibilityConfirmed",!1),qn(this,"initMeasurableParameters",Object(Ds.a)(e=>{var t;const i=e[4];if(!Object($o.a)(i))throw new qo.a({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:n}=i,r=e[5];if(!Object($o.a)(r)||!Object($o.a)(r.slot))throw new qo.a({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:a,videoSlot:o,yandexAdPlaybackParams:s}=r,d=null!==(t=this.parameters.visibilitySlot)&&void 0!==t?t:a;this.bufferingTimeManager.start(o);const{parameters:l,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new qo.a({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(h){return{parameters:void 0,errors:[new qo.a({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:n,dwell:r,start:a,trackingEvents:o,viewedComplete:s,weborama:d,moat:l}=t,{measurers:c,errors:u}=Fn(t);return{parameters:{measurers:c,viewability:Hn(i),dwell:Hn(r),trackingEvents:W(H(o),{encounters:Mn(n),viewedComplete:Mn(s),start:Mn(a)}),weborama:d,moat:zn(l),skipAdSdkDetect:Wn(t)},errors:u}}(n);if(Object(Jo.a)(c,this.callbacks.onExecutionError),!l)throw new qo.a({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:n}});const{skipAdSdkDetect:u}=l;if(!Object($o.a)(s)){const e=new qo.a({code:u?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:Pm,details:{adParameters:n}});if(this.callbacks.onExecutionError(e),!u)throw e}this.vpaidInitParameters={slot:d,videoSlot:o,adParameters:l},this.initMeasurers()})),qn(this,"initMeasurers",Object(Ds.a)(()=>{const{vpaidInitParameters:e,vpaidCreativeProxyForMeasurers:t}=this;if(!e)return this.callbacks.onExecutionError(new qo.a({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:n,moat:r},slot:a}=e;if(n&&"string"===typeof n.wbStatData)try{(new Jm).init(a,n.wbStatData,t)}catch(s){this.callbacks.onExecutionError(new qo.a(s,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(r){const{partnerCode:e,ids:i}=r;try{!function(e,t,i,n){Dm(e,t,i,n)}(t,a,i,e)}catch(s){this.callbacks.onExecutionError(new qo.a(s,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}const o=Yn({},i,{yandexTestMeasurer:{}});return Promise.all(Object(Zo.a)(Object(md.a)(o),async e=>{const i=o[e],n=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(i,["use_unstable_script"]),r=cv[e],d=hv(e,i);try{await r({vpaidCreative:t,slot:a,measurerParameters:n,onMeasurerError:e=>{this.callbacks.onExecutionError(e)},yastaticVersion:d}),"yandexTestMeasurer"!==e&&this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:a,measurerParameters:n})}catch(s){this.callbacks.onExecutionError(new qo.a({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:n,error:new bd.a(s)}}))}}))})),qn(this,"trackEncounters",Object(Ds.a)(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0)):this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),qn(this,"trackTrueView",Object(Ds.a)(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),qn(this,"startMeasurement",Object(Ds.a)(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new qo.a({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:n}=e,{viewability:r,dwell:a}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const n=Ri(e,"mouseenter",()=>{i||(i=!0,t(!0))}),r=Ri(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{n(),r()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const o=new jm(t),s=o.getSize();this.callbacks.onSlotSizeChange(s);const d=rn(n)?new jm(n):o,l=new fd.a(bn(s,KA));let c;if(o.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),l.dispatch(bn(e,KA))}),this.parameters.visibilityRatio)c=this.parameters.visibilityRatio;else{const e=new Km(t,{numberOfMeasurementSteps:Im});c=e.totalVisibilityRatioValueSignal,this.addDestroyHandler(()=>e.destroy())}this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:o.onResize,visibilityRatio:c},this.addDestroyHandler(c.add(e=>{this.slotVisibilityStateValueSignal.dispatch(e>=qm)})),this.addDestroyHandler(()=>{d.destroy(),o.destroy()});const u=new xm(e=>{let{count:t}=e;return 1===t&&(u.destroy(),this.trackTrueView("progress")),pv}),h=new xm(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,r[i.intervalId],void 0),Gn(t)}),p=new xm(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,a[i.intervalId],void 0),Gn(t)}),A=new xm(e=>{let{count:t}=e;return 2===t&&(this.trackEncounters("viewability"),A.destroy()),Gn(t)});this.addDestroyHandler(()=>{u.destroy(),h.destroy(),p.destroy(),A.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{u.setEnabled(e)})),this.addDestroyHandler(y([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,l],(e,t,i)=>e&&t&&i,e=>{e&&A.reset(),h.setEnabled(e),A.setEnabled(e)})),this.addDestroyHandler(y([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,l],(e,t,i,n)=>e&&t&&i&&n,e=>{p.setEnabled(e)}))})),qn(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),qn(this,"onClickThru",new Hd.a),qn(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(ud.a)},AdClickThru:(e,t,i)=>{var n;this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_RECEIVED_AD_CLICK_THRU_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}})),this.onClickThru.dispatch({url:e,id:t,playerHandles:i}),this.vpaidEventBus.dispatch("AdClickThru",e,t,i)}}),qn(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),qn(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(n){return this.vpaidEventBus.dispatch("AdError",n),void this.destroy({error:n})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),qn(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),qn(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Object(Ko.a)("Track VPAIDMeasurer event=["+e+"]"),!n.vpaidInitParameters||!n.measurerStartParameters)return void n.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:r,videoSlotSize:a,visibilityRatio:o}=n.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Sn({win:window,slotSize:r.getValue(),videoSlotSize:a.getValue(),slotVisibilityRatio:o.getValue(),videoNode:n.vpaidInitParameters.videoSlot,bufferingTime:n.bufferingTimeManager.getBufferingTime()})};mt(s),n.callbacks.onTrackEvent(s)})),this.vpaidCreativeProxyForMeasurers=this.createVpaidCreativeProxyForMeasurers(e),this.addDestroyHandler(this.onClickThru.add(e=>{let{url:t,id:i,playerHandles:n}=e;this.trackEvent("clickThrough",this.getTrackingUrlsByTrackingEventName("clickThrough"),void 0),this.trackEncounters("click"),this.trackTrueView("click"),this.vpaidCreativeProxyForMeasurersEventBus.dispatch("AdClickThru",t,i,n)})),this.playingStateValueSignal.add(i.onPlayingStateChange);let a=!1;t.visibilityRatio&&(a=t.visibilityRatio.getValue()>=qm),this.slotVisibilityStateValueSignal=new fd.a(a),null===(r=t.visibilityRatio)||void 0===r||r.add(e=>this.slotVisibilityStateValueSignal.dispatch(e>=qm)),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new tm,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),Object(Jo.a)([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.subscribeVPAIDEvents()}createVpaidCreativeProxyForMeasurers(e){var t=this;const i=b(Om,(e,t)=>()=>{Object(Ko.a)("Measurer called VPAID action method=["+t+"]")}),n=b(_m,(t,i)=>{return function(){const t=e[i];for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.apply(e,r)}});return Object(Jo.a)(Rm,e=>{this.vpaidEventBus.subscribe(this.ignoreAfterDestroy((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.vpaidCreativeProxyForMeasurersEventBus.dispatch(e,...n)})),e)}),Dn(Yn({},i,n,{subscribe:(e,t,i)=>this.vpaidCreativeProxyForMeasurersEventBus.subscribe(e,t,i),unsubscribe:(e,t)=>this.vpaidCreativeProxyForMeasurersEventBus.unsubscribe(e,t)}))}subscribeVPAIDEvents(){var e=this;Object(Jo.a)(Rm,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];e.vpaidDidDispatchEvent(t,n)}),t)})}vpaidDidDispatchEvent(e,t){const i=Nm[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new qo.a({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Object(Ko.a)("Track VPAIDMeasurer event=[error]"),m(i),this.callbacks.onAdError(i)}var n,r,a,o,s;("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdUserClose"===e)&&this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_CLOSE_EVENT",details:{adParameters:null===(n=this.vpaidInitParameters)||void 0===n?void 0:n.adParameters}}));"AdSkipped"===e&&this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_RECEIVED_AD_SKIPPED_EVENT",details:{adParameters:null===(r=this.vpaidInitParameters)||void 0===r?void 0:r.adParameters}}));"AdImpression"===e&&this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_RECEIVED_AD_IMPRESSION_EVENT",details:{adParameters:null===(a=this.vpaidInitParameters)||void 0===a?void 0:a.adParameters}}));"AdUserAcceptInvitation"===e&&this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_ACCEPT_INVITATION_EVENT",details:{adParameters:null===(o=this.vpaidInitParameters)||void 0===o?void 0:o.adParameters}}));"AdUserMinimize"===e&&this.callbacks.onExecutionError(new qo.a({code:"VPAID_MEASURER_RECEIVED_AD_USER_MINIMIZE_EVENT",details:{adParameters:null===(s=this.vpaidInitParameters)||void 0===s?void 0:s.adParameters}}));if("AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const d=this.eventSniffers[e];void 0===d?this.vpaidEventBus.dispatch(e,...t):d(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?Object(Zo.a)(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return Object($o.a)(i)?Object(ls.b)(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=Object(Qs.a)(()=>{var i,n;return null===(i=(n=this.parameters).getAdditionalTrackingParameters)||void 0===i?void 0:i.call(n,{eventName:e,url:t})});return!Object($o.a)(i)||Hi(i)?null:i}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new qo.a({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const fv=()=>ns,gv=()=>!1,bv=()=>!1,yv=e=>"2.0";var _v,Ov,Tv,Ev,Sv,wv,Cv={},Iv=[],Pv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;_v={__e:function(e,t){for(var i,n;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(n=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(n=!0,i.componentDidCatch(e)),n)return nr(i.__E=i)}catch(t){e=t}throw e}},er.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=Kn({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&Kn(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),nr(this))},er.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nr(this))},er.prototype.render=$n,Ov=[],Tv="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Sv=Cv,wv=0;class Nv extends er{static isValidPreactError(e){return Object(Md.a)(e)||Object(Su.a)(e)}static createPreactError(e){return Object(Md.a)(e)?e:new qo.a(e,{code:"PREACT_ERROR",details:{error:e}})}constructor(){var e,t,i;super(),e=this,t="initialRender",i=new fd.a({status:"initial"}),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.initialRender.addOne(e=>{"initial"!==e.status&&this.props.onFirstRender(e)})}componentDidCatch(e){const t=Nv.createPreactError(e);Xo.c.error({error:t});const{status:i}=this.initialRender.getValue();"initial"===i?this.initialRender.dispatch({status:"error",error:t}):this.props.onRuntimeError(t)}componentDidMount(){this.initialRender.dispatch({status:"success"})}render(){return this.props.children}}var Dv,Rv,kv,Vv=[],Bv=_v.__r,Lv=_v.diffed,jv=_v.__c,Mv=_v.unmount;_v.__r=function(e){Bv&&Bv(e),Dv=0,(Rv=e.__c).__H&&(Rv.__H.__h.forEach(wr),Rv.__H.__h.forEach(Cr),Rv.__H.__h=[])},_v.diffed=function(e){Lv&&Lv(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==Vv.push(t)&&kv===_v.requestAnimationFrame||((kv=_v.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(n),cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(Sr))}},_v.__c=function(e,t){t.some((function(e){try{e.__h.forEach(wr),e.__h=e.__h.filter((function(e){return!e.__||Cr(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],_v.__e(i,e.__v)}})),jv&&jv(e,t)},_v.unmount=function(e){Mv&&Mv(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){_v.__e(e,t.__v)}}};Object(cd.a)({propertyName:"ERROR_BOUNDARY_GLOBAL_CALLBACK",win:window}),vr({});const xv=e=>{const t=e.components;return Jn($n,null,Object(Id.a)(t,(t,i)=>i(Nr({},e.componentsProps,{children:t})),e.children))},Uv=vr(wu.a),Fv=()=>wu.a,Hv=vr(rs),Wv=e=>Dr(e),zv=()=>Er(Hv),Gv=vr({element:document.body,window}),Yv=e=>{return{element:e,window:e.ownerDocument.defaultView}},qv=()=>Er(Gv);Number(new Date);class Xv{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const n=i.get(t);return n?(i.set(t,n+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const n=i.get(t);return!n||(i.set(t,n-1),!(n>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const Kv=new class{constructor(){kr(this,"stylesUsingCounter",new Xv),kr(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,n=[];for(let r=0;r<i.length;r++){const[t,a]=i[r];if(a){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Rr(e,a),n=this.styleElementsMap.get(e);n?n.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}n.push(t)}}return n.length?Object(Ds.a)(()=>{Object(Jo.a)(n,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),n=this.styleElementsMap.get(e);if(!i||!n)return;const r=n.get(t);Object(Go.a)(r),n.delete(t),0===n.size&&this.styleElementsMap.delete(e)})}):zo.a}},Qv=vr({descriptionText:void 0,buttonText:"",onButtonClick:zo.a,progress:0,hasTimeline:!1});var Jv=i(146),Zv=i.n(Jv);const $v=e=>{let{children:t,onClick:i}=e;return Vr(Zv.a),Jn("div",{className:Jv.locals.PackshotButton,onClick:i},Jn("div",{className:Jv.locals.PackshotButton__content},t))};var ef=i(154),tf=i.n(ef);const nf=e=>{let{width:t,height:i}=e;return Vr(tf.a),Jn("div",{className:ef.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var rf=function(){for(var e,t,i=0,n="";i<arguments.length;)(e=arguments[i++])&&(t=Lr(e))&&(n&&(n+=" "),n+=t);return n};const af=4,of=e=>Math.floor(1e4*e)/1e4;var sf=i(92),df=i.n(sf);const lf="#ff1a2d",cf=1,uf=e=>{let{currentNumber:t,count:i,color:n=""+lf,adAnimationProgress:r,backgroundOpacity:a=cf}=e;Vr(df.a);const{width:o,transform:s}=function(e){let{currentNumber:t,count:i}=e;const n=af*(i-1)/i,r="calc("+of(100/i)+"% - "+of(n)+"px)",a=t*af;return{width:r,transform:"translateX("+("calc("+of(100*t)+"% + "+of(a)+"px)")+")"}}({currentNumber:t,count:i});return Jn("div",{className:sf.locals.TimelineBar__container,style:{width:o,transform:s}},Jn("div",{className:rf(sf.locals.TimelineBar,sf.locals.TimelineBar__background),style:{opacity:""+a}}),Jn("div",{className:rf(sf.locals.TimelineBar,sf.locals.TimelineBar__progress),style:{transform:"scaleX("+r+")",backgroundColor:n}}))};var hf=i(80),pf=i.n(hf);const Af=()=>{Vr(pf.a);const{width:e,height:t}=zv(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:n,buttonText:r,onButtonClick:a,progress:o,hasTimeline:s}=(()=>Er(Qv))(),{INPAGE_PACKSHOT_TIMELINE:d}=(()=>Er(Uv))();return Jn("div",{className:hf.locals.PackshotScreen,style:{width:e+"px",height:t+"px"}},Jn("div",{className:hf.locals.PackshotScreen__packshotOverlayWrapper},Jn(nf,{width:e,height:t})),Jn("div",{className:hf.locals.PackshotScreen__buttonWrapper},Jn($v,{onClick:a},r)),Object(hl.a)(n)&&Jn("div",{className:hf.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},n),"DISABLE"===d?s&&Jn("div",{className:hf.locals.PackshotScreen__timelineBarWrapper},Jn(uf,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})):Jn("div",{className:hf.locals.PackshotScreen__timelineBarWrapper},Jn(uf,{adAnimationProgress:o,currentNumber:0,count:1,color:"white"})))},mf=[e=>Jn(Gv.Provider,{value:Yv(e.container),children:e.children}),e=>Jn(Hv.Provider,{value:Wv(e.containerSize),children:e.children}),e=>Jn(Qv.Provider,{value:Br(e),children:e.children})],vf=1e4;class ff extends vd.a{constructor(e){var t,i,n;super(),this.props=e,t=this,i="shouldPlay",n=new fd.a(!0),i in t?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n;const{duration:a,container:o,onButtonClick:s,hasTimeline:d}=this.props,l=o.ownerDocument.defaultView,c=!r(a);this.addDestroyHandler(e=>{Object(Ko.a)("Packshot: destroy packshot reason=["+e.reason+"]"),Xo.c.event({name:"PackshotDestroyed",data:{isInfiniteDuration:c,reason:e}})});const u=new fd.a(0);let h;this.addDestroyHandler(function(e){const{container:t,onRuntimeError:i,onFirstRenderError:n}=e;return mr(Jn(Nv,{onRuntimeError:i,onFirstRender:e=>{"error"===e.status&&n(e.error)}},Jn(xv,{components:mf,componentsProps:e},Jn(Af,null))),t),()=>{mr(null,t)}}(jr({},this.props,{onButtonClick:()=>{Xo.c.event({name:"PackshotButtonClicked",data:void 0}),s()},animationProgress:u,onFirstRenderError:e=>{this.destroy({reason:"firstRenderError",details:e})},onRuntimeError:e=>{this.destroy({reason:"runtimeError",details:e})},hasTimeline:d}))),Xo.c.event({name:"PackshotRendered",data:{isInfiniteDuration:c}}),c?(h=new HA(l,e=>{let{time:t}=e;const i=Math.atan(t/vf)/(.5*Math.PI);u.dispatch(i)}),this.addDestroyHandler(()=>{h.stop()}),h.start()):(h=new zA({win:l,duration:a*$u,callback:e=>{u.dispatch(e)},onFinish:()=>{Xo.c.event({name:"PackshotTimelineFinished",data:void 0}),this.destroy({reason:"complete",details:void 0})}}),u.add(e=>{e>=1&&h.stop()}),this.addDestroyHandler(()=>{h.stop(),u.removeAll(),this.shouldPlay.removeAll()}),h.start()),this.shouldPlay.add(e=>{e?h.start():h.stop()})}setPlaying(e){this.shouldPlay.dispatch(e)}}const gf={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class bf extends vd.a{constructor(e){var t,i,n;super(),this.params=e,n=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:n}=this.params;if(!Object(ds.a)(n))throw new qo.a({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let r,a;try{r=n({adParametersString:e,slot:t,externalLiveCycle:i})}catch(o){throw new qo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!pd(r))throw new qo.a({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{a=await r}catch(o){if(Object(Md.a)(o))throw o;throw new qo.a(o,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),a}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const yf={startAd:()=>new Promise(zo.a),stopAd:zo.a};class _f extends vd.a{constructor(e){super(),this.params=e,xr(this,"vpaidEventBus",new Qm),xr(this,"handshakeVersion",yv),xr(this,"subscribe",this.vpaidEventBus.subscribe),xr(this,"unsubscribe",this.vpaidEventBus.unsubscribe),xr(this,"resizeAd",zo.a),xr(this,"expandAd",zo.a),xr(this,"collapseAd",zo.a),xr(this,"getAdIcons",bv),xr(this,"getAdExpanded",gv),xr(this,"setAdVolume",zo.a),xr(this,"getAdVolume",fv),xr(this,"initAd",Object(Ds.a)(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),xr(this,"videoStartedLatch",new GA),xr(this,"adCreativeLatch",new GA),xr(this,"completeLatch",new GA),xr(this,"isPackshotStarted",new GA),xr(this,"shouldPlay",new fd.a(!1)),xr(this,"isPlaying",new fd.a(!1)),xr(this,"remainingTime",new fd.a(bm)),xr(this,"shouldPlayTimeCounter",new em),xr(this,"lifeCycleLatches",b({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>new GA(this.ignoreAfterDestroy(()=>{this.vpaidEventBus.dispatch(t)})))),xr(this,"stopAdAndDestroyWrapper",zo.a),xr(this,"stopAnimation",zo.a),xr(this,"beforeDestroyLatch",new GA),xr(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1)}),xr(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0)}),xr(this,"getAdHeight",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:YA}),xr(this,"getAdWidth",()=>{var e;return null!==(e=this.params.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:qA}),xr(this,"getAdLinear",()=>!1),xr(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||fm}),xr(this,"getAdRemainingTime",()=>{const{videoParameters:e,videoNodeController:t}=this.params;if(e){const e=this.getVideoDurationConsideringDurationLimit(),i=t.getCurrentTime();if(r(e)&&Z(i))return Math.max(e-i,0)}return gm}),xr(this,"getAdSkippableState",()=>!0),xr(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),this.addDestroyHandler(()=>{this.beforeDestroyLatch.dispatch(void 0)});const{videoParameters:t,videoNodeController:i,isNonLinear:n,animationParameters:a,slot:o,slotSize:s,packshotParameters:d,lang:l,getVPAIDLogDetails:c}=e;if(this.vpaidEventBus.subscribe(e=>{Xo.c.errorToStats(e)},"AdError"),this.addDestroyHandler(Object(Ds.a)(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.destroy()}),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.beforeDestroyLatch.subscribe(()=>{this.remainingTime.removeAll()}),t){const e=()=>{this.isPlaying.dispatch(i.playingState.getValue()===dA.PLAY)};this.beforeDestroyLatch.subscribe(i.playingState.add(e)),e()}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());if(t?a?this.adCreativeLatch.subscribe(()=>{this.startVideoPlaying(t,i)}):this.shouldPlay.addOne(()=>{this.startVideoPlaying(t,i)}):n||i.pause(),t?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(this.dispatchAdStarted),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:n,resizeAd:r}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(Object(ds.a)(i)&&(this.getAdDuration=()=>i.call(e)),Object(ds.a)(n)&&(this.getAdRemainingTime=()=>n.call(e),this.beforeDestroyLatch.subscribe(ai(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.stopAnimation=Object(Ds.a)(()=>{e.stopAd()}),this.beforeDestroyLatch.subscribe(this.stopAnimation),this.beforeDestroyLatch.subscribe(s.add(t=>{Object(ds.a)(r)&&r.call(e,t)}))}),d){const{packshotImageUrl:e}=d;this.lifeCycleLatches.AdVideoThirdQuartile.subscribe(()=>{p(e)}),this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.isPackshotStarted.dispatch(d)}))}else this.completeLatch.subscribe(this.ignoreAfterDestroy(()=>{this.stopAdAndDestroyWrapper("complete")}));this.isPackshotStarted.subscribe(e=>{let{packshotDuration:t,packshotImageUrl:n,packshotActionButtonClickUrl:r,onPackshotStart:a,packshotButtonText:d}=e;this.stopAnimation(),i.pause(),a();const u=o.ownerDocument.createElement("div");T(u,Mr({},nl,{backgroundImage:"url("+n+")",backgroundPosition:"center",backgroundSize:"cover"})),o.appendChild(u);const h=new ff({duration:t,container:u,containerSize:s,onButtonClick:()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:r,id:void 0,playerHandles:!0})},buttonText:d||Sd("LEARN_MORE",l),descriptionText:void 0,hasTimeline:!0});this.shouldPlay.add(e=>{h.setPlaying(e)}),h.addDestroyHandler(e=>{let{reason:t,details:i}=e;"complete"!==t?("firstRenderError"!==t&&"runtimeError"!==t||(Xo.c.error({error:new qo.a({code:"firstRenderError"===t?"AD_CREATIVE_PACKSHOT_FIRST_RENDER_ERROR":"AD_CREATIVE_PACKSHOT_RUNTIME_ERROR",details:c()})}),this.vpaidEventBus.dispatch("AdError",i)),this.destroy()):this.stopAdAndDestroyWrapper("complete")}),this.addDestroyHandler(()=>{h.destroy({reason:"stopAd",details:void 0}),Object(Go.a)(u)})})}startAd(){var e;const t=Boolean(this.params.videoParameters),i=null===(e=this.params.videoParameters)||void 0===e?void 0:e.getAutoplay();!t||i?(Object(Ko.a)("AdCreativeWrapper: start playing"),this.shouldPlay.dispatch(!0)):(Object(Ko.a)("AdCreativeWrapper: CANNOT start playing"),this.shouldPlay.dispatch(!1),Xo.c.event({name:"AdCreativeWrapperCannotAutoplayOnStart",data:{hasVideoParameters:t,canAutoplay:i},probability:Yo.a})),this.beforeDestroyLatch.subscribe(this.shouldPlay.add(e=>{t&&!this.isPackshotStarted.getDispatched()||this.vpaidEventBus.dispatch(e?"AdPlaying":"AdPaused")})),this.stopAdAndDestroyWrapper=e=>{const t=gf[e];this.vpaidEventBus.dispatch(t),this.destroy()},this.startAnimationPlaying().catch(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),this.beforeDestroyLatch.subscribe(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e,videoNodeController:t}=this.params;if(e){const{durationLimit:i}=e,n=t.getDuration(),a=r(n)?n:void 0;if(a&&r(i))return Math.min(a,i);if(a)return a}}async startAnimationPlaying(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:n,videoParameters:r}=this.params;if(!e)return void this.adCreativeLatch.dispatch(yf);const{animationMediaFile:a,getPreloadedAdCreativeInitFunction:o,adCreativeParameters:s}=e;let d=o();try{if(!Object(ds.a)(d)){const{promise:e,teardown:i}=Dt({animationMediaFile:a,win:t});this.beforeDestroyLatch.subscribe(i),d=await e}}catch(u){throw new qo.a(u,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new bf({slot:n,adParametersString:s,externalLiveCycle:Boolean(r),initAdCreative:d});this.beforeDestroyLatch.subscribe(()=>{l.destroy()});const c=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(c)}startVideoPlaying(e,t){const{videoSlotSize:i,videoContentSize:n,videoMediaFile:a,videoTimeout:o,bufferEmptyLimit:s,bufferFullTimeout:d,durationLimit:l,durationFallback:c,onVideoBufferingStateChange:u}=e;t.isBuffering.getValue()&&u(!0),this.addDestroyHandler(t.isBuffering.add(e=>{u(e)}));const{videoNode:h}=t,{clickThroughUrl:p,animationParameters:A,slot:m}=this.params;if(this.getAdVolume=()=>t.getVolume(),this.setAdVolume=e=>{0===e?t.setMuted(!0):t.setVolume(e)},t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange")),t.setSrc(a),void 0!==p){const e=()=>{this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:p,id:void 0,playerHandles:!0})};this.beforeDestroyLatch.subscribe(t.onClick.add(()=>{Xo.c.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:p}}),e()})),rn(h)&&!KA&&this.beforeDestroyLatch.subscribe(Ti(h,{cursor:"pointer"})),void 0===A&&(this.beforeDestroyLatch.subscribe(Object(zd.a)({element:m,eventName:"click",listener:t=>{Xo.c.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:p}}),e()},ignoreBubbling:!0})),KA||this.beforeDestroyLatch.subscribe(Ti(m,{cursor:"pointer"})))}this.beforeDestroyLatch.subscribe(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")}));const v=t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")}),f=t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")});this.beforeDestroyLatch.subscribe(v),this.beforeDestroyLatch.subscribe(f),this.isPackshotStarted.subscribe(v),this.isPackshotStarted.subscribe(f);const g=()=>{const e=this.adCreativeLatch.getValue();if(!e||!Object(ds.a)(e.adjustAdPosition))return;const t=this.getAdDuration(),i=this.getAdRemainingTime();r(t)&&Z(i)&&e.adjustAdPosition({adDuration:t,adRemainingTime:i})};this.beforeDestroyLatch.subscribe(dn({durationFallback:c,durationLimit:l,videoNodeController:t,callbacks:Mr({},b(this.lifeCycleLatches,e=>()=>{e.dispatch(void 0)}),{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),g()},AdVideoComplete:e=>{if(e.completeOnDurationLimit){const{getVPAIDLogDetails:e}=this.params;Xo.c.event({name:"CreativeCompleteOnDurationLimit",data:{durationLimit:l,vpaidLogDetails:e()}})}this.completeLatch.dispatch(void 0)}})}));const y=new Error;this.shouldPlayTimeCounter.addCallback(o,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new qo.a(y,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:o,mediaFile:a}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}),this.beforeDestroyLatch.subscribe(an({videoNodeController:t,bufferEmptyLimit:s,callback:()=>{const e=new qo.a({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:s,mediaFile:a}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),this.beforeDestroyLatch.subscribe(on({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new qo.a({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:a}});this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")}})),t.setSeekAllowed(!1),this.beforeDestroyLatch.subscribe(t.onSeekRestore.add(()=>{Xo.c.event({name:"AdCreativeRestoreSeek",data:{},probability:Yo.a})})),this.beforeDestroyLatch.subscribe(()=>{t.setSeekAllowed(!0)}),this.beforeDestroyLatch.subscribe(t.onError.add(e=>{this.vpaidEventBus.dispatch("AdError",e),this.stopAdAndDestroyWrapper("stopAd")})),this.beforeDestroyLatch.subscribe(t.currentPosition.add(()=>{g(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.shouldPlay.getValue()&&t.play();const _=this.shouldPlay.add(e=>{e?t.play():t.pause()});this.isPackshotStarted.subscribe(_),this.addDestroyHandler(_),this.beforeDestroyLatch.subscribe(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(ds.a)(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.beforeDestroyLatch.subscribe(n.add(e=>{const t=this.adCreativeLatch.getValue();t&&Object(ds.a)(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:n,getVPAIDLogDetails:r}=this.params,a=n.getValue(),o=b(this.lifeCycleLatches,e=>i?zo.a:()=>e.dispatch(void 0)),s=e.startAd({get slot(){return Object(Qu.a)('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),Xo.c.error({error:new qo.a({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:r()})}),t},callbacks:Mr({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const n=Object(hl.a)(e)?e:this.params.clickThroughUrl;this.params.adCreativeUserInteractionCallbacks.AdClickThru({url:n,id:t,playerHandles:i})})},o),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():a,size:a,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!pd(s))throw new qo.a({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});s.then(this.ignoreAfterDestroy(e=>{if(i)return;let t="complete";if(Object($o.a)(e)){const i=e.reason;Object(hl.a)(i)&&Boolean(gf[i])&&(t=i)}"complete"===t?this.completeLatch.dispatch(void 0):this.stopAdAndDestroyWrapper(t)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const Of=15e4,Tf=Object(Ds.a)(e=>{Xo.c.event({name:"IntersectionObserverMocked",data:{functionCode:f(()=>e.IntersectionObserver.toString())}})}),Ef=Object(Ds.a)(()=>{Xo.c.event({name:"DocumentHiddenMocked",data:void 0})}),Sf=Object(Ds.a)(e=>{Xo.c.event({name:"IframeIntersectionObserverMocked",data:{functionCode:f(()=>e.IntersectionObserver.toString())}})}),wf=Object(Ds.a)(()=>{Xo.c.event({name:"IframeDocumentHiddenMocked",data:void 0})}),Cf=["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],If=0,Pf=.5,Nf="TRUE"===jh("DISABLE_SHADOW_ROOT")||void 0,Df=5e3,Rf="2.0",kf=Object(md.a)({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class Vf extends vd.a{static getVpaidAd(e){return Dn(new Vf({outsideApi:e}))}handshakeVersion(){return Rf}stopAd(){Object(Ko.a)("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),Yr(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,n,r,a){if(this.isDestroyed)return void Xo.c.error({error:new qo.a({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:a}})});const o=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(a,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:r,environmentVars:qr({},o,{videoSlot:void 0,slot:void 0})}]).then(zo.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,Xr(this,"unsubscribe",zo.a),Xr(this,"getAdIcons",bv),Xr(this,"getterValues",Object(Ol.a)(Object(Zo.a)(kf,e=>[e,_m[e]]))),Xr(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,n)=>{e.apply(i,n)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&Xo.c.error({error:new qo.a({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?Xo.c.error({error:new qo.a({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(zo.a).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const Bf=e=>{let{versionSupported:t,versionToCheck:i}=e;const n=Object(Zo.a)(t.split("."),e=>parseInt(e,10)),r=Object(Zo.a)(i.split("."),e=>parseInt(e,10));for(let a=0;a<r.length;a++){const e=r[a],t=n[a],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},Lf=e=>Object($o.a)(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,jf=["idle","load","init","start","play"];const Mf=e=>u(e)||!Ce(e),xf=e=>{const{adConfig:{secureMode:t}}=e,i=null!==gc&&void 0!==gc?gc:t;if(!i)return!1;const n=e.getJSMediaFile();if(!n)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!Mf(n.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class Uf extends pm{constructor(e){super(e),Zr(this,"onAdSkippableStateChange",new Hd.a),Zr(this,"creative",void 0),Zr(this,"adCreativeWrapper",void 0),Zr(this,"adSkippableState",!1),Zr(this,"canUseMediaAfterPlayback",!1),Zr(this,"lifeCycleStage",new fd.a("idle",(e,t)=>{const i=jf.indexOf(e);return jf.indexOf(t)-i!==1&&Xo.c.error({error:new qo.a({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:Jr({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),Zr(this,"isOverlayWithoutVideo",null),Zr(this,"startVpaidCreative",Object(Ds.a)(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Object(Ko.a)("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();if(e.subscribe(Object(Ds.a)(()=>{Object(Ko.a)("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),Xo.c.values({name:"VpaidCreativeStarted",probability:Yo.a,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted"),this.isOverlayWithoutVideo){const{promise:e,clear:t}=Object(Nd.a)(Of);e.then(()=>{this.destroy({reason:"error",details:this.parseVpaidError(new qo.a({code:"AD_CREATIVE_MAX_PLAYING_DURATION_REACHED",details:void 0}),"VPAIDPlayingError")})}).catch(ud.a),this.addDestroyHandler(t)}})),Zr(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t;this.playbackPosition.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:gm})})),Zr(this,"creativeAdStartedCallback",ne(()=>{if(this.isDestroyed)return void Xo.c.error({error:new qo.a({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||Xo.c.error({error:new qo.a({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=Object(Ds.a)(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Object(Ko.a)("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{Xo.c.error({error:new qo.a({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),Zr(this,"createContainerNode",Object(Ds.a)(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{wrapperNode:n}=this.adDisplayController,r=n.ownerDocument.createElement("div");T(r,Jr({},nl,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{T(r,{visibility:"visible"})}),this.addDestroyHandler(()=>{Object(Go.a)(r)}),n.appendChild(r);let a=null;return(t||i)&&(a=Hr(r))&&T(a,nl),a||r})),Zr(this,"prepareVpaidCreative",Object(Ds.a)(async()=>{this.addDestroyHandler(this.adDisplayController.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new qo.a({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});if(e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),"function"===typeof e.getAdUnitId){const t=e.getAdUnitId();t&&(Xo.c.event({name:"UsingVpaidAdUnitId",data:this.getVPAIDLogDetails(),probability:Yo.a}),lh.addUnit(t))}this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),Zr(this,"isAdPlayingCalled",!1),Zr(this,"getVPAIDLogDetails",()=>({adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Ci(this.adDisplayController.wrapperNode),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:n}=t;this.shouldPlayTimeCounter.addCallback(n,()=>{const e=this.getSrc(),r=this.lifeCycleStage.getValue(),{videoNodeController:a}=this.adDisplayController,o={timeout:n,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:r,videoNodeSrc:a.videoNode.src,adMediaState:this.adDisplayController.adMediaState.getValue()};this.isDestroyed?Xo.c.error({error:new qo.a({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&Xo.c.error({error:new qo.a({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new qo.a(i,{code:Qr({creativeLifeCycleStage:r,isYandexCreative:Mf(this.getScriptSrc()),adCreativeWrapper:this.adCreativeWrapper}),details:o})}))}),this.isStarted.addOne(()=>{this.addDestroyHandler(ai(this.updatePosition))}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(Nd.a)(1e4);this.addDestroyHandler(e),t.then(()=>{Xo.c.error({error:new qo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_10_SEC",details:this.getVPAIDLogDetails()})})}).catch(ud.a)}),this.completeLatch.subscribe(()=>{const{clear:e,promise:t}=Object(Nd.a)(25e3);this.addDestroyHandler(e),t.then(()=>{Xo.c.error({error:new qo.a({code:"AD_STOPPED_IS_NOT_CALLED_AFTER_COMPLETE_IN_25_SEC",details:this.getVPAIDLogDetails()})})}).catch(ud.a)}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&Xo.c.error({error:new qo.a({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause"),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return If;const e=this.creative.getAdRemainingTime()||am;return n(e)?this.getDuration()-e:If}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!n(e)||e<0?this.isStarted.getValue()?am:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Object(Ko.a)("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Object(Ko.a)("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Object(Ko.a)("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():ym}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return qA}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return YA}resizeAd(e,t,i){var n;void 0===i&&(i=Op.NORMAL),null===(n=this.creative)||void 0===n||n.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.adDisplayController.videoNodeController.videoNode.volume,i=t>0?t:Pf;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.isDestroyed||(this.creative?this.creative.setAdVolume(e):this.adDisplayController.videoNodeController.setVolume(e))}startAndPauseVpaidCreative(e){Mf(this.getScriptSrc())&&(Object(Ko.a)("preload VPAID creative by start and pause"),this.startVpaidCreative(e),Xo.c.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:Yo.a,data:{vpaidSrc:this.getSrc()}}),Object(Ko.a)("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:n}=this.mediaAd,{isNonLinear:r}=n,a=ci(n),o=this.createContainerNode({isAdCreative:a,isNonLinear:r});let s;if(a){Object(Ko.a)("[VpaidAdPodViewer]: play creative as AdCreative"),s=o;const{creative:i,wrapper:n}=this.wrapAdCreative(s);e=i,this.adCreativeWrapper=n,t=Object(Ds.a)(()=>{try{Object(Ko.a)("[VpaidAdPodViewer]: call adCreative stopAd method"),e.stopAd()}catch(t){const e=r?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";Xo.c.error({error:new qo.a(t,{code:e,details:this.getVPAIDLogDetails()})})}})}else if(xf(this.mediaAd)){Object(Ko.a)("[VpaidAdPodViewer]: play creative via VASFrame");const i=Pl({container:s=o,initTimeout:Df});this.addDestroyHandler(i.abortInit);const n=await i.initPromise;if(this.isDestroyed)return void n.destroy(void 0);if(n.addDestroyHandler(()=>{this.destroy({reason:"error",details:new qo.a({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{}})})}),this.addDestroyHandler(()=>{n.destroy(void 0)}),this.isDestroyed)return;if(n.assignVideoTag({videoElement:this.adDisplayController.videoNodeController.videoNode}),await n.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const r=()=>Vf.getVpaidAd(n),a=this.getStandardVpaidCreative(r);e=a.creative,t=Object(Ds.a)(()=>{Object(Ko.a)("[VpaidAdPodViewer]: call VPAID stopAd method"),a.stopAd()}),this.addDestroyHandler(t),n.changeFrameVisibility(!0)}else{Object(Ko.a)("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=_p.create({parentElement:o,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),n=i.iframe;T(n,nl),s=n.contentDocument.body;const r=n.contentWindow;Ur(r)&&wf(),Fr(r)&&Sf(r),Object(Jo.a)(Cf,e=>{this.addDestroyHandler(Object(zd.a)({element:s,eventName:e,listener:()=>{this.onAdInteraction.dispatch(void 0)},options:{passive:!0}}))}),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const a=await this.loadVpaidMediaFile(r);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(a);e=d.creative,t=d.stopAd}if(this.setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(),this.onBeforeDestroy.addOne(()=>{Object(Ko.a)("[VpaidAdPodViewer]: call stopAd in onBeforeDestroy callback"),t()}),Xo.c.values({name:"VpaidCreativeLoaded",probability:Yo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new qo.a({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{clientWidth:d,clientHeight:l}=this.adDisplayController.videoNodeController.videoNode,c=this.getDesiredBitrate(),u={AdParameters:this.getAdParameters()},{canPlayMuted:h,canPlayUnMuted:p}=this.adDisplayController.autoplayAbilitySignal.getValue(),A={slot:s,videoSlot:this.adDisplayController.videoNodeController.videoNode,videoSlotCanAutoPlay:this.adDisplayController.videoNodeController.videoNode.muted?h:p,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:this.config.lang,skipDelay:this.config.skipDelay,controlsSettings:{controlsVisibility:Kl},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},m=Gr({creative:e,isYandexCreative:Mf(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(m);const v=Date.now();return await new Promise((i,n)=>{m.subscribe(()=>{Object(Ko.a)("VPAID dispatched AdLoaded event"),i(m)},"AdLoaded"),m.subscribe(e=>{Object(Ko.a)("VPAID dispatched AdError event"),n(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(d,l,Op.NORMAL,c,u,A)}catch(r){throw Object(Ko.a)("[VpaidAdPodViewer]: creative.initAd() error, call stopAd"),t(),new qo.a(r,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),Xo.c.values({name:"VpaidCreativeInitialized",probability:Yo.a,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-v},labels:{}}),m}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:n,mediaFiles:r,durationLimit:a}=i,o=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:l,adParameters:c},errors:u}=Tt(o);re(u);const h=(null===l||void 0===l?void 0:l.type)===Zc.Overlay;if(h!==n)throw new qo.a({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(n&&!function(e){let{url:t}=e;return t===Qc}(r[0]))throw new qo.a({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{slotSize:p,videoContentSize:A,videoSlotSize:m,visibilityRatio:v}=this.adDisplayController,{videoTimeout:f,bufferFullTimeout:g,bufferEmptyLimit:b,packshotParameters:y}=this.adPodViewerPlaybackParams;let _,O;if(!n&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();if(e||(e=ti(d,{container:p.getValue(),desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),!e)throw new qo.a({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d}});_={videoContentSize:A,videoSlotSize:m,videoMediaFile:Jr({},e,{url:Ih(e.url)}),videoTimeout:f,bufferFullTimeout:g,bufferEmptyLimit:b,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:a,getAutoplay:()=>this.adDisplayController.getAutoplay(),onVideoBufferingStateChange:e=>{this.adVideoIsBuffering.dispatch(e)}},this.canUseMediaAfterPlayback=!0}O=l&&"InteractiveElementsAdCreative"===tu[l.url]?"IV":n?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";let T,E=e.ownerDocument.defaultView;if(l){T={animationMediaFile:l,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:c};const t=_p.createHidden({parentElement:e,scope:O,provideLogDetails:this.getVPAIDLogDetails});E=t.window,this.addDestroyHandler(()=>{t.destroy(void 0)}),t.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})})}this.isOverlayWithoutVideo=h&&!_;const{creative:S,wrapper:w,userInteractionDispatchers:C}=function(e){const t=new _f(e),i=Dn(t),{measurableVPAIDCreative:n,userInteractionDispatchers:r}=Xn(i,{visibilityRatio:e.visibilityRatio,visibilitySlot:e.visibilitySlot},{onStop:e=>{let{error:t,reason:i}=e;t?Xo.c.error({error:t}):Xo.c.event({name:"AdCreativeMeasured",probability:Yo.a,data:{stopReason:i}})},onInitMeasurer:e=>{"yandexTestMeasurer"!==e.measurerName&&Xo.c.event({name:"AdCreativeInitMeasurer",probability:Yo.a,data:{measurerData:e}})},onTrackEvent:e=>{ft(e)},onExecutionError:e=>{Xo.c.error({error:e})},onAdError:e=>{let{error:t}=e;Xo.c.errorToStats(t)}});return{creative:n,wrapper:t,userInteractionDispatchers:r}}({adCreativeWindow:E,slot:e,visibilitySlot:this.adDisplayController.visibilitySlot,visibilityRatio:v,animationParameters:T,videoParameters:_,videoNodeController:this.adDisplayController.videoNodeController,isNonLinear:n,slotSize:p,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails,packshotParameters:y?Jr({},y,{onPackshotStart:()=>{this.packshotStartLatch.dispatch(void 0)}}):void 0,lang:this.config.lang,adCreativeUserInteractionCallbacks:{AdClickThru:e=>{this.clickThrough(e),Xo.c.event({name:"AdCreativeUserInteractionCallbackClickThruCall",data:{vpaidLogDetails:this.getVPAIDLogDetails(),clickThruParams:e},probability:Yo.a}),this.userInteractionDispatchers.AdClickThru(e)}}});return this.userInteractionDispatchers=C,{creative:S,wrapper:w}}setCanUseMediaAfterPlaybackForPcodeVpaidCreatives(){var e;const t=this.mediaAd.vastAd,i=null===(e=t.adParametersObject)||void 0===e?void 0:e.theme,n="video-banner_theme_caucasus"===i,r="video-banner_theme_moroz"===i,a="video-banner_theme_lake"===i;_u(t)&&(n||r||a)&&(this.canUseMediaAfterPlayback=!0)}async loadVpaidMediaFile(e){const t=Mf(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(ri(e,(e,i,n)=>{Xo.c.error({error:ii({scope:t,errorType:i,error:e,details:Jr({},this.getVPAIDLogDetails(),{error:e,data:n})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(yp(e,()=>{this.destroy({reason:"error",details:new qo.a({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:void 0})})})),t;Xo.c.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=Rh({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(n){throw new qo.a(n,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:void 0})}}getStandardVpaidCreative(e){const t=Mf(this.getScriptSrc());if("function"!==typeof e)throw new qo.a({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:Jr({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(a){throw new qo.a(a,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const n=Object(Ds.a)(()=>{Object(Ko.a)("[VpaidAdPodViewer]: call stopAd wrap method");try{i.stopAd()}catch(a){Xo.c.error({error:new qo.a(a,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!Lf(i))throw new qo.a({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const r=i.handshakeVersion(Rf);if(!Bf({versionSupported:Rf,versionToCheck:r}))throw Object(Ko.a)("[VpaidAdPodViewer]: vpaid version is NOT supported, call stopAd method"),n(),new qo.a({code:"VPAID_VERSION_ERROR",details:Jr({},this.getVPAIDLogDetails(),{playerSupportedVersion:Rf,creativeVersion:r})});return{creative:i,stopAd:n}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}subscribeCreativeEvents(e){e.subscribe(()=>{var e,t;this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:null!==(e=null===(t=this.completeLatch.getValue())||void 0===t?void 0:t.canUseMediaAfterPlayback)&&void 0!==e&&e}})},"AdStopped"),e.subscribe((e,t,i)=>{Xo.c.event({name:"VpaidDispatchedAdClickThru",data:this.getVPAIDLogDetails(),probability:Yo.a}),this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange"),e.subscribe(this.updatePosition,"AdRemainingTimeChange");const t=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};e.subscribe(t,"AdStarted"),e.subscribe(()=>{Object(Ko.a)("VPAID dispatched AdDurationChange event"),t()},"AdDurationChange"),e.subscribe(this.creativeAdStartedCallback,"AdStarted"),e.subscribe(()=>{Object(Ko.a)("VPAID dispatched AdPaused event"),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{Object(Ko.a)("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const i=Object(Ds.a)(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{i()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped");const n=Object(Ds.a)(()=>{this.completeLatch.dispatch({canUseMediaAfterPlayback:this.canUseMediaAfterPlayback})});e.subscribe(()=>{Object(Ko.a)("VPAID dispatched AdVideoComplete event"),n()},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new qo.a({code:t,message:"String error from vpaid ["+e+"]",details:i}):Object(Md.a)(e)?e:e?new qo.a(e,{code:t,details:i}):new qo.a({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}get videoNodeController(){return this.adDisplayController.videoNodeController}get config(){return this.adDisplayController.config}}const Ff=e=>{const{adParametersObject:t}=e;if(!Object($o.a)(t))return;if(!Object($o.a)(t.subtitles))return;const{vtt:i}=t.subtitles;return Object(hl.a)(i)?i:void 0},Hf=500,Wf=!1,zf=1e3,Gf="https://yandex.ru/socialads-transparency-report",Yf=(e,t)=>{const i=ai(()=>{Ci(e)||(i(),t())});return i};let qf;const Xf=ta("ACTION_BUTTON_MASK_BACKGROUND_COLOR"),Kf=function(e){return"value"in e},Qf=function(e){return"value"in e},Jf={linear:e=>e,easeIn:e=>e*e,easeOut:e=>e*(2-e),easeInOut:e=>e<.5?2*e*e:(4-2*e)*e-1,easeOutBack:na(.6,.7,.61,1.09,.01)},Zf="linear",$f={number:(e,t,i)=>{return t+(i-t)*e},boolean:(e,t)=>t},eg=vr(e=>Sd(e,_d)),tg=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>Sd(e,i)},ig=()=>Er(eg),ng=Mu.a||"Multiroll"===Ns.c||"Test"===Ns.c?Bt("ENABLE_YOUTUBE_LIKE_BUTTON",["ENABLE_ON_DESKTOP_SIZE","ENABLE_ACTION_BUTTON_WITH_ARROW","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT","ENABLE_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON","ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT_WITHOUT_FAVICON","ENABLE_ROUNDED_ACTION_PANEL","DISABLE_NO_ANIMATION","DISABLE_RECTANGULAR_ACTION_BUTTON","DISABLE_WITHOUT_ARROW","DISABLE_LEFT_BOTTOM","ENABLE_LEFT_BOTTOM","ENABLE_SIMPLE_ACTION_BUTTON"]):void 0,rg=450,ag={oldActionButton:!0,noAnimation:!1,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1},og=new Map([["ENABLE_ON_DESKTOP_SIZE",{oldActionButton:!1,noAnimation:!1,shape:"rectangular",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"default",simpleActionButton:!1}],["ENABLE_SIMPLE_ACTION_BUTTON",{oldActionButton:!1,noAnimation:!1,shape:"rectangular",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"default",simpleActionButton:!0}],["ENABLE_ACTION_BUTTON_WITH_ARROW",{oldActionButton:!1,noAnimation:!0,shape:"rectangular",hasArrow:!0,hasFavicon:!0,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!0,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!0,hasButtonText:!1,position:"positioned",simpleActionButton:!1}],["ENABLE_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON",{oldActionButton:!1,noAnimation:!0,shape:"rectangular",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_FAVICON",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUND_ACTION_BUTTON_WITH_ARROW_WITHOUT_TEXT_WITHOUT_FAVICON",{oldActionButton:!1,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!1,position:"positioned",simpleActionButton:!1}],["ENABLE_ROUNDED_ACTION_PANEL",{oldActionButton:!1,noAnimation:!0,shape:"roundedCorners",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"positioned",simpleActionButton:!1}],["DISABLE_NO_ANIMATION",{oldActionButton:!0,noAnimation:!0,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1}],["DISABLE_RECTANGULAR_ACTION_BUTTON",{oldActionButton:!0,noAnimation:!0,shape:"rectangular",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1}],["DISABLE_WITHOUT_ARROW",{oldActionButton:!0,noAnimation:!0,shape:"round",hasArrow:!1,hasFavicon:!1,hasButtonText:!0,position:"default",simpleActionButton:!1}],["DISABLE_LEFT_BOTTOM",{oldActionButton:!0,noAnimation:!1,shape:"round",hasArrow:!0,hasFavicon:!1,hasButtonText:!0,position:"alwaysLeftBottom",simpleActionButton:!1}],["ENABLE_LEFT_BOTTOM",{oldActionButton:!1,noAnimation:!1,shape:"rectangular",hasArrow:!1,hasFavicon:!0,hasButtonText:!0,position:"alwaysLeftBottom",simpleActionButton:!1}]]),sg=vr({actionButtonParameters:void 0,progress:0,clickThrough:zo.a,experimentState:aa(ng,!1)}),dg=e=>{let{actionButtonParameters:t,actionButtonAnimationProgress:i,clickThrough:n,slotSize:r,config:a}=e;const{controlsVariant:o}=a.controlsSettings,{width:s}=Dr(r),d=aa(ng,!(s>=rg)||"banner"===o);return{actionButtonParameters:Dr(t),progress:Dr(i),clickThrough:Tr(e=>{n(e,"SkinActionButton")},[n]),experimentState:d}},lg=()=>Er(sg),cg=ta("ACTION_BUTTON_BACKGROUND_COLOR"),ug=ta("ACTION_BUTTON_TEXT_COLOR"),hg=e=>{const{width:t="1em",height:i="1em",style:n={}}=e;return Jn("svg",{width:t,height:i,style:oa({margin:"0 -0.1em",fontSize:"0.6em",width:"0.87em",height:"1em"},n),viewBox:"14 14 38 38"},Jn("g",{"fill-rule":"nonzero",fill:"currentcolor"},Jn("path",{d:"M16.002 31.832c-.003.051-.003.102 0 .133a1.51 1.51 0 0 0 .453 1.096 1.55 1.55 0 0 0 1.104.444h24.216l-9.081 8.833a1.51 1.51 0 0 0-.478 1.497 1.53 1.53 0 0 0 1.113 1.117 1.55 1.55 0 0 0 1.509-.432l11.779-11.45a1.51 1.51 0 0 0 0-2.171L34.841 19.452c-.441-.44-1.108-.573-1.687-.336a1.52 1.52 0 0 0-.951 1.423 1.51 1.51 0 0 0 .479 1.081l9.093 8.844H17.561a1.54 1.54 0 0 0-1.559 1.369z"})))};var pg=i(147),Ag=i.n(pg);const mg=e=>{let{children:t}=e;Vr(Ag.a);const{experimentState:i}=lg(),n=(()=>{switch(i.shape){case"round":return"2em";case"roundedCorners":return 10;default:return""}})();return Jn("div",{className:pg.locals.ActionButton,style:{backgroundColor:cg||""}},Jn("div",{className:pg.locals.ActionButton__content,style:{color:ug||"",borderRadius:n}},t,i.hasArrow?Jn(hg,{style:{width:"2em",height:"2em",padding:"0 0.2em",marginLeft:t?"0.3em":"0px"}}):void 0))},vg=ta("ACTION_BUTTON_INFO_BLOCK_TEXT_COLOR");var fg=i(93),gg=i.n(fg);const bg=e=>{let{title:t,domain:i}=e;Vr(gg.a);const n=_r(null),r=_r(null),[a,o]=gr(!1);yr(()=>{o(n.current.clientHeight>r.current.clientHeight)},[t]);const s=Jn("div",{ref:r,className:fg.locals.InfoBlock__titleSpy},t);return Jn("div",{className:rf(fg.locals.InfoBlock,a&&fg.locals.InfoBlock_multiline),style:{color:vg||""}},s,Jn("div",{ref:n,className:fg.locals.InfoBlock__title},t),Jn("div",{className:fg.locals.InfoBlock__domain},i))},yg=()=>Jn("div",{style:{padding:"0 6px 0 10px",height:"100%"}},Jn(hg,{style:{width:"3em",height:"100%",color:"#eaebeb"}}));var _g=i(81),Og=i.n(_g);const Tg=360,Eg=1080,Sg=function(e,t){const i=t.y-e.y,n=t.x-e.x;return t=>e.y+(t-e.x)*i/n}({x:Tg,y:.14},{x:Eg,y:.07}),wg=700,Cg=ia([{durationPortion:200/wg,values:[-42,10]}],wg),Ig=ia([{durationPortion:500/wg,value:0},{durationPortion:200/wg,values:[0,1]}],wg),Pg=ia([{durationPortion:500/wg,value:0},{durationPortion:200/wg,values:[0,1]}],wg),Ng=e=>{Vr(Og.a);const{progress:t}=lg(),{experimentState:i}=lg(),n=zv(),{adaptiveHeight:r,adaptiveWidth:a}=function(e){let{height:t,width:i}=e;const n=xt(Math.min(t,i),Tg,Eg),r=n*Sg(n);return{adaptiveHeight:r,adaptiveWidth:280*r/48}}(n),o=ig(),s=o("THEME_EMPTY_ACTION_BUTTON_DEFAULT_SHORT_TITLE"),d=o("THEME_EMPTY_ACTION_BUTTON_LABEL"),{title:l,domain:c="",onButtonClick:u,buttonLabel:h=d,disableAnimation:p=!1,faviconSrc:A}=e,m=xt(t*wg,0,wg),v=p?1:ra({position:m,unit:"number",steps:Ig}),f=p?10:ra({position:m,unit:"number",steps:Cg}),g=p?1:ra({position:m,unit:"number",steps:Pg}),b=""!==c;return Jn("div",{className:_g.locals.YoutubeLikeActionButton,style:{height:r,maxWidth:a,fontSize:r/4}},Jn("div",{className:_g.locals.YoutubeLikeActionButton__content},Jn("div",{className:_g.locals.YoutubeLikeActionButton__mask,style:{opacity:v,maxWidth:a*g,backgroundColor:Xf||"",borderRadius:"roundedCorners"===i.shape?20:""},onClick:u},Jn("div",{className:rf(_g.locals.YoutubeLikeActionButton__wrapper,(!b||!i.hasFavicon)&&_g.locals.YoutubeLikeActionButton__wrapper_wide)},Jn(bg,{domain:c,title:Object(hl.a)(l)?l:s}),i.simpleActionButton?Jn(yg,null):Jn(mg,null,i.hasButtonText?h:null))),b?Jn("div",{className:_g.locals.YoutubeLikeActionButton__favicon,style:{left:f+"px"}},A&&i.hasFavicon?Jn("img",{src:A,alt:"favicon"}):void 0):null))},Dg=-1,Rg=-1===Bp;var kg=i(136);const Vg=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),Bg=(e,t,i,n)=>{Object($o.a)(t)?(n=Boolean(i),Object(jl.a)(t,(t,i)=>{da(e,i,t,n)})):da(e,t,i,n)},Lg=$i(window),jg=Lg.requestAnimationFrame,Mg=Lg.cancelAnimationFrame,xg=.8,Ug=1.6,Fg=1.2,Hg=50,Wg=5,zg=2,Gg=100,Yg=1.8,qg=3,Xg=.3,Kg=.1;class Qg extends vd.a{constructor(e){super(),this.params=e,la(this,"blurWrapper",void 0),la(this,"canvas",void 0),la(this,"context",void 0),la(this,"isPlaying",new fd.a(!1)),la(this,"framesInterval",Gg),la(this,"lastTime",void 0),la(this,"slowFramesCounter",0),la(this,"slowDevice",!1),la(this,"repaintTimeoutId",0),la(this,"rafId",0),la(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=Xg;if(!this.isPlaying.getValue()||i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const n=En(this.params.videoNode);if(!n)return void this.setRepaintTimeout();const{clientWidth:r,clientHeight:a}=this.params.container,o=r/a,s=n.width/n.height,d=s-o;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:l}=this,{videoNode:c}=this.params,{width:u,height:h}=this.canvas;if(this.slowDevice){const e=zg;l.drawImage(c,0,0,n.width,n.height,0,0,e,e),l.drawImage(this.canvas,0,0,e,e,0,0,u,h)}else l.drawImage(c,0,0,n.width,n.height,0,0,u,h);l.globalAlpha=Kg,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),sa(this.params.container,this.blurWrapper),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),Object(Go.a)(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[Ug,Math.max(e,Ug)];t&&i.reverse(),this.slowDevice||Bg(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){Bg(this.canvas,{opacity:e})}simplifyBlur(){const e=2*Wg,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const n="-"+Wg+"px";Bg(this.canvas,{left:n,top:n,transform:"",filter:"blur("+Wg+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=Ei(this.params.videoNode).position;-1===Object(kg.a)(["fixed","absolute"],t)&&(e["z-index"]="-1"),Bg(this.blurWrapper,e),Bg(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+Fg+") scaleY("+Fg+")",filter:"blur("+Hg+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=jg(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),Mg(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*Yg?(this.slowFramesCounter++,this.slowFramesCounter>=qg&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:n}=this.params,r=t<0,a=r?n.offsetHeight*e:n.offsetWidth/e,o=r?a:n.offsetWidth,s=r?n.offsetHeight:a,d=(r?i.offsetWidth:i.offsetHeight)/a*xg;this.setCanvasSize(o,s),this.appendBlurScale(d*xg,r)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const Jg=.1;var Zg;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(Zg||(Zg={}));const $g=(e,t)=>{let i=0;return()=>{const n=Date.now();n-i>=t&&(e(),i=n)}},eb=2,tb=/([0-9]{1,2})?:?([0-9]{2}):([0-9]{2}\.[0-9]{2,3})/;class ib{constructor(e){var t,i,n;n=void 0,(i="cues")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n;const{cues:r}=ua(e);this.cues=r.sort((e,t)=>e.start-t.start)}findCuesByCurrentTime(e){return Object(wd.a)(this.cues,t=>this.isCueApplicable(t,e))}isCueApplicable(e,t){const{start:i,end:n}=e;return t>=i&&t<=n}}const nb=e=>{const t=Ii(e,{crossorigin:null,loop:null}),i=Ti(e,{objectFit:""});return Object(Ds.a)(()=>{t(),i()})},rb=15,ab=1e3,ob=[{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],sb="Fullscreen is not supported";class db{constructor(e,t){void 0===e&&(e=window),ga(this,"handlers",[]),ga(this,"names",void 0),ga(this,"onDestroy",new Hd.a),ga(this,"win",void 0),ga(this,"video",void 0),ga(this,"fullscreenElement",null),ga(this,"setFullScreenElementFromAPI",()=>{const e=fa(this.win,this.video);this.setFullscreenElement(e)}),this.win=e,this.video=t,t&&Mp&&(this.onDestroy.addOne(Object(zd.a)({element:t,eventName:"webkitbeginfullscreen",listener:()=>{this.setFullscreenElement(t)}})),this.onDestroy.addOne(Object(zd.a)({element:t,eventName:"webkitendfullscreen",listener:()=>{this.setFullscreenElement(null)}}))),this.names=va(e,t),this.names&&(this.onDestroy.addOne(Object(zd.a)({element:this.win.document,eventName:this.names.events.change,listener:this.setFullScreenElementFromAPI})),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(sb);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(sb);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(sb);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=Object(wd.a)(this.handlers,t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,Object(Jo.a)(this.handlers,t=>t(e))}}class lb{constructor(e){ba(this,"violatedSources",[]),ba(this,"unsubscribeEvent",void 0),ba(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:n}=e;if("media-src"!==i)return;const r={blockedURI:t,violatedDirective:i,originalPolicy:n};this.violatedSources.push(r)}),this.unsubscribeEvent=Object(zd.a)({element:e,eventName:"securitypolicyviolation",listener:this.securityPolicyViolationCallback})}getViolatedSourceBySrc(e){return Object(Nh.a)(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const cb=e=>{e.removeAttribute("src"),e.load()},ub=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class hb extends vd.a{constructor(e){var t,i,n;super(),this.params=e,n=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.mediaSource=new e.MediaSourceConstructor,Object(zd.a)({element:this.mediaSource,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(Ko.a)("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new qo.a(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})}),Object(Ko.a)("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Object(Ko.a)("MSEController: detach BLOB URL"),cb(this.params.videoSlot)}),this.init().then(()=>{Object(Ko.a)("MSEController: MSE successfully attached"),Xo.c.event({name:"MSEControllerAttachSuccess",data:{},probability:Yo.a})}).catch(e=>{Object(Ko.a)("MSEController: init error"),Xo.c.error({error:new qo.a(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Object(Ko.a)("MSEController#reader: abort controller was already aborted"),void Xo.c.error({error:new qo.a({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Object(Ko.a)("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.src,{signal:e.signal});if(!t.body)throw new qo.a({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Object(Ko.a)("MSEController#reader: cancel reader"),Yr(i.cancel())}),Object(Ko.a)("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Object(zd.a)({element:this.mediaSource,eventName:"sourceopen",listener:e}));const e=this.mediaSource.addSourceBuffer(Xh);return Object(zd.a)({element:e,eventName:"error",listener:this.ignoreAfterDestroy(e=>{Object(Ko.a)("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new qo.a(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})}),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Object(Ko.a)("MSEController#abort source buffer"),e.abort())}),Object(Ko.a)("MSEController: got source buffer"),e}async doReadCycle(e,t){Object(Ko.a)("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+ub);let i=await e.read(),n=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Object(zd.a)({element:t,eventName:"updateend",listener:e}));if(!i.value)break;if(this.isDestroyed)return;if(ub){const e=new Uint8Array(n.length+i.value.length);e.set(n),e.set(i.value,n.length),n=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Object(zd.a)({element:t,eventName:"updateend",listener:e}));i=await e.read()}while(i.value);for(ub&&(Object(Ko.a)("MSEController: buffer read complete, length=["+n.length+"]"),t.appendBuffer(n));t.updating;)await new Promise(e=>Object(zd.a)({element:t,eventName:"updateend",listener:e}));Object(Ko.a)("MSEController: read cycle complete")}async finalize(e){for(Object(Ko.a)("MSEController#close streams");e.updating;)await new Promise(t=>Object(zd.a)({element:e,eventName:"updateend",listener:t}));"open"===this.mediaSource.readyState?(Object(Ko.a)("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Object(Ko.a)("MSEController#finalize: media source is closed")}}const pb=e=>{if(!pp||!np)throw new qo.a({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new hb(_a({},e,{MediaSourceConstructor:np}))},Ab=e=>"canPlayMseForAbd"===Qt(e).mseAvailability,mb=50,vb=2;class fb{constructor(e,t){this.video=e,this.onSeekRestore=t,Oa(this,"unsubscribeVideoTimeupdate",void 0),Oa(this,"lastLegalCurrentTime",void 0),Oa(this,"lastTimestamp",void 0),Oa(this,"seekAllowed",!0),Oa(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Object(zd.a)({element:e,eventName:"timeupdate",listener:this.onVideoTimeUpdate})}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<mb)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*vb}}const gb=1,bb=Math.ceil(2/(fp/$u)),yb=500,_b=1e3,Ob=.25,Tb=1e3,Eb=1e3,Sb=.1,wb=rp.a;class Cb extends vd.a{constructor(e){super(),this.videoNode=e,Ta(this,"onClick",new Hd.a),Ta(this,"currentPosition",new fd.a({currentTime:0,duration:0},hn)),Ta(this,"playingState",new fd.a(this.videoNode.paused?dA.PAUSE:dA.PLAY)),Ta(this,"onError",new Hd.a),Ta(this,"onEnd",new Hd.a),Ta(this,"onVolumeChange",new Hd.a),Ta(this,"onPlay",new Hd.a),Ta(this,"onPlayAfterPause",new Hd.a),Ta(this,"onBufferingAfterPlay",new Hd.a),Ta(this,"isBuffering",new fd.a(!1)),Ta(this,"onPlaying",new Hd.a),Ta(this,"fullscreenApi",void 0),Ta(this,"onSeekRestore",new Hd.a),Ta(this,"pauseRequest",new fd.a(-1)),Ta(this,"seekController",void 0),Ta(this,"cspErrorHandler",void 0),Ta(this,"activeMSEController",void 0),Ta(this,"win",void 0),this.seekController=new fb(e,()=>this.onSeekRestore.dispatch(void 0)),this.win=rn(e)?e.ownerDocument.defaultView:window,this.fullscreenApi=new db(this.win,e),this.cspErrorHandler=new lb(this.win);let t=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:i,duration:n,paused:r,ended:a}=this.videoNode;switch(Object(Ko.a)("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:t,nextPlayingState:e,currentTime:i,duration:n,paused:r,ended:a})+"]"),e){case dA.PLAY:"pause"===t&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case dA.END:this.onEnd.dispatch(void 0);break;case dA.BUFFERING:"play"===t&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===dA.BUFFERING),t=e});const i={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new qo.a({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&Xo.c.error({error:e})};let n=t();if(!n){n=this.getVideoNodeError();const{promise:e,clear:t}=Object(Nd.a)(Tb);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(ud.a)}this.onError.dispatch(n)},play:()=>{this.playingState.dispatch(dA.PLAY)},playing:()=>{this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}),this.onPlaying.dispatch(void 0),this.playingState.dispatch(dA.PLAY)}};this.subscribeClick(),this.subscribeTimeupdate(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const n in i)i.hasOwnProperty(n)&&e.addEventListener(n,i[n]);this.addDestroyHandler(()=>{for(const t in i)i.hasOwnProperty(t)&&e.removeEventListener(t,i[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll()})}play(){Object(Ko.a)("VideoNodeController.play");const e=this.videoNode.play();pd(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||Xo.c.error({error:new qo.a(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Object(Ko.a)("VideoNodeController.pause"),this.pauseRequest.dispatch(Date.now()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const n=Ab(e);Object(Ko.a)("VideoNodeController.setSrc playWithMSE=["+n+"] url=["+t+"]"),Vi(i,()=>{if(!n)return i.src=t,void i.load();const e=pb({src:t,videoSlot:i});this.activeMSEController=e,e.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{e.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentTime(){return function(e){const t=e.currentTime||0;return Math.max(0,t)}(this.videoNode)}getDuration(){return function(e){const t=e.duration||0;return Math.max(0,t)}(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return fa(this.win,this.videoNode)===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){Vi(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:Pf;e.volume=t}})}(this.videoNode,e)}getVolume(){return(e=this.videoNode).muted?0:e.volume;var e}setVolume(e){!function(e,t){Vi(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:n,duration:r,error:a}=e,o=a&&a.code,s={code:o,message:a&&a.message||"",src:t,currentSrc:i,currentTime:n,duration:r};if(!a||"undefined"===typeof MediaError)return new qo.a({code:"VIDEO_ERROR",details:s});switch(o){case MediaError.MEDIA_ERR_ABORTED:return new qo.a({code:"MEDIA_ERR_ABORTED",details:s});case MediaError.MEDIA_ERR_NETWORK:return new qo.a({code:"MEDIA_ERR_NETWORK",details:s});case MediaError.MEDIA_ERR_DECODE:return new qo.a({code:n>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:s});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new qo.a({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:s});default:return new qo.a({code:"MEDIA_ERROR_UNRECOGNIZED",details:s})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=jp>=11?ma(this.videoNode,e):Object(zd.a)({element:this.videoNode,eventName:"click",listener:e});this.addDestroyHandler(t)}subscribeTimeupdate(){let e=0;const t=()=>{this.seekController.isSeekingIllegal()||(e=Date.now(),this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}))},i=Object(zd.a)({element:this.videoNode,eventName:"timeupdate",listener:t,options:{passive:!0}}),n=ai(()=>{const i=Date.now()-e;this.playingState.getValue()===dA.PLAY&&i>yb&&(Object(Ko.a)("dispatch synthetic timeupdate event for currentTime=["+this.videoNode.currentTime+"] duration=["+this.videoNode.duration+"] ended=["+this.videoNode.ended+"]"),t())});this.addDestroyHandler(i),this.addDestroyHandler(n)}subscribePause(){const{videoNode:e}=this,t=Object(zd.a)({element:e,eventName:"pause",listener:()=>{this.getCurrentTime()>=this.getDuration()||this.playingState.dispatch(dA.PAUSE)},options:{passive:!0}}),i=ai(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===dA.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Object(Ko.a)("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),Xo.c.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(dA.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Object(zd.a)({element:this.videoNode,eventName:"ended",listener:()=>{this.seekController.isSeekingIllegal()||(this.getCurrentTime()+Ob>=this.getDuration()?this.playingState.dispatch(dA.END):Object(Ko.a)("video ended ignored with currentTime=["+this.getCurrentTime()+"] duration=["+this.getDuration()+"]"))},options:{passive:!0}});let t=0,i=NaN;const n=ai(()=>{const e=this.getDuration(),n=this.getCurrentTime(),{paused:r}=this.videoNode,a=this.playingState.getValue();if(e>0&&n>=e)return void(a!==dA.END&&(Xo.c.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(dA.END)));const o=!r&&e>0&&n===i&&e-n<gb&&this.playingState.getValue()===dA.PLAY;i=n,o?t>=bb?(t=0,a!==dA.END&&(Xo.c.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(dA.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(n)}subscribeBuffering(){let e=zo.a;const t=$A(this.videoNode,t=>{const i=t?dA.BUFFERING:this.videoNode.paused?dA.PAUSE:dA.PLAY;if(e(),this.playingState.dispatch(i),t&&wb){const{clear:t,promise:i}=Object(Nd.a)(Eb);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const e=this.getCurrentTime()+Sb;this.setCurrentTime(e);const{currentSrc:t,src:i}=this.videoNode;Xo.c.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:t,src:i,currentTime:this.getCurrentTime(),duration:this.getDuration()}})}).catch(ud.a)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Object(zd.a)({element:this.videoNode,eventName:"volumechange",listener:()=>{this.onVolumeChange.dispatch(void 0)}}))}shouldIgnorePlayRejection(e){if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=_b}}const Ib=e=>{if(!function(e){if(!Nt(e))return!1;const{adParametersObject:t,adParameters:i}=e;if(!Object($o.a)(t))return!1;const{parsed:{animationMediaFile:n}}=Tt(i);return!!n&&n.url===eu.ThemeEmpty}(e))return;const{adParametersObject:t}=e;return Object($o.a)(t)?{parsedParameters:PA(t),adParametersObject:t}:void 0},Pb=["left-bottom","right-bottom"],Nb=["left-bottom","right-bottom","left-center","right-center"],Db=140,Rb=e=>!1!==e.abuse,kb={isCloseAvailable:!1,isCloseDialogActive:!1},Vb=(e,t,i,n)=>{const r=e[t];let a=r;return i?a=Object(wd.a)(r,e=>e!==n):i||Object(xd.a)(r,n)||(a=[...r]).push(n),Ca({},e,{[t]:a})};let Bb=0;const Lb=100;class jb{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}disableCreativePackshot(){this.config.packshotSettings={isEnabled:!1}}constructor(e){var t,i;let{config:n,videoNode:a,videoWrapperNode:o,renderSkin:s,visibilitySlot:d,backgroundSlot:l}=e;Pa(this,"visibilityRatio",void 0),Pa(this,"slotSize",void 0),Pa(this,"videoContentSize",void 0),Pa(this,"videoSlotSize",void 0),Pa(this,"wrapperNode",void 0),Pa(this,"slotDocument",void 0),Pa(this,"slotWindow",void 0),Pa(this,"visibilitySlot",void 0),Pa(this,"onReady",new Hd.a),Pa(this,"onBeforeDestroy",new Hd.a),Pa(this,"onDestroy",new Hd.a),Pa(this,"onBeforeAdStart",new Hd.a),Pa(this,"onAdStart",new Hd.a),Pa(this,"adSlowStart",new fd.a(!1)),Pa(this,"onAdMediaStart",new Hd.a),Pa(this,"onAdMediaEnd",new Hd.a),Pa(this,"onAdEnd",new Hd.a),Pa(this,"onAdSkipped",new Hd.a),Pa(this,"onClickThrough",new Hd.a),Pa(this,"isFinished",void 0),Pa(this,"config",void 0),Pa(this,"videoNodeController",void 0),Pa(this,"videoNode",void 0),Pa(this,"desiredBitrate",void 0),Pa(this,"autoplayAbilitySignal",new fd.a(Ia({},rA))),Pa(this,"onAdStartRejected",new Hd.a),Pa(this,"adContentSize",new fd.a(void 0,hn)),Pa(this,"onAdStop",new Hd.a),Pa(this,"onAdStartRequest",new Hd.a),Pa(this,"onAdPodPlayAdMedia",new Hd.a),Pa(this,"onAdPodStartRequest",new Hd.a),Pa(this,"onAdPodStart",new Hd.a),Pa(this,"onAdPodImpression",new Hd.a),Pa(this,"onAdPodFirstQuartile",new Hd.a),Pa(this,"onAdPodMidpoint",new Hd.a),Pa(this,"onAdPodThirdQuartile",new Hd.a),Pa(this,"onAdPodPause",new Hd.a),Pa(this,"onAdPodResume",new Hd.a),Pa(this,"onAdPodError",new Hd.a),Pa(this,"onAdPodComplete",new Hd.a),Pa(this,"onAdPodClose",new Hd.a),Pa(this,"onAdInteraction",new Hd.a),Pa(this,"adMediaState",new fd.a({name:"idle"},hn)),Pa(this,"isPackshotPlaying",new fd.a(!1)),Pa(this,"actionButtonParameters",new fd.a(void 0,hn)),Pa(this,"actionButtonAnimationProgress",new fd.a(0)),Pa(this,"abuseParameters",new fd.a(vA,hn)),Pa(this,"adVolume",new fd.a(ns)),Pa(this,"adPodDuration",new fd.a(rm)),Pa(this,"adHasBeenUnmuted",new fd.a(!1)),Pa(this,"adVolumeAvailability",new fd.a(Wf)),Pa(this,"adPodRemainingTime",new fd.a(bm)),Pa(this,"skinAnimationProgress",new fd.a(0)),Pa(this,"timeToSkip",new fd.a(Dg)),Pa(this,"adSkippableState",new fd.a(ym)),Pa(this,"wasAbuseClosedByClickOutsideVisibility",new fd.a(!1)),Pa(this,"playingState",new fd.a("idle",(e,t)=>"idle"===t?(Xo.c.error({error:new qo.a({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),Pa(this,"adPodCloseState",new fd.a(kb,hn)),Pa(this,"adTuneState",new fd.a(gA,hn)),Pa(this,"combinedSkinControlsVisibility",new fd.a({},hn)),Pa(this,"adSystemType",new fd.a(void 0)),Pa(this,"socialAdvertising",new fd.a(!1)),Pa(this,"abuseScreenStatus",new fd.a("hidden")),Pa(this,"pauseByOpenAbuseScreen",new fd.a(!1)),Pa(this,"adPodsCount",new fd.a(0)),Pa(this,"playingAdPodIndex",new fd.a(0)),Pa(this,"adPodCurrentSubtitles",new fd.a([])),Pa(this,"skinContainer",void 0),Pa(this,"retainLastMediaAfterPlayback",!1),Pa(this,"renderSkin",void 0),Pa(this,"skinControlsHideReasons",new fd.a(Object(Ol.a)(Object(Zo.a)(Xl,e=>[e,[]])))),Pa(this,"publicApiControlsSettings",new fd.a({controlsVisibility:{}})),Pa(this,"isNonLinearAdPlaying",new fd.a(!1)),Pa(this,"isCreativeWithOwnControls",new fd.a(!1)),Pa(this,"vastAdControlsSettings",new fd.a(void 0)),Pa(this,"shouldHandleResize",!0),Pa(this,"emitAdEnd",void 0),Pa(this,"viewersList",[]),Pa(this,"currentViewer",void 0),Pa(this,"nativeControlsHideStyle",void 0),Pa(this,"adType",void 0),Pa(this,"showAdCounter",0),Pa(this,"shouldBlurBeVisibleByApiLogic",new fd.a(!0)),Pa(this,"adPodBackground",new fd.a(void 0)),Pa(this,"adPodDestroyReasonObjects",[]),Pa(this,"destroyBlur",zo.a),Pa(this,"adVideoIsBuffering",new fd.a(!1)),Pa(this,"onAdInteractionWrapper",$g(()=>{this.onAdInteraction.dispatch(void 0)},Hf)),Pa(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),Pa(this,"prepareSkin",Object(Ds.a)(()=>{const e=this.skinContainer;T(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none",fontSize:"16px"});const t=Hr(e);t||Xo.c.event({name:"CouldNotCreateSkinShadowRoot",data:void 0});const{firstRenderPromise:i,runtimeErrorPromise:n,clear:r}=this.renderSkin(null!==t&&void 0!==t?t:e,this);i.catch(e=>{Xo.c.error({error:new qo.a(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:e})}),this.destroy(e)}),n.catch(e=>{Xo.c.error({error:new qo.a(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.onDestroy.add(()=>{r(),Object(Go.a)(e)})})),Pa(this,"backgroundSlot",void 0),Pa(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?Gf:Sd("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),n=Date.now();if(Xo.c.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const r=pn(window.document,a=>{a&&(Xo.c.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-n,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),r(),i&&this.resume())});this.onDestroy.add(r)}),Pa(this,"clickThrough",(e,t)=>{this.currentViewer?(Xo.c.event({name:"AdDisplayControllerClickThrough",data:{source:t,playbackParameters:this.config},probability:Yo.a}),this.currentViewer.userInteractionDispatchers.AdClickThru(e),this.currentViewer.clickThrough(e)):Xo.c.error({error:new qo.a({code:"CALL_CLICK_THROUGH_METHOD_WITHOUT_VIEWER",details:{source:t,playbackParameters:this.config}})})}),Pa(this,"destroyCurrentViewer",()=>{this.currentViewer&&(this.currentViewer.destroy({reason:"close",details:void 0}),this.closeAbuseScreen())}),Pa(this,"abuseVariantChooseHandler",(e,t)=>{if(!this.currentViewer)return void Xo.c.error({error:new qo.a({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{reason:i,action:n}=cA?mA[e]:fA[e];this.sendAdTuneTracking({actionId:n,reasonId:i,options:t}),Xo.c.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:Yo.b}),(null===t||void 0===t?void 0:t.noDestroyOnClick)||this.destroyCurrentViewer()}),Pa(this,"getSendBeaconParams",e=>{const t=null===e||void 0===e?void 0:e.UserResponse;if(!t)return;const i=JSON.stringify({UserResponse:t});return new Blob([i],{type:"application/json"})}),Pa(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),Xo.c.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:Yo.b}),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseScreenStatus.dispatch("selection"),cA&&this.sendAdTuneTracking({actionId:uA.open.action,reasonId:uA.open.reason})}),Pa(this,"abuseScreenCloseHandler",()=>{Xo.c.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:Yo.b}),this.closeAbuseScreen(),cA&&this.sendAdTuneTracking({actionId:uA.close.action,reasonId:uA.close.reason})}),Pa(this,"handleAbuseScreenCloseByResumeError",()=>{Xo.c.error({error:new qo.a({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseScreenStatus.dispatch("hidden")}),Pa(this,"getCurrentViewerAssets",()=>{const e=this.currentViewer;if(!e)return void Xo.c.event({name:"GetCurrentViewerAssetsCalledWithoutViewer",data:void 0,probability:Yo.b});const{adParametersObject:t}=e.mediaAd.vastAd,i=t?PA(t):void 0;if(!i)return Xo.c.event({name:"GetCurrentViewerAssetsReturnedEmpty",data:void 0,probability:Yo.b}),{logo:void 0,domain:void 0,punyDomain:void 0,title:void 0,body:void 0,age:void 0,buttonCaption:void 0,lang:void 0,targetUrl:void 0,socialAdvertising:void 0,sendAdTuneTracking:void 0,clickThrough:void 0,clickThroughButtonAsset:void 0};const n=null===i||void 0===i?void 0:i.assets,r=null===n||void 0===n?void 0:n.button,{abuseUrl:a}=this.abuseParameters.getValue(),o={logo:null===n||void 0===n?void 0:n.logo,domain:null===i||void 0===i?void 0:i.domain,punyDomain:null===i||void 0===i?void 0:i.punyDomain,title:null===i||void 0===i?void 0:i.title,body:null===i||void 0===i?void 0:i.body,age:null===i||void 0===i?void 0:i.ageRestriction,buttonCaption:null===r||void 0===r?void 0:r.caption,lang:this.config.lang,targetUrl:null===i||void 0===i?void 0:i.targetUrl,socialAdvertising:this.socialAdvertising.getValue(),sendAdTuneTracking:a?e=>{Xo.c.event({name:"GetCurrentViewerAssetsAdTuneTracking",data:void 0,probability:Yo.b}),this.sendAdTuneTracking(e)}:void 0,clickThrough:e.isClickable()?()=>{Xo.c.event({name:"GetCurrentViewerAssetsClickThrough",data:void 0,probability:Yo.b}),e.clickThrough()}:void 0,clickThroughButtonAsset:r?()=>{Xo.c.event({name:"GetCurrentViewerAssetsClickThroughButtonAsset",data:void 0,probability:Yo.b}),e.clickThrough({id:r.key,url:r.href})}:void 0};return Xo.c.event({name:"GetCurrentViewerAssetsReturnAssets",data:o,probability:Yo.b}),o}),Pa(this,"subscribeInteractionHandlers",()=>{if(!Vp(this.wrapperNode))return zo.a;const e=[],t=rn(this.videoNode);return Object(Jo.a)(Cf,i=>{e.push(Object(zd.a)({element:this.wrapperNode,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}})),t&&e.push(Object(zd.a)({element:this.wrapperNode,eventName:i,listener:this.onAdInteractionWrapper,options:{passive:!0}}))}),()=>Object(gd.a)(e)}),this.onDestroy.add(this.onBeforeDestroy),this.backgroundSlot=l,Ur(window)&&Ef(),Fr(window)&&Tf(window);const c=void 0===a.volume||void 0===a.muted;c&&Xo.c.error({error:new qo.a({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})});const{config:u,errors:h}=ea(n);this.config=u,this.isFakeVideoElementWithoutVolumeChangeSupport=c,this.wrapperNode=o,this.slotDocument=this.wrapperNode.ownerDocument,this.slotWindow=this.slotDocument.defaultView,this.skinContainer=this.slotDocument.createElement("div"),this.renderSkin=s,this.onDestroy.add(Yf(this.wrapperNode,()=>{this.destroy(new qo.a({code:"VIDEO_WRAPPER_NODE_NOT_IN_DOM",details:void 0}))})),void 0!==u.visibilitySlot&&Xo.c.event({name:"UsingVisibilitySlot",probability:Yo.a,data:{config:this.config}}),this.visibilitySlot=null!==(t=null!==(i=u.visibilitySlot)&&void 0!==i?i:d)&&void 0!==t?t:o;const p=new Km(this.visibilitySlot,{numberOfMeasurementSteps:Im});this.visibilityRatio=p.totalVisibilityRatioValueSignal,this.videoContentSize=new fd.a(void 0,hn),this.videoContentSize.add(e=>{Object(Ko.a)("videoContentSize changed to "+JSON.stringify(e))}),this.onAdStart.addOne(()=>{this.onDestroy.add(function(e,t){const i=()=>{const i=En(e);t(i)},n=[];return n.push(Object(zd.a)({element:e,eventName:"resize",listener:i}),ai(i)),()=>{Object(gd.a)(n)}}(a,e=>{this.videoContentSize.dispatch(e)})),this.videoContentSize.dispatch(En(a))});const A=new jm(o);if(this.slotSize=A.onResize,this.slotSize.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),this.onDestroy.add(()=>{A.destroy()}),rn(a)){const e=new jm(a);this.onDestroy.add(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotSize;this.onDestroy.add(()=>{p.destroy(void 0)}),re(h),this.videoNode=a,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const m=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),m())});this.onAdPodPlayAdMedia.add(e=>{const{abuseUrl:t}=e.mediaAd.vastAd;this.abuseParameters.dispatch({abuseUrl:t})}),++Bb===Lb&&Xo.c.error({error:new qo.a({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),Xo.c.event({name:"CreateAdDisplayController",probability:Yo.a,data:{config:this.config}}),this.desiredBitrate=n.desiredBitrate,this.videoNodeController=new Cb(a),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const v=this.config.controlsSettings;this.onDestroy.add(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:n,showGuiForVpaid:r,controlsSettingsFromConfig:a,slotSize:o,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:l,vastAdControlsSettings:c,publicApiControlsSettings:u}=e,h={};return y([n,o,s,d,l,c,u],(e,t,n,o,s,d,l)=>{let{width:c}=t;if(!("idle"!==e)||!(c>=Db)||s&&!r||n)return Kl;const u={controlsVisibility:b(o,e=>!(e.length>0)&&void 0)};return Gi(d,a,l,u,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},ne(e=>{t(h=e)},e=>{for(const i of Xl)if(e[i]!==h[i])return void t(h=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:v,slotSize:this.slotSize,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings,publicApiControlsSettings:this.publicApiControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{const{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external"),this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(t.vastAd));const i=Ji(t.vastAd);this.vastAdControlsSettings.dispatch(i),this.actionButtonParameters.dispatch(function(e){const t=Ib(e);if(!Object($o.a)(t))return;const{adParametersObject:i,parsedParameters:n}=t;if(!Object($o.a)(i)||!Object($o.a)(n))return;const r=Fi(i);if(!r)return;const{domain:a,punyDomain:o}=n;return{domain:a,punyDomain:o,clickUrl:r,buttonPlacement:Ea(i),oldButtonStyle:Sa(i),label:Yi(i)}}(t.vastAd)),e.playbackPosition.subscribeValueConditionOnce(e=>{let{duration:t,remainingTime:i}=e;return!!r(t)&&(!!r(i)&&t-i>=1)},()=>{const t=new zA({win:window,duration:wg,callback:e=>{this.actionButtonAnimationProgress.dispatch(e)},onFinish:()=>{t.stop()}});t.start(),e.addDestroyHandler(()=>{t.stop()})}),e.packshotStartLatch.subscribe(()=>{this.isPackshotPlaying.dispatch(!0)})}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0),this.actionButtonParameters.dispatch(void 0),this.actionButtonAnimationProgress.dispatch(0),this.isPackshotPlaying.dispatch(!1),this.adVideoIsBuffering.dispatch(!1)}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Object(Ko.a)("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Object(Ko.a)("mark slow start, actual passed time=["+t+"]ms"),Xo.c.event({name:"AdSlowStart",probability:Yo.a,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},zf),this.onAdStart.addOne(()=>{i()}),this.onDestroy.add(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.onDestroy.add(()=>{this.isFinished=!0,this.playingState.dispatch("end"),Object(Jo.a)(this.viewersList,e=>{e.destroy({reason:"destroy",details:void 0})}),this.viewersList.length=0,this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.adPodDuration.removeAll(),this.adPodRemainingTime.removeAll(),this.timeToSkip.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&Xo.c.error({error:new qo.a({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),Object(Go.a)(this.nativeControlsHideStyle)}),this.onDestroy.add(y([this.vastAdControlsSettings,this.abuseParameters,this.abuseScreenStatus],wa,e=>this.adPodCloseState.dispatch(e))),this.adPodCloseState.add(e=>{let{isCloseAvailable:t}=e;return this.adTuneState.dispatch({isAvailable:t})}),this.onAdPodPlayAdMedia.add(e=>{this.adPodCurrentSubtitles.dispatch([]);const t=Ff(e.mediaAd.vastAd);let i;if(t)try{i=new ib(t)}catch(n){Xo.c.event({name:"SubtitleProviderInitializationError",data:{message:n.message},probability:Yo.a})}lA||e.addDestroyHandler(y([this.adPodRemainingTime,this.adPodDuration,this.isPackshotPlaying],(e,t,i)=>({remainingTime:e,duration:t,isPackshotPlaying:i}),e=>{let{remainingTime:t,duration:n,isPackshotPlaying:r}=e;const a=Math.max(0,n-t);if(r)this.adPodCurrentSubtitles.dispatch([]);else if(i){const e=i.findCuesByCurrentTime(a);this.adPodCurrentSubtitles.dispatch(e)}}))}),this.prepareSkin()}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new qo.a({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),n=rn(this.videoNode)?Ci(this.videoNode):void 0;if(!1===n){const e=Vp(this.wrapperNode)?Ci(this.wrapperNode):void 0;return Xo.c.error({error:new qo.a({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:n,wrapperInDom:e}})}),Promise.resolve()}if(!e.mediaAds.length)return Xo.c.error({error:new qo.a({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&Xo.c.event({name:"CallShowAdMultipleTimes",probability:Yo.a,data:void 0});const{adBreak:a}=e.getFirstMediaAd(),o=null!==(t=a.adType)&&void 0!==t?t:"preroll";return this.adType=o,this.isFinished=!1,new Promise((t,n)=>{this.wrapperNode.appendChild(this.skinContainer),this.viewersList=Object(Zo.a)(e.mediaAds,e=>{e.vastAd.trackingEvents=W(e.vastAd.trackingEvents,this.config.trackingEvents);const t={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:function(e){let{playbackParameters:t,secureMode:i,vastAd:n,adBreak:a}=e;const o=Gi(Ji(n),t.controlsSettings),{skipDelay:s,eventName:d}=Xi({vastAd:n,secureMode:i});let l;void 0!==d&&Xo.c.event({name:d,probability:Yo.a,data:void 0}),!0===t.backgroundBlur?l="blur":n.backgroundColor?l={color:n.backgroundColor}:!0===n.backgroundBlur&&!1!==t.backgroundBlur&&(l="blur");const c=!1===t.packshotSettings.isEnabled,u=Object($o.a)(n.adParametersObject)&&!c?qi(n.adParametersObject):void 0;let h,p;var A,m;let v;var f,g;let b;var y,_;h=!0===t.showGuiForVpaid||(Boolean(n.imhoParams)||Nt(n)),p="number"===typeof t.bufferFullTimeout?t.bufferFullTimeout:null!==(A=null===(m=n.playbackAdParameters)||void 0===m?void 0:m.bufferFullTimeout)&&void 0!==A?A:a.bufferFullTimeout,v=r(t.bufferEmptyLimit)?t.bufferEmptyLimit:null!==(f=null===(g=n.playbackAdParameters)||void 0===g?void 0:g.bufferEmptyLimit)&&void 0!==f?f:a.bufferEmptyLimit,b=r(t.videoTimeout)?t.videoTimeout:null!==(y=null===(_=n.playbackAdParameters)||void 0===_?void 0:_.videoTimeout)&&void 0!==y?y:a.videoTimeout;const O=r(t.vpaidTimeout)?t.vpaidTimeout:a.vpaidTimeout,T=n.adParametersObject?Fi(n.adParametersObject):void 0,E="string"===typeof t.clickThroughUrl||n.isClickable&&Object(hl.a)(n.clickThrough)||Object(hl.a)(T);return{controlsSettings:o,background:l,showGuiForVpaid:h,skipDelay:"number"===typeof t.skipDelay?t.skipDelay:s,bufferFullTimeout:p,bufferEmptyLimit:v,videoTimeout:b,vpaidTimeout:O,clickThroughUrl:Object(hl.a)(t.clickThroughUrl)?t.clickThroughUrl:Object(hl.a)(n.clickThrough)?n.clickThrough:Object(hl.a)(T)?T:"",isClickable:E,packshotParameters:u}}({playbackParameters:this.config,secureMode:e.adConfig.secureMode,vastAd:e.vastAd,adBreak:e.adBreak})},i="js"===e.contentType?new Uf(t):new vm(t);return i.adVideoIsBuffering.add(e=>this.adVideoIsBuffering.dispatch(e)),i.onImpression.add(this.onAdPodImpression),i.onFirstQuartile.add(this.onAdPodFirstQuartile),i.onMidpoint.add(this.onAdPodMidpoint),i.onThirdQuartile.add(this.onAdPodThirdQuartile),i.onAdInteraction.add(this.onAdInteractionWrapper),i}),this.adPodsCount.dispatch(this.viewersList.length),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:o}),this.onAdPodStart.addOne(()=>{Xo.c.values({name:"AdStarted",probability:Yo.a,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(o).then(()=>t()).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:o}),n(e)}),this.onDestroy.add(this.subscribeInteractionHandlers())}).catch(e=>{Xo.c.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:o}),this.destroyBlur()})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i,n,r=0;if(e&&(r=e.getBufferingTime()),e&&(i=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(n=function(e,t){let{type:i,url:n}=e,{vastAd:r}=t;if("js"!==St({type:i}))return"video";if(!u(n))return"external";try{const{adFormatType:e}=Me(r.adParameters);return e}catch(a){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return Sn({win:this.slotWindow,slotSize:this.slotSize.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.visibilityRatio.getValue(),videoNode:t,bufferingTime:r,adBreakType:i,adFormatType:n})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var n;void 0===i&&(i=Op.NORMAL),null===(n=this.currentViewer)||void 0===n||n.resizeAd(e,t,i)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const n=Zi(t);n?i(n):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void Xo.c.error({error:new qo.a({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():Xo.c.error({error:new qo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}sendAdTuneTracking(e){let{actionId:t,reasonId:i,options:n}=e;const{abuseUrl:r}=this.abuseParameters.getValue();r||Xo.c.error({error:new qo.a({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})}),mt({eventName:"close",trackingEventDetails:void 0,trackingUrls:[Object(ls.b)(r,{"reason-id":""+i,"action-id":""+t},{override:!0})],options:this.getAdPlacementOptions(),sendBeaconParams:this.getSendBeaconParams(n)})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:qA}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:YA}trackEvent(e,t){var i;null===(i=this.currentViewer)||void 0===i||i.trackEvent(e,t)}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}usesVideoNode(){if(this.currentViewer)return!this.currentViewer.mediaAd.getIsIndependentOnVideoElement()}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return Object(Jo.a)(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.wrapperNode.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}destroy(e){this.onDestroy.dispatch(e),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll()}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(Vb(this.skinControlsHideReasons.getValue(),e,t,i))}setPublicApiControlsSettings(e){if(!Object($o.a)(e)&&!1!==e&&void 0!==e){const t=new qo.a({code:"INVALID_ARGUMENT_IN_SET_PUBLIC_API_CONTROLS",details:{argument:e}});throw Xo.c.error({error:t}),Object(Qu.a)("setPublicApiControlsSettings: invalid input data, please check VAS documentation"),t}const t=this.publicApiControlsSettings.getValue();let i;i=Object($o.a)(e)?Ia({},t,{controlsVisibility:Ia({},t.controlsVisibility,e)}):Ia({},t,{visibility:e}),Xo.c.event({name:"PublicSetControlVisibilityIsUsed",data:{previous:t,next:i},probability:Yo.a}),Object(Ko.a)("AdDisplayController#setPublicApiControlsSettings: before=["+JSON.stringify(t)+"], after=["+i+"]"),this.publicApiControlsSettings.dispatch(i)}areAllAdPodsCompleted(){return pc(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}getAutoplay(){if(this.getCurrentViewerIndex()>0)return Object(Ko.a)("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbilitySignal.getValue().requireUserGesture)return Object(Ko.a)("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Object(Ko.a)("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Object(Ko.a)("autoplay=["+e+"] due to playingStateValue"),e}return Object(Ko.a)("autoplay=true due to default"),!0}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?Object(Go.a)(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Rr(this.wrapperNode,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&"inpage"!==this.adType&&this.resume(),this.abuseScreenStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}initBackgroundColor(e){let t=zo.a;this.onDestroy.add(()=>t()),this.onDestroy.add(this.adPodBackground.add(i=>{Object($o.a)(i)&&Object(hl.a)(i.color)?t=Ti(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(this.backgroundSlot?t=this.backgroundSlot:i||(t=function(e){if(!rn(e))return;const{parentElement:t}=e;if(t)return t;Xo.c.error({error:new qo.a({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Object(Ko.a)("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!ed(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Object(Ko.a)("BackgroundBlur is presented in AdBreak"),!Rg)return void Object(Ko.a)("BackgroundBlur is NOT supported");const n=new Qg({container:t,videoNode:this.videoNode});this.destroyBlur=()=>{n.destroy()},Xo.c.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:Yo.a}),this.onDestroy.add(y([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSize,this.slotSize],(e,t,n,r)=>{if(!e)return!1;if(void 0===n)return!1;if("blur"!==t)return!1;if(i)return!0;const a=r.width/r.height,o=n.width/n.height-a;return Math.abs(o)>Jg},e=>{n.setPlaying(e)})),this.onDestroy.add(()=>null===n||void 0===n?void 0:n.destroy())}playAdMedia(e,t){this.currentViewer=e,this.onAdPodStartRequest.dispatch(void 0),e.trackEvent("onCreativeInit",void 0);let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?Xo.c.error({error:new qo.a({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Yo.d&&Xo.c.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i)},labels:{contentType:e.contentType}})}),this.onAdPodPlayAdMedia.dispatch(e);const n=e.playingState.getValue();"idle"!==n&&Xo.c.error({error:new qo.a({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:n}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):Xo.c.error({error:new qo.a({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const r=this.getAutoplay();r&&(this.config.autoplay=!0),e.addDestroyHandler(e=>{const i=Zi(e);i&&(this.trackError(i),Xo.c.error({error:i}),li("AdPod playing error",i),this.onAdPodError.dispatch(i)),this.currentViewer=void 0,t(e)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),Xo.c.error({error:new qo.a({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(r)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this,i=rn(t);if(!this.getIfIsNonLinear()&&i){const e=function(e){const{controls:t}=e,i=e.getAttribute("poster"),n={loop:e.getAttribute("loop"),autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},r=nb(e),{parentElement:a}=e;return Object(Ds.a)(()=>{e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),r(),E(e,n),Vi(e,()=>{e.load()}),a&&a!==e.parentElement&&Xo.c.error({error:new qo.a({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(e);const i=ca(t);this.onBeforeDestroy.addOne(i);const n=function(e){if(!rn(e))return zo.a;const t=e.getAttribute("src")||e.src||null,i=Object(Zo.a)(Object(ks.a)(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return Object(Ds.a)(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),Object(Jo.a)(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),Object(Yl.a)(t,(e,t)=>{i.setAttribute(t,String(e))})}),Vi(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(()=>{this.isLastAdPodRetainedMedia()||n()}),this.onBeforeDestroy.addOne(this.onAdPodStartRequest.add(()=>{nb(t)}))}let n;const a=pc(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:o}=this.config;this.videoNode;if(a?(Object(Ko.a)("autoplayAbility=positive for independentOnVideoElement ad"),n=aA):"boolean"===typeof o?(Object(Ko.a)("autoplayAbility=["+o+"] due to videoSlotCanAutoPlay"),n=o?aA:rA):i?(Object(Ko.a)("start autoplay ability request"),n=await this.requestAutoplayAbility(),Object(Ko.a)("autoplayAbility=["+JSON.stringify(n)+"]")):(Object(Ko.a)("autoplayAbility=positive for fake video element"),n=aA),this.isFinished)throw new qo.a({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbilitySignal.dispatch(n),n.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),n.requireMute&&this.videoNodeController.setMuted(!0);const s=Object(Ds.a)(()=>{this.onReady.dispatch(void 0)}),d=Object(Ds.a)(()=>{this.onAdStart.dispatch({adType:e})});return Object(Jo.a)(this.viewersList,(t,i)=>{var n;t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(s),t.isStarted.addOne(d),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.addDestroyHandler(function(e){let{win:t,adPodDuration:i,adPodRemainingTime:n,playingState:a,isStarted:o,isBuffering:s,callback:d}=e;const l=new GA,c=new fd.a(-1);return l.subscribe(()=>c.removeAll),o.addOne(()=>{const e=new zA({win:t,duration:i.getValue()*$u,callback:e=>{const t=xt(e,0,1);d(t)},onFinish:zo.a});c.add(t=>{Z(t)&&e.adjustPosition(t)}),l.subscribe(()=>{e.stop()}),l.subscribe(y([n,i],(e,t)=>Z(e)&&r(t)?(t-e)/t:-1,e=>{c.dispatch(e)})),l.subscribe(y([c,a,s],(e,t,i)=>Z(e)&&"play"===t&&!i,t=>{t?e.start():e.stop()}))}),()=>{l.dispatch(void 0)}}({win:null===(n=this.wrapperNode.ownerDocument)||void 0===n?void 0:n.defaultView,adPodDuration:this.adPodDuration,adPodRemainingTime:this.adPodRemainingTime,playingState:this.playingState,isStarted:t.isStarted,isBuffering:this.adVideoIsBuffering,callback:e=>{this.skinAnimationProgress.dispatch(e)}})),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===dA.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.addDestroyHandler(()=>{this.adPodRemainingTime.dispatch(bm),this.skinAnimationProgress.dispatch(0)}),t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;this.adPodRemainingTime.dispatch(i),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:a}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!ci(e.mediaAd.vastAd)))})(t)?t.isStarted.addOne(()=>{t.playbackPosition.add(e=>{let{duration:t,remainingTime:i}=e;const n=function(e){let{remainingTime:t,duration:i,skipDelay:n}=e;if(0===n)return Dg;if(n>i-eb)return Dg;if(!Z(t))return Dg;const r=i-t;return n<=r?0:n-r}({remainingTime:i,duration:t,skipDelay:a});this.timeToSkip.dispatch(n)})}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:Dg)})}),new Promise(t=>{this.playAdViewers(e,()=>{t([])})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[],this.onAdStartRequest.dispatch(void 0);const i=Object(Zo.a)(this.viewersList,(t,i)=>n=>{if(this.timeToSkip.dispatch(Dg),this.isFinished){const e=new qo.a({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),n()}const r=this.getAdPodContainerSizeError(t);if(r)return t.mediaAd.trackError(r),this.onAdPodError.dispatch(r),this.adPodDestroyReasonObjects.push({reason:"error",details:r}),Object(Qu.a)('You are using unplayable "slot" sizes, check passed element dimensions.'),n();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(Ki(t.mediaAd.vastAd)),this.playingAdPodIndex.dispatch(i),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),n()})});let n=-1;!function e(){const r=i[++n];void 0!==r?r(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const t=this.slotSize.getValue();if(bn(t,KA))return;if(bn(this.wrapperNode.getBoundingClientRect(),KA))return;const i=0===t.width||0===t.height,n="none"===Ei(this.wrapperNode).display;let r;return r=i?n?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",new qo.a({code:r,details:{slotSize:t,config:this.config,adConfig:e.mediaAd.adConfig}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const n=ji(e),r=new sA(e,{checkSoundEnabled:i,promise:n});return{promise:r.promise,stop:r.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});return this.onDestroy.add(i),new Promise(n=>{t.then(t=>{Xo.c.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:Yo.a}),n(t)}).catch(()=>{this.isFinished||Xo.c.error({error:new qo.a({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{Object(Ko.a)("RAA stopped by playingState=["+e+"]"),i(),n(aA)})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let n=this.getCurrentViewerIndex()+1;n<t.length;n++){const{mediaAd:i}=t[n];i.trackEvent(e,this.getAdPlacementOptions(t[n]),void 0)}this.stop()}getIfIsNonLinear(){return pc(this.viewersList,e=>e.isNonLinear())}}class Mb extends vd.a{constructor(e){let{videoSlot:t,slot:i,mediaAds:n,playbackParameters:r,onPlayAd:a,renderSkin:o}=e;super(),Na(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{this.adDisplayController.pause()})),Na(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{this.adDisplayController.resume()})),Na(this,"isPlayAdCalled",!1),Na(this,"adDisplayController",void 0),Na(this,"onAllAdPodComplete",new Hd.a),Na(this,"videoSlot",void 0),Na(this,"slot",void 0),Na(this,"mediaAds",void 0),Na(this,"playbackParameters",void 0),Na(this,"onPlayAd",void 0),Na(this,"lastMediaRetained",!1),Na(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped,getAdPodAdTuneState:this.getAdPodAdTuneState,sendAdTuneTracking:this.sendAdTuneTracking,getCurrentViewerAssets:this.getCurrentViewerAssets,setControlsVisibility:this.setControlsVisibility})),Na(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),Na(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),Na(this,"setControlsVisibility",e=>this.adDisplayController.setPublicApiControlsSettings(e)),Na(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:this.lastMediaRetained}}),Na(this,"playAd",()=>{if(this.isPlayAdCalled){v(new qo.a({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy("adComplete")}).catch(ud.a)}),Na(this,"stopAd",()=>{this.destroy("stopAd")}),Na(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),Na(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),Na(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?Dg:this.adDisplayController.timeToSkip.getValue()),Na(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),Na(this,"getAdPodAdTuneState",()=>this.adDisplayController.adTuneState.getValue()),Na(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?ns:this.adDisplayController.getVolume()),Na(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),Na(this,"sendAdTuneTracking",e=>{let{actionId:t,reasonId:i}=e;Xo.c.event({name:"SendAdTuneTracking",data:{actionId:t,reasonId:i},probability:Yo.a}),this.adDisplayController.sendAdTuneTracking({actionId:t,reasonId:i})}),Na(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?Wf:this.adDisplayController.getAdVolumeAvailability()),Na(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),Na(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),Na(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():this.mediaAds.getDuration()),Na(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),Na(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():Xo.c.error({error:new qo.a({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),Na(this,"getCurrentViewerAssets",()=>this.adDisplayController.getCurrentViewerAssets()),Na(this,"subscribe",(e,t)=>{if("function"!==typeof t)return zo.a;const i=i=>{try{t(i)}catch(n){Xo.c.error({error:new qo.a({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),Object(ud.a)(n)}},n=()=>{i({})};switch(e){case"AdMediaStateChange":return this.adDisplayController.adMediaState.add(n);case"AdContentSizeChange":return this.adDisplayController.adContentSize.add(n);case"AdStartRequest":return this.adDisplayController.onAdStartRequest.add(n);case"AdStarted":return this.adDisplayController.onAdStart.add(n);case"AdPodStartRequest":return this.adDisplayController.onAdPodStartRequest.add(n);case"AdPodStarted":return this.adDisplayController.onAdMediaStart.add(n);case"AdPodImpression":return this.adDisplayController.onAdPodImpression.add(n);case"AdPodVideoFirstQuartile":return this.adDisplayController.onAdPodFirstQuartile.add(n);case"AdPodVideoMidpoint":return this.adDisplayController.onAdPodMidpoint.add(n);case"AdPodVideoThirdQuartile":return this.adDisplayController.onAdPodThirdQuartile.add(n);case"AdRemainingTimeChange":return this.adDisplayController.adPodRemainingTime.add(()=>{i({})});case"AdPodDurationChange":return this.adDisplayController.adPodDuration.add(n);case"AdPodSkipped":return this.adDisplayController.onAdSkipped.add(n);case"AdClickThru":return this.adDisplayController.onClickThrough.add(n);case"AdPodError":return this.adDisplayController.onAdPodError.add(e=>{let t;"string"===typeof e.code?t=e.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",Xo.c.error({error:new qo.a({code:t,details:{error:e}})})),i({code:t})});case"AdPodStopped":return this.adDisplayController.onAdMediaEnd.add(n);case"AdPodComplete":return this.adDisplayController.onAdPodComplete.add(n);case"AdPodClose":return this.adDisplayController.onAdPodClose.add(n);case"AllAdPodVideoComplete":return this.onAllAdPodComplete.add(n);case"AdStopped":return this.adDisplayController.onDestroy.add(n);case"AdSkippableStateChange":return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case"AdVolumeChange":return this.adDisplayController.adVolume.add(()=>{i({})});case"AdVolumeAvailabilityStateChange":return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case"AdPlayingStateChange":return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case"AdStartRejected":return this.adDisplayController.onAdStartRejected.add(n);case"AdPodCloseStateChange":return this.adDisplayController.adPodCloseState.add(n);case"AdTuneStateChange":return this.adDisplayController.adTuneState.add(n);case"AdInteraction":return this.adDisplayController.onAdInteraction.add(n);default:return zo.a}}),this.videoSlot=t,this.slot=i,this.mediaAds=n,this.playbackParameters=r,this.onPlayAd=a,this.adDisplayController=new jb({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:o}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.adDisplayController.onDestroy.add(()=>{this.adDisplayController.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained=this.adDisplayController.isLastAdPodRetainedMedia()}),this.addDestroyHandler(()=>{this.adDisplayController.destroy()})}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{v(new qo.a({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}const xb=vr({isAbuseSupported:!1,abuseButtonClickHandler:zo.a,abuseScreenStatus:"hidden",abuseScreenCloseHandler:zo.a,abuseVariantChooseHandler:zo.a,pauseByOpenAbuseScreen:!1,abuseCustomReasonText:"",abuseCustomReasonTextHandler:zo.a,abuseActiveDisplayType:"default",setAbuseActiveDisplayType:zo.a,abuseSubmittedOption:null,setAbuseSubmittedOption:zo.a,previousDisplayType:"default",setPreviousDisplayType:zo.a,destroyCurrentViewer:zo.a}),Ub=e=>{let{adDisplayController:t}=e;const i=Dr(t.pauseByOpenAbuseScreen),n=Dr(t.abuseScreenStatus),{abuseParameters:r,playingState:a}=t,{abuseUrl:o}=Dr(r),[s,d]=gr(""),[l,c]=gr("default"),[u,h]=gr(null),[p,A]=gr("default");return br(()=>{const e=a.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==n&&t.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[n]),{isAbuseSupported:Boolean(o),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseScreenStatus:n,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i,destroyCurrentViewer:t.destroyCurrentViewer,abuseCustomReasonText:s,abuseCustomReasonTextHandler:d,abuseActiveDisplayType:l,setAbuseActiveDisplayType:c,abuseSubmittedOption:u,setAbuseSubmittedOption:h,previousDisplayType:p,setPreviousDisplayType:A}},Fb=()=>Er(xb),Hb=vr({layoutVariant:"regular"}),Wb=e=>{let{adDisplayController:t}=e;const{controlsVariant:i}=t.config.controlsSettings;return{layoutVariant:"banner"===i?"banner":"regular"}},zb=()=>Er(Hb),Gb=vr({socialAdvertising:!1}),Yb=e=>{let{adDisplayController:t}=e;return{socialAdvertising:Dr(t.socialAdvertising)}},qb=()=>Er(Gb);var Xb=i(94),Kb=i.n(Xb);const Qb=e=>{let{children:t,isActive:i=!0,url:n,onClick:r,className:a,buttonClassName:o,contentClassName:s}=e;Vr(Kb.a);const d=rf(Xb.locals.Button,a,{[Xb.locals.Button_active]:i,[Xb.locals.Button_link]:Boolean(n)}),l=Jn("div",{className:Xb.locals.Button__clickable},Jn("div",{className:o},Jn("div",{className:rf(Xb.locals.Button__content,s)},t)));return n?Jn("a",{className:d,href:n,target:"_blank",onClick:r},l):Jn("div",{className:d,onClick:r},l)};var Jb=i(95),Zb=i.n(Jb);const $b=e=>{let{icon:t,className:i}=e;return t?Jn("div",{className:i},t):null},ey=e=>{let{buttonText:t,leftIcon:i,rightIcon:n,onClick:r,url:a}=e;Vr(Zb.a);const o=Tr(()=>{r&&r()},[r]);return Jn(Qb,{className:Jb.locals.AbuseOptionButton,url:a,buttonClassName:Jb.locals.AbuseOptionButton__clickable,contentClassName:Jb.locals.AbuseOptionButton__content,onClick:o},Jn($b,{icon:i,className:Jb.locals.AbuseOptionButton__leftIcon}),t,Jn($b,{icon:n,className:Jb.locals.AbuseOptionButton__rightIcon}))};var ty=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"6",height:"10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M1 1l3.5 4L1 9",stroke:"#498BFF","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const iy=e=>{let{className:t}=e;return Jn(ty,{className:t})};var ny=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M4 1h5v5M9 1L1.5 8.5",stroke:"#C6CFD8","stroke-width":"1.25","stroke-linecap":"round","stroke-linejoin":"round"},[])])};const ry=e=>{let{className:t}=e;return Jn(ny,{className:t})},ay=e=>"anotherReasonAd"===e?Jn(iy,null):"about"===e?Jn(ry,null):void 0;var oy=i(31),sy=i.n(oy);const dy=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=ig();return Jn("div",{className:oy.locals.AbuseDisplay__complaintDisplay},Jn("div",{className:oy.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),Object(Zo.a)(Object(md.a)(t),e=>Jn(ey,{key:e,onClick:i[e],rightIcon:ay(e),buttonText:t[e]})))};var ly=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.598 5l2.743 4.75c.68 1.177 1.13 1.96 1.41 2.567.283.614.268.799.266.814a1.25 1.25 0 01-.508.88c-.012.009-.165.115-.839.176-.664.061-1.568.063-2.927.063H6.258c-1.36 0-2.263-.002-2.928-.063-.673-.061-.826-.167-.838-.176a1.25 1.25 0 01-.508-.88c-.002-.015-.017-.2.266-.814.28-.607.73-1.39 1.41-2.567L6.402 5c.68-1.177 1.133-1.959 1.518-2.504.39-.552.558-.632.572-.638a1.25 1.25 0 011.017 0c.013.006.181.086.571.638.386.545.839 1.327 1.518 2.504zm-6.64-.833C6.286 1.869 6.949.72 7.815.335a2.917 2.917 0 012.373 0c.865.386 1.529 1.534 2.855 3.832l2.742 4.75c1.326 2.297 1.99 3.445 1.89 4.388a2.917 2.917 0 01-1.186 2.055c-.766.557-2.093.557-4.745.557H6.258c-2.653 0-3.979 0-4.746-.557a2.917 2.917 0 01-1.186-2.055c-.099-.943.564-2.091 1.89-4.388l2.743-4.75zM8.995 10.5c-.578 0-1.035.433-1.035 1.036 0 .602.457 1.047 1.035 1.047.59 0 1.048-.445 1.048-1.047 0-.603-.458-1.036-1.048-1.036zM8.02 5.1a.417.417 0 01.417-.434h1.129c.237 0 .427.197.416.434l-.255 4.167a.417.417 0 01-.416.399h-.62a.417.417 0 01-.415-.399L8.02 5.1z",fill:"#498BFF"},[])])};const cy=e=>{let{className:t}=e;return Jn(ly,{className:t})};var uy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"18",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M16.256 15.256a.833.833 0 000-1.179L2.923.744a.833.833 0 10-1.179 1.179l1.594 1.593C1.32 4.948.25 6.902.25 8c0 1.875 3.125 6.25 8.75 6.25a9.83 9.83 0 004.171-.9l1.906 1.906a.833.833 0 001.179 0zm-4.357-3.178A8.309 8.309 0 019 12.583c-2.135 0-3.974-.745-5.373-1.997-1.06-.948-1.71-2.1-1.71-2.586 0-.486.65-1.638 1.71-2.586.285-.255.588-.489.909-.7l1.448 1.448A3.333 3.333 0 0010.42 10.6l1.478 1.479zm4.035-.68C17.125 10.175 17.75 8.838 17.75 8c0-1.875-3.125-6.25-8.75-6.25-.87 0-1.679.104-2.426.288l1.433 1.434c.324-.037.655-.055.993-.055 2.135 0 3.974.746 5.373 1.997 1.06.948 1.71 2.1 1.71 2.586 0 .425-.497 1.358-1.329 2.219l1.18 1.179z",fill:"#498BFF"},[])])};const hy=e=>{let{className:t}=e;return Jn(uy,{className:t})};var py=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"18",height:"18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M17.334 9A8.333 8.333 0 11.667 9a8.333 8.333 0 0116.667 0zm-1.667 0A6.667 6.667 0 102.334 9a6.667 6.667 0 0013.333 0zm-7.708 3.536c0-.602.457-1.036 1.035-1.036.59 0 1.048.434 1.048 1.036 0 .602-.458 1.047-1.048 1.047a1.023 1.023 0 01-1.035-1.047zm1.229-8.12c-1.798 0-3.146 1.037-3.146 2.71v.02c0 .23.187.417.417.417h.669c.2 0 .362-.163.362-.363 0-.936.724-1.435 1.698-1.435.948 0 1.573.5 1.573 1.21 0 .675-.35.987-1.224 1.386l-.25.113c-.736.324-1.01.811-1.01 1.66v.116c0 .23.186.417.416.417h.615c.23 0 .416-.187.416-.417v-.029c0-.374.1-.524.4-.661l.25-.113c1.048-.474 1.835-1.098 1.835-2.459v-.075c0-1.435-1.249-2.496-3.021-2.496z",fill:"#498BFF"},[])])};const Ay=e=>{let{className:t}=e;return Jn(py,{className:t})},my=e=>{switch(e){case"hide":return Jn(hy,null);case"complaint":return Jn(cy,null);case"about":return Jn(Ay,null);default:return}},vy=e=>{let{isFullSize:t,buttonTexts:i,onClickHandlers:n}=e;const r=ig();return Jn("div",{className:oy.locals.AbuseDisplay__defaultDisplay},t?Jn("div",{className:oy.locals.AbuseDisplay__hint},r("ABUSE_ADS_TEXT")):null,Object(Zo.a)(Object(md.a)(i),e=>Jn(ey,{key:e,url:"about"===e?"https://yandex.ru/adv/products":void 0,onClick:n[e],leftIcon:my(e),rightIcon:ay(e),buttonText:i[e]})))},fy=e=>{let{buttonTexts:t,onClickHandlers:i}=e;const n=ig();return Jn("div",{className:oy.locals.AbuseDisplay__hideDisplay},Jn("div",{className:oy.locals.AbuseDisplay__text},n("ABUSE_IMPROVE_REASON_TEXT")),Object(Zo.a)(Object(md.a)(t),e=>Jn(ey,{key:e,onClick:i[e],rightIcon:ay(e),buttonText:t[e]})))};var gy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"16",height:"10",viewBox:"0 0 16 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M3.345 4.167h11.368c.435 0 .787.37.787.833 0 .46-.35.833-.787.833H3.345l1.91 1.911a.833.833 0 11-1.178 1.179L.744 5.589a.833.833 0 010-1.178l3.333-3.334a.833.833 0 111.179 1.179l-1.91 1.91z",fill:"#498BFF"},[])])};const by=e=>{let{className:t}=e;return Jn(gy,{className:t})},yy=e=>{let{previousDisplayType:t,onClickHandler:i}=e;const{abuseCustomReasonText:n,abuseCustomReasonTextHandler:r,setAbuseActiveDisplayType:a}=Fb(),o=ig(),s=Tr(()=>{a(t)},[t]);return Jn("div",{className:oy.locals.AbuseDisplay__customReasonDisplay},Jn("div",{className:oy.locals.AbuseDisplay__customReasonDisplayHeader},Jn("div",{className:oy.locals.AbuseDisplay__arrowLeftIcon,onClick:s},Jn(by,null)),Jn("div",{className:oy.locals.AbuseDisplay__hint},o("ABUSE_OPTION_ANOTHER_REASON"))),Jn("div",{className:oy.locals.AbuseDisplay__messageBox},Jn("textarea",{className:oy.locals.AbuseDisplay__customReasonDisplayTextarea,placeholder:o("ABUSE_CUSTOM_FIELD_PLACEHOLDER"),onChange:e=>{const t=e.currentTarget.value;t&&r(t)},value:n}),Jn(Qb,{className:oy.locals.AbuseDisplay__customReasonDisplayButton,contentClassName:oy.locals.AbuseDisplay__customReasonDisplayButtonContent,onClick:()=>i("anotherReasonAd",{UserResponse:n})},o("ABUSE_CUSTOM_FIELD_SUBMIT_BUTTON_TEXT"))))},_y=e=>{let{width:t,height:i}=e;return t<=300||i<=300},Oy=e=>{let{isVisibleAbuse:t}=e;Vr(sy.a);const{socialAdvertising:i}=qb(),{abuseVariantChooseHandler:n,abuseActiveDisplayType:r,setAbuseActiveDisplayType:a,abuseSubmittedOption:o,setAbuseSubmittedOption:s,previousDisplayType:d,destroyCurrentViewer:l,setPreviousDisplayType:c}=Fb(),[u,h]=gr(null),p=_y(zv()),A={};br(()=>{!t&&o&&l()},[o,t]),br(()=>{if(p)return;const e=A.current;t&&e&&h(e.offsetHeight+"px")},[r,t,p]),br(()=>{p&&h(null)},[p]);const m=Or(()=>b(mA,(e,t)=>()=>{if(c(r),"hide"===t){if(i)return void n(t);a("hide"),s(t),n(t,{noDestroyOnClick:!0})}else if("complaint"===t)a("complaint"),s(t),n(t,{noDestroyOnClick:!0});else if("anotherReasonAd"===t)a("message");else{const e="about"===t;s(null),n(t,{noDestroyOnClick:e})}}),[n,r,i]),v={height:null!==u&&void 0!==u?u:""},f=ig(),g=(e=>({hide:e("ABUSE_OPTION_HIDE"),complaint:e("ABUSE_OPTION_COMPLAINT"),about:e("ABUSE_OPTION_ABOUT")}))(f),y=(e=>Object(Id.a)(Object(md.a)(hA),(t,i)=>{switch(i){case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON");break;case"notInterestedAd":t[i]=e("ABUSE_OPTION_NOT_INTERESTED");break;case"alreadyPurchasedAd":t[i]=e("ABUSE_OPTION_ALREADY_PURCHASED");break;case"seenTooOftenAd":t[i]=e("ABUSE_OPTION_SEEN_TOO_OFTEN");break;case"overlapContentAd":t[i]=e("ABUSE_OPTION_OVERLAP_CONTENT")}return t},{}))(f),_=((e,t)=>t?Object(Id.a)(Object(md.a)(AA),(t,i)=>{switch(i){case"politicalSocialAd":t[i]=e("ABUSE_OPTION_POLITICAL_SOCIAL");break;case"shockingContentSocialAd":t[i]=e("ABUSE_OPTION_SHOCKING_CONTENT_SOCIAL");break;case"falseInfoSocialAd":t[i]=e("ABUSE_OPTION_FALSE_INFO_SOCIAL")}return t},{}):Object(Id.a)(Object(md.a)(pA),(t,i)=>{switch(i){case"unpleasantContentAd":t[i]=e("ABUSE_OPTION_UNPLEASANT_CONTENT");break;case"scammersAd":t[i]=e("ABUSE_OPTION_SCAMMERS");break;case"illegalGoodsOrServiceAd":t[i]=e("ABUSE_OPTION_ILLEGAL_GOODS_OR_SERVICE");break;case"anotherReasonAd":t[i]=e("ABUSE_OPTION_ANOTHER_REASON")}return t},{}))(f,i);return Jn("div",{className:rf(oy.locals.AbuseDisplay,{[oy.locals.AbuseDisplay__fullSize]:p,[oy.locals.AbuseDisplay_visible]:t}),style:v},Jn("div",{className:rf(oy.locals.AbuseDisplay__content,{[oy.locals.AbuseDisplay__content_offsetBottom]:"default"!==r}),ref:A},"default"===r?Jn(vy,{isFullSize:p,buttonTexts:g,onClickHandlers:m}):null,"hide"===r?Jn(fy,{buttonTexts:y,onClickHandlers:m}):null,"complaint"===r?Jn(dy,{buttonTexts:_,onClickHandlers:m}):null,"message"===r?Jn(yy,{onClickHandler:n,previousDisplayType:d}):null))},Ty={full:"ABUSE_SCREEN_DESCRIPTION",short:"ABUSE_SCREEN_DESCRIPTION_SHORT"},Ey=e=>{return e.replace(/(<([^>]+)>)/gi,"")};var Sy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M1 1l24 24M1 25L25 1",stroke:"#F2F2F2","stroke-width":"2"},[])])};const wy=e=>{let{className:t}=e;return Jn(Sy,{className:t})};var Cy=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M5.8 6l.34.34a.48.48 0 000-.68L5.8 6zM.66 1.54l4.8 4.8.68-.68-4.8-4.8-.68.68zm4.8 4.12l-4.8 4.8.68.68 4.8-4.8-.68-.68z",fill:"#fff"},[])])};const Iy=e=>{let{className:t}=e;return Jn(Cy,{className:t})};var Py=i(82),Ny=i.n(Py);const Dy=e=>{let{onClick:t,size:i,text:n,className:r}=e;Vr(Ny.a);const a=rf(Py.locals.AbuseVariantButton,r,{[Py.locals.AbuseVariantButton_middle]:"middle"===i}),o=rf(Py.locals.AbuseVariantButton__content,{[Py.locals.AbuseVariantButton__content_middle]:"middle"===i}),s=rf({[Py.locals.AbuseVariantButton__icon_middle]:"middle"===i}),d=Tr(e=>{e.stopPropagation(),t()},[]);return Jn(Qb,{className:a,contentClassName:Py.locals.AbuseVariantButton__basecontent,onClick:d},Jn("div",{className:o},n,Jn(Iy,{className:s})))};var Ry=i(61),ky=i.n(Ry);const Vy=()=>{Vr(ky.a);const e=ig(),t=zv(),i=Da(t),{width:n,height:r}=t,{abuseVariantChooseHandler:a,abuseScreenCloseHandler:o}=Fb(),{socialAdvertising:s}=qb(),d=e("ABUSE_SCREEN_TITLE"),l=Or(()=>b(fA,(e,t)=>()=>a(t)),[a]),c=function(e){let{translate:t,socialAdvertising:i,abuseScreenWidth:n}=e;return i?{notInterestedSocialAd:t("ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD"),politicalSocialAd:t("ABUSE_VARIANT_POLITICAL_SOCIAL_AD"),shockingContentSocialAd:t("ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD"),falseInfoSocialAd:t("ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD")}:{notInterested:t("ABUSE_VARIANT_NOT_INTERESTED"),annoying:t("ABUSE_VARIANT_ANNOYING"),spam:t(n<600?"ABUSE_VARIANT_SPAM_SHORT":"ABUSE_VARIANT_SPAM")}}({translate:e,socialAdvertising:s,abuseScreenWidth:n}),u=function(e){if(!(e<350))return e<450?"short":"full"}(r),h=void 0===u?void 0:e(Ty[u]),p=Boolean(h),A=n<700,m=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?360:i?t>=400?320:240:t>=500?280:t>=400?240:200}({hasDescription:p,abuseScreenWidth:n}),v=r>200,f=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?27:i&&t>=400?25:t>=500?19:17}({hasDescription:p,abuseScreenWidth:n}),g={marginBottom:ka({isShortDescription:"short"===u,abuseScreenWidth:n}),fontSize:n<400?11:13,lineHeight:n<400?"15px":"21px"};return Jn("div",{className:Ry.locals.AbuseScreen},Jn("div",{className:rf(Ry.locals.AbuseScreen__content,{[Ry.locals.AbuseScreen__content_centered]:A}),style:{width:m,paddingBottom:A&&v?"5%":0}},v&&Jn("div",{className:rf({[Ry.locals.AbuseScreen__title_centered]:!p}),style:{fontSize:f,marginBottom:n<500?7:14},dangerouslySetInnerHTML:{__html:Ey(d)}}),p&&Jn("div",{style:g},h),Jn("div",{className:Ry.locals.AbuseScreen__buttons},Object(Zo.a)(Object(md.a)(c),e=>Jn(Dy,{key:e,className:Ry.locals.AbuseScreen__button,size:Ra({abuseScreenWidth:n,hasDescription:p}),text:c[e],onClick:l[e]})))),Jn("div",{onClick:o,className:rf(Ry.locals.AbuseScreen__crossContainer,{[Ry.locals.AbuseScreen__crossContainer_medium]:"middle"===i})},Jn(wy,{className:Ry.locals.AbuseScreen__cross})))},By=vr({}),Ly=e=>{let{adDisplayController:t}=e;return Dr(t.combinedSkinControlsVisibility)},jy=()=>Er(By),My=vr({playingState:"idle",play:zo.a,pause:zo.a,isStarted:!1,isSlowStart:!1}),xy={"play-circle-click":"SkinPlayByCircleButton","play-tgo":"SkinTGOPlayByButton","pause-tgo":"SkinTGOPausedByButton"},Uy=e=>{let{adDisplayController:t}=e;const[i,n]=gr(!1),r=Dr(t.playingState),a=Dr(t.adSlowStart);return br(()=>{const e=t.onAdStart.addOne(()=>{n(!0)});return()=>{e()}},[]),{playingState:r,play:Tr(e=>{var i;t.resume(),Xo.c.event({name:null!==(i=xy[e])&&void 0!==i?i:"SkinPlayByButton",data:{reason:e}})},[]),pause:Tr(e=>{var i;t.pause(),Xo.c.event({name:null!==(i=xy[e])&&void 0!==i?i:"SkinPausedByButton",data:{reason:e}})},[]),isStarted:i,isSlowStart:a}},Fy=()=>Er(My),Hy=vr({isPackshotPlaying:!1}),Wy=e=>{let{isPackshotPlaying:t}=e;return{isPackshotPlaying:Dr(t)}},zy=()=>Er(Hy),Gy=vr({timeToSkip:Dg,skipCurrentAdPod:zo.a}),Yy=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:Dr(i),skipCurrentAdPod:Tr(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():Xo.c.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},qy=()=>Er(Gy),Xy={volumeStatus:"unavailable",setMuted:zo.a},Ky=vr(Xy),Qy=e=>{let{adDisplayController:t}=e;const[i,n]=gr(Xy.volumeStatus);br(()=>{const{adVolume:e,adVolumeAvailability:i,adHasBeenUnmuted:r}=t,a=Va({adVolume:e.getValue(),adVolumeAvailability:i.getValue(),adHasBeenUnmuted:r.getValue()});return n(a),y([e,i,r],(e,t,i)=>Va({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),n)},[]);return{volumeStatus:i,setMuted:e=>{t.setMuted(e)}}},Jy=()=>Er(Ky),Zy="DISABLE"===jh("UNMUTE_TEXT_VARIANT")?"DISABLE":void 0;var $y=i(155),e_=i.n($y),t_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const i_=e=>{let{className:t}=e;return Vr(e_.a),Jn(t_,{className:rf($y.locals.MuteIcon,t)})};var n_=i(96),r_=i.n(n_);const a_=e=>{let{isActive:t=!0,className:i,size:n}=e,r=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,["isActive","className","size"]);Vr(r_.a);const a=rf(n_.locals.SquareButton,i,{[n_.locals.SquareButton_active]:t,[n_.locals.SquareButton_middle]:"middle"===n});return Jn(Qb,Ba({},r,{isActive:t,className:a,buttonClassName:n_.locals.SquareButton__basebutton,contentClassName:n_.locals.SquareButton__basecontent}))};var o_=i(97),s_=i.n(o_);const d_=e=>{let{onClick:t,size:i}=e;return Vr(s_.a),Jn(a_,{className:o_.locals.MuteButton,onClick:t,size:i},Jn("div",{className:o_.locals.MuteButton__content},Jn("div",{className:rf(o_.locals.MuteButton__iconContainer,{[o_.locals.MuteButton__iconContainer_middle]:"middle"===i})},Jn(i_,{className:o_.locals.MuteButton__icon}))))};var l_=i(156),c_=i.n(l_),u_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const h_=e=>{let{className:t}=e;return Vr(c_.a),Jn(u_,{className:rf(l_.locals.UnmuteIcon,t)})};var p_=i(66),A_=i.n(p_);const m_=e=>{let{onClick:t,size:i,unmuteText:n}=e;return Vr(A_.a),Jn(a_,{className:p_.locals.UnmuteButton,onClick:t,size:i},Jn("div",{className:p_.locals.UnmuteButton__content},Jn("div",{className:rf(p_.locals.UnmuteButton__iconContainer,{[p_.locals.UnmuteButton__iconContainer_middle]:"middle"===i})},Jn(h_,{className:p_.locals.UnmuteButton__icon})),n&&Jn("div",{className:rf(p_.locals.UnmuteButton__text,{[p_.locals.UnmuteButton__text_middle]:"middle"===i,[p_.locals.UnmuteButton__without_text]:!n})},n)))},v_=()=>{const{volumeStatus:e,setMuted:t}=Jy(),i=Tr(()=>{t(!0)},[]),n=Tr(()=>{t(!1)},[]),r=Da(zv());if("unmuted"===e)return Jn(d_,{onClick:i,size:r});const{layoutVariant:a}=zb();let o;return"banner"!==a&&("mutedStart"===e&&"middle"===r)&&"DISABLE"!==Zy&&(o=Sd("UNMUTE",_d)),Jn(m_,{onClick:n,unmuteText:o,size:r})};var f_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const g_=e=>{let{className:t}=e;return Jn(f_,{className:t})},b_=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:n}=e;if(!t)return Jn(g_,{className:i});const[r,a]=t;return Jn("div",{className:n},Jn("span",null,r),Jn("span",null,a))};var y_=i(112),__=i.n(y_);const O_=e=>{let{isActive:t,onClick:i,countdownString:n}=e;Vr(__.a);const r=Tr(e=>{e.stopPropagation(),i()},[]);return Jn(a_,{className:rf(y_.locals.SkipButtonSmall,{[y_.locals.SkipButtonSmall__disabled]:!t}),onClick:r,size:"small",isActive:t},Jn("div",{class:y_.locals.SkipButtonSmall__content},Jn(b_,{timeToSkipString:n,iconClassName:y_.locals.SkipButtonSmall__timeToSkipString__icon})))};var T_=i(83),E_=i.n(T_);const S_=e=>{let{isActive:t,onClick:i,skipText:n,countdownString:r}=e;Vr(E_.a);const a=Tr(e=>{e.stopPropagation(),i()},[]);return Jn(a_,{className:T_.locals.SkipButtonWithText,onClick:a,size:"middle",isActive:t},Jn("div",{className:T_.locals.SkipButtonWithText__content},Jn("div",{className:T_.locals.SkipButtonWithText__text},n),Jn("div",{className:T_.locals.SkipButtonWithText__timeToSkipString},Jn(b_,{timeToSkipString:r,iconClassName:T_.locals.SkipButtonWithText__icon,digitsContainerClassName:T_.locals.SkipButtonWithText__digitsContainer}))))};var w_=i(89);const C_=2,I_=()=>{const e=zv(),{skipCurrentAdPod:t,timeToSkip:i}=qy(),n=ig(),r=Da(e),a=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return Object(w_.a)(String(t),C_,"0")}(i),o=0===i;return"small"===r?Jn(O_,{onClick:t,countdownString:a,isActive:o}):Jn(S_,{onClick:t,skipText:n("SKIP"),countdownString:a,isActive:o})},P_=vr(0),N_=e=>{let{skinAnimationProgress:t}=e;return Dr(t)},D_=()=>Er(P_),R_=vr({adPodsCount:0,playingAdPodIndex:0}),k_=e=>{let{adPodsCount:t,playingAdPodIndex:i}=e;return{adPodsCount:Dr(t),playingAdPodIndex:Dr(i)}};var V_=i(157),B_=i.n(V_);const L_=()=>{Vr(B_.a);const{adPodsCount:e,playingAdPodIndex:t}=(()=>Er(R_))(),i=D_();return Jn("div",{className:V_.locals.Timeline},Object(Zo.a)(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(e),n=>Jn(uf,n<t?{key:n,adAnimationProgress:1,currentNumber:n,count:e,backgroundOpacity:.3}:n===t?{key:n,adAnimationProgress:i,currentNumber:n,count:e,backgroundOpacity:.3}:{key:n,adAnimationProgress:0,currentNumber:n,count:e,backgroundOpacity:.3})))},j_=vr([]),M_=e=>{let{adDisplayController:t}=e;return Dr(t.adPodCurrentSubtitles)};var x_=i(148),U_=i.n(x_);const F_=()=>{Vr(U_.a);const e=(()=>Er(j_))();return e.length>0?Jn("div",{className:x_.locals.Subtitles__container},Object(Zo.a)(e,e=>{let{text:t}=e;return Jn("div",{className:x_.locals.Subtitles__subtitle},t)})):null};var H_=i(149),W_=i.n(H_);const z_=()=>{Vr(W_.a);const{timeToSkip:e}=qy(),{playingState:t}=Fy(),i=jy(),{volumeStatus:n}=Jy(),{isPackshotPlaying:r}=zy(),{layoutVariant:a}=zb(),o="banner"===a,s="idle"!==t&&"unavailable"!==n&&!1!==i.mute,d=e!==Dg&&!1!==i.skip,l=!o&&!1!==i.timeline&&!r;return Jn($n,null,Jn("div",{className:H_.locals.BottomControls__container},Jn(F_,null),!o&&Jn("div",{className:H_.locals.ButtonControls},s&&Jn(v_,null),d&&Jn(I_,null))),l&&Jn(L_,null))};var G_=i(158),Y_=i.n(G_),q_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};Object(cd.a)({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const X_=e=>{let{className:t}=e;return Vr(Y_.a),Jn(q_,{className:rf(G_.locals.SpinnerIcon__css_animated,t)})},K_=X_;var Q_=i(159),J_=i.n(Q_);const Z_=e=>{let{className:t}=e;return Vr(J_.a),Jn(K_,{className:rf(Q_.locals.Spinner,t)})};var $_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),Jn("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const eO=e=>{let{className:t}=e;return Jn($_,{className:t})};var tO=i(98),iO=i.n(tO);const nO=e=>{let{onClick:t,size:i}=e;Vr(iO.a);const n=rf(tO.locals.CirclePlayButton,{[tO.locals.CirclePlayButton_middle]:"middle"===i}),r=rf(tO.locals.CirclePlayButton__icon,{[tO.locals.CirclePlayButton__icon_middle]:"middle"===i});return Jn(Qb,{className:n,contentClassName:tO.locals.CirclePlayButton__basecontent,onClick:t},Jn(eO,{className:r}))},rO=()=>{const e=Da(zv()),{play:t}=Fy(),i=Tr(()=>{t("play-circle-click")},[]);return Jn(nO,{size:e,onClick:i})};var aO=i(160),oO=i.n(aO);const sO=()=>{Vr(oO.a);const{playingState:e,isStarted:t,isSlowStart:i}=Fy(),n=jy(),{layoutVariant:r}=zb(),a="pause"===e,o=a&&!1!==n.play,s="banner"===r?a&&!t:o,d=!s&&!a&&!t&&i&&!1!==n.loader;return Jn("div",{className:aO.locals.CenterControls},s&&Jn(rO,null),d&&Jn(Z_,null))},dO=vr(rm),lO=e=>{let{adDisplayController:t}=e;return Dr(t.adPodDuration)},cO=()=>Er(dO),uO=(e,t)=>{const{width:i,height:n}=e,{fontSize:r,lineHeight:a=r,noFontSizeLimit:o}=t,s=Math.min(n+i/20,Math.sqrt(i*i+n*n)/2);if(o)return{fontSize:r*s+"px",lineHeight:a*s+"px"};const d=Math.max(r*s,9);return{fontSize:d+"px",lineHeight:Math.max(a/r*d,9)+"px"}};var hO=i(121),pO=i.n(hO);const AO=e=>{const{children:t,style:i,onClick:n}=e,{experimentState:r}=lg();return Vr(pO.a),Jn("button",{style:i,className:hO.locals.ArrowButton,onClick:n},Jn("span",{className:hO.locals.ArrowButton__content},t&&Jn("span",{className:hO.locals.ArrowButton__textContent},t),r.hasArrow&&Jn(hg,null)))},mO={body:{fontSize:.035,lineHeight:.05},title:{fontSize:.057,lineHeight:.07},buttonWithoutText:{fontSize:.157,lineHeight:.157},buttonWithText:{fontSize:.107,lineHeight:.107}},vO=vr(void 0),fO=e=>Dr(e),gO=()=>Er(vO),bO=vr(rs),yO=e=>Dr(e),_O=()=>Er(bO);var OO=i(69),TO=i.n(OO);const EO=e=>{let{disableAnimation:t=!1}=e;Vr(TO.a);const i=ig()("THEME_EMPTY_ACTION_BUTTON_LABEL"),{experimentState:n}=lg(),{actionButtonParameters:r,clickThrough:a}=lg();if(!r)return null;const{oldButtonStyle:o,buttonPlacement:s,label:d}=r,l=n.hasArrow?void 0:i,c=null!==d&&void 0!==d?d:l,u=D_(),h=cO(),p=h*u,{adjacentSize:A,innerSize:m,extraHorizontalSpace:v}=La(),f={height:v?m:A,width:v?A:m},g="alwaysLeftBottom"===n.position?{side:"left",position:"left-bottom",oppositeSide:"right"}:s,b=f.width>451&&!Object(xd.a)(["left-center","right-center"],g.position)?70:"",y=t?void 0:function(e,t,i){return{[i]:ra({position:e,unit:"number",steps:[{duration:.06*t,values:[-100,5],easing:na(.54,1.25,.54,1.26,.01)},{duration:.62*t,value:5},{duration:.02*t,values:[5,4.9],easing:na(.5,1,.5,60,.01)},{duration:.04*t,values:[4.9,5],easing:na(.5,100,.5,-100,.01)}]})+"%"}}(p,h,g.side),_=Tr(()=>a({}),[a]);return Jn("div",{className:rf({[OO.locals.OldActionButton__wrapper]:!0,[OO.locals.OldActionButton__bannerPosition_right_center]:"right-center"===g.position,[OO.locals.OldActionButton__bannerPosition_left_center]:"left-center"===g.position,[OO.locals.OldActionButton__bannerPosition_left_bottom]:"left-bottom"===g.position}),style:f},Jn("div",{className:OO.locals.OldActionButton__body,style:{bottom:b}},Jn("div",{className:OO.locals.OldActionButton__context}),Jn("div",{className:OO.locals.OldActionButton__buttonContainer,style:y},Jn(AO,{style:ja({},uO(f,d?mO.buttonWithText:mO.buttonWithoutText),o,{borderRadius:"rectangular"===n.shape?2:""}),onClick:_},c))))};var SO=i(161),wO=i.n(SO);const CO=e=>{let{children:t,className:i}=e;Vr(wO.a);const n=La(),r=Or(()=>(function(e){let{extraHorizontalSpace:t,adjacentSize:i}=e;return{height:t?"100%":i+"px",width:t?i+"px":"100%",marginTop:t?"0px":-i/2+"px",top:t?"0px":"50%",marginLeft:t?-i/2+"px":"0px",left:t?"50%":"0px"}})(n),[n]);return Jn("div",{className:rf(SO.locals.VideoAvatar,i),style:r},t)},IO=e=>"https://favicon.yandex.net/favicon/"+e+"?size=32";var PO=i(113),NO=i.n(PO);const DO=e=>{let{clickThrough:t,actionButtonParameters:i}=e;const{clickUrl:n,domain:r,label:a,buttonPlacement:o}=i,{experimentState:s}=lg();Vr(NO.a);const d=Tr(()=>{t({url:n})},[n]),l=Jn("div",{className:PO.locals.SkinActionButton},Jn(Ng,{disableAnimation:s.noAnimation,domain:r,buttonLabel:a,onButtonClick:d,faviconSrc:IO(r)}));return"default"===s.position?l:Jn(CO,{className:"alwaysLeftBottom"!==s.position?rf({[PO.locals.SkinActionButton__position_right_center]:"right-center"===o.position,[PO.locals.SkinActionButton__position_left_center]:"left-center"===o.position,[PO.locals.SkinActionButton__position_right_bottom]:"right-bottom"===o.position}):void 0},l)},RO=()=>{const e=cO(),{actionButtonParameters:t,clickThrough:i,experimentState:n}=lg(),{isPackshotPlaying:a}=zy();return!1===jy().actionButton?null:t?a?null:r(e)?n.oldActionButton?Jn(EO,{disableAnimation:n.noAnimation}):Jn(DO,{clickThrough:i,actionButtonParameters:t}):null:null};var kO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 10h-4v12h4V10zm8 0h-4v12h4V10z",fill:"#fff"},[])])};const VO=e=>{let{className:t}=e;return Jn(kO,{className:t})};var BO=i(122),LO=i.n(BO);const jO=e=>{let{onClick:t,size:i}=e;Vr(LO.a);const n=rf(BO.locals.PauseButton__icon,{[BO.locals.PauseButton__icon_middle]:"middle"===i});return Jn(a_,{className:BO.locals.PauseButton,onClick:t,size:i},Jn(VO,{className:n}))};var MO=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const xO=e=>{let{className:t}=e;return Jn(MO,{className:t})};var UO=i(123),FO=i.n(UO);const HO=e=>{let{onClick:t,size:i}=e;Vr(FO.a);const n=rf(UO.locals.SquarePlayButton__icon,{[UO.locals.SquarePlayButton__icon_middle]:"middle"===i});return Jn(a_,{className:UO.locals.SquarePlayButton,onClick:t,size:i},Jn(xO,{className:n}))},WO=()=>{const{playingState:e,play:t,pause:i}=Fy(),n=Da(zv()),r=Tr(()=>{i("pause-tgo")},[]),a=Tr(()=>{t("play-tgo")},[]);return"play"===e?Jn(jO,{onClick:r,size:n}):Jn(HO,{onClick:a,size:n})};var zO=i(162),GO=i.n(zO);const YO=()=>{Vr(GO.a);const{playingState:e,isStarted:t}=Fy(),{volumeStatus:i}=Jy(),n="pause"===e&&t,r="play"===e,a=r||n,o=(r||n||"end"===e)&&"unavailable"!==i;return Jn("div",null,Jn("div",{className:zO.locals.TgoButtonControls},a&&Jn(WO,null),o&&Jn(v_,null)))};var qO=i(53),XO=i.n(qO);const KO=e=>{let{onClickHandler:t,isActive:i}=e;return Vr(XO.a),Jn("svg",{className:rf(qO.locals.AbuseAnimationIcon,{[qO.locals.AbuseAnimationIcon_cross]:i}),onClick:t,width:"24",height:"24",fill:"#fff",xmlns:"http://www.w3.org/2000/svg"},Jn("g",{className:qO.locals.AbuseAnimationIcon__lines},Jn("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:rf(qO.locals.AbuseAnimationIcon__line,qO.locals.AbuseAnimationIcon__line_left)}),Jn("path",{d:"M -4 -4 L 4 4","stroke-width":"2","stroke-linecap":"round",stroke:"#fff",class:rf(qO.locals.AbuseAnimationIcon__line,qO.locals.AbuseAnimationIcon__line_right)})),Jn("g",null,Jn("rect",{width:"24",height:"24",rx:"12","fill-opacity":"0.1"}),Jn("g",null,Jn("circle",{class:rf(qO.locals.AbuseAnimationIcon__dot,qO.locals.AbuseAnimationIcon__dot_top),fill:"#fff",cx:"12",cy:"6",r:"1.5"}),Jn("circle",{class:qO.locals.AbuseAnimationIcon__dot,cx:"12",cy:"12",r:"1.5"}),Jn("circle",{class:rf(qO.locals.AbuseAnimationIcon__dot,qO.locals.AbuseAnimationIcon__dot_bottom),fill:"#fff",cx:"12",cy:"18",r:"1.5"}))))};var QO=i(124),JO=i.n(QO);const ZO=e=>{let{size:t,onClickHandler:i,isActive:n}=e;Vr(JO.a);const r=_y(zv());return Jn("div",{className:rf(QO.locals.AbuseBurgerButton,{[QO.locals.AbuseBurgerButton_small]:"small"===t,[QO.locals.AbuseBurgerButton_inFullSize]:r})},Jn(KO,{onClickHandler:i,isActive:n}))};var $O=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("g",{filter:"url(#svg-abuse-jsx-inline-1RCLVi9)",fill:"#fff"},[Jn("rect",{x:"13.5",y:"8.25",width:"3",height:"3",rx:"1.5"},[]),Jn("rect",{x:"13.5",y:"13.5",width:"3",height:"3",rx:"1.5"},[]),Jn("rect",{x:"13.5",y:"18.75",width:"3",height:"3",rx:"1.5"},[])]),Jn("filter",{id:"svg-abuse-jsx-inline-1RCLVi9",x:"-16",y:"-16",width:"62",height:"62",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[Jn("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},[]),Jn("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Jn("feOffset",{},[]),Jn("feGaussianBlur",{stdDeviation:"8"},[]),Jn("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Jn("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"},[]),Jn("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Jn("feOffset",{},[]),Jn("feGaussianBlur",{stdDeviation:"4"},[]),Jn("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Jn("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"},[]),Jn("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Jn("feOffset",{},[]),Jn("feGaussianBlur",{stdDeviation:"2"},[]),Jn("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Jn("feBlend",{mode:"normal",in2:"effect2_dropShadow",result:"effect3_dropShadow"},[]),Jn("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Jn("feOffset",{},[]),Jn("feGaussianBlur",{stdDeviation:"1"},[]),Jn("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),Jn("feBlend",{mode:"normal",in2:"effect3_dropShadow",result:"effect4_dropShadow"},[]),Jn("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),Jn("feOffset",{dy:"1"},[]),Jn("feGaussianBlur",{stdDeviation:".5"},[]),Jn("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"},[]),Jn("feBlend",{mode:"normal",in2:"effect4_dropShadow",result:"effect5_dropShadow"},[]),Jn("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect5_dropShadow",result:"shape"},[])]),Jn("clipPath",{id:"svg-abuse-jsx-inline-3qWaf6Y"},[Jn("path",{d:"M0 0h30v30H0z"},[])])])};const eT=e=>{let{className:t}=e;return Jn($O,{className:t})};var tT=i(125),iT=i.n(tT);const nT=e=>{let{size:t,onClick:i}=e;return Vr(iT.a),Jn("div",{className:rf(tT.locals.AbuseButton,{[tT.locals.AbuseButton_middle]:"middle"===t}),onClick:i},Jn(eT,{className:tT.locals.AbuseButton__icon}))},rT=vr({adSystemType:void 0,openAdSystemWebsite:zo.a}),aT=e=>{let{adDisplayController:t}=e;return{adSystemType:Dr(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var oT=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,Jn("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[Jn("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},sT=i(114),dT=i.n(sT);const lT=e=>{let{size:t,adSystemType:i,onClick:n}=e;Vr(dT.a);const r=ig(),a="yandex"===i;return Jn("span",{className:rf(sT.locals.AdLabel,{[sT.locals.AdLabel_middle]:"middle"===t,[sT.locals.AdLabel_withIcon]:a}),title:r("YANDEX_DIRECT"),onClick:n},a?Jn(oT,{className:sT.locals.AdLabel_icon}):r("AD_TITLE"))};var cT=i(163),uT=i.n(cT);const hT=e=>{let{onClick:t}=e;Vr(uT.a);const i=ig()("SOCIAL_ADVERTISING_AD_LABEL");return Jn("a",{className:cT.locals.SocialAdvertisingAdLabel,onClick:t},i)},pT=()=>{const e=Da(zv()),{adSystemType:t,openAdSystemWebsite:i}=(()=>Er(rT))(),{socialAdvertising:n}=qb();return n?Jn(hT,{onClick:i}):void 0===t||"yandex"===t?null:Jn(lT,{size:e,adSystemType:t,onClick:i})};var AT=i(164),mT=i.n(AT);const vT=()=>{Vr(mT.a);const{playingState:e}=Fy(),t=jy(),{isAbuseSupported:i,abuseButtonClickHandler:n,abuseScreenCloseHandler:r}=Fb(),{abuseScreenStatus:a}=Fb(),o=Da(zv()),s=!1!==t.adLabel&&"idle"!==e,d=Rb(t)&&i,l="selection"===a,c=cA?Jn(ZO,{onClickHandler:()=>l?r():n(),isActive:l,size:o}):Jn(nT,{onClick:n,size:o});return Jn("div",{className:AT.locals.TopControls},s&&Jn(pT,null),d&&c)},fT=()=>{const{abuseScreenStatus:e}=Fb(),{layoutVariant:t}=zb(),i="banner"===t,n="selection"===e;return n&&!cA?Jn(Vy,null):Jn($n,null,Jn(i?YO:vT,null),cA?Jn(Oy,{isVisibleAbuse:n}):null,Jn(z_,null),Jn(sO,null),Jn(RO,null))},gT=[e=>Jn(Gv.Provider,{value:Yv(e.slotElement),children:e.children}),e=>Jn(My.Provider,{value:Uy(e),children:e.children}),e=>Jn(R_.Provider,{value:k_(e.adDisplayController),children:e.children}),e=>Jn(P_.Provider,{value:N_(e.adDisplayController),children:e.children}),e=>Jn(dO.Provider,{value:lO(e),children:e.children}),e=>Jn(Hv.Provider,{value:Wv(e.adDisplayController.slotSize),children:e.children}),e=>Jn(bO.Provider,{value:yO(e.adDisplayController.videoSlotSize)},e.children),e=>Jn(vO.Provider,{value:fO(e.adDisplayController.videoContentSize)},e.children),e=>Jn(Gy.Provider,{value:Yy(e),children:e.children}),e=>Jn(eg.Provider,{value:tg(e),children:e.children}),e=>Jn(By.Provider,{value:Ly(e),children:e.children}),e=>Jn(Ky.Provider,{value:Qy(e),children:e.children}),e=>Jn(Hb.Provider,{value:Wb(e),children:e.children}),e=>Jn(Uv.Provider,{value:Fv(),children:e.children}),e=>Jn(xb.Provider,{value:Ub(e),children:e.children}),e=>Jn(rT.Provider,{value:aT(e),children:e.children}),e=>Jn(Gb.Provider,{value:Yb(e),children:e.children}),e=>Jn(sg.Provider,{value:dg(e.adDisplayController),children:e.children}),e=>Jn(Hy.Provider,{value:Wy(e.adDisplayController),children:e.children}),e=>Jn(j_.Provider,{value:M_(e)},e.children)];const bT=(e=>(t,i)=>{const n=new Hd.a,r=new Hd.a,a=new Hd.a,o=new Promise((e,t)=>{n.addOne(()=>{n.removeAll(),r.removeAll(),e()}),r.addOne(e=>{n.removeAll(),r.removeAll(),t(e)})}),s=new Promise((e,t)=>{a.addOne(()=>{t()})}),d=Jn(Nv,{onFirstRender:e=>{"success"===e.status?n.dispatch(void 0):r.dispatch(e.error)},onRuntimeError:()=>{a.dispatch(void 0)}},Jn(xv,{components:gT,componentsProps:{id:"skin",adDisplayController:i,slotElement:t}},e()));return Object(Ko.a)("Skin: render skin"),mr(d,t),{firstRenderPromise:o,runtimeErrorPromise:s,clear:()=>{n.removeAll(),r.removeAll(),Object(Ko.a)("Skin: destroy skin"),mr(null,t)}}})(()=>Jn(fT,null));var yT=new WeakMap,_T=new WeakMap,OT=new WeakMap,TT=new WeakMap,ET=new WeakMap,ST=new WeakMap,wT=new WeakMap;class CT{constructor(e,t){var i=this;yT.set(this,{writable:!0,value:void 0}),_T.set(this,{writable:!0,value:[]}),OT.set(this,{writable:!0,value:[]}),TT.set(this,{writable:!0,value:void 0}),ET.set(this,{writable:!0,value:void 0}),xa(this,"createPlaybackController",(function(e,t,n){void 0===n&&(n={}),Xo.c.event({name:"CreatePlaybackController",probability:Yo.a,data:{config:n}});const r=Ma(n,["autoplay"]),{config:a,errors:o}=ea(r);re(o);const s="VideoBannerAd"===Ns.c||"Test"===Ns.c,d=n.renderSkin,l=new Mb({videoSlot:e,slot:t,mediaAds:Ua(i,TT),playbackParameters:a,onPlayAd:()=>Ua(i,ST).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:bT}).getPublicInstance(),c=Object(wd.a)(Ua(i,OT),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return Object(Jo.a)(c,e=>{let{handler:t}=e;return t({playbackController:l})}),l})),xa(this,"showAd",(function(e,t,n){void 0===n&&(n={}),Ua(i,ST).call(i,"AdStoreShowAd");const r=i.createPlaybackController(e,t,n);Ua(i,_T).push(r);const a=new Promise(e=>{r.subscribe("AdStopped",()=>{Fa(i,_T,Object(wd.a)(Ua(i,_T),e=>e!==r)),e()})});return r.playAd(),a})),xa(this,"getAdDuration",()=>Ua(this,TT).getDuration()),xa(this,"separateAdPods",()=>Object(Zo.a)(Ua(this,TT).mediaAds,e=>{const t=new CT(new kp([e]),Ua(this,ET));return Object(Jo.a)(Ua(this,OT),e=>{let{event:i,handler:n}=e;t.subscribe(i,n)}),t})),xa(this,"getAdSourceTypes",()=>Object(wd.a)(Object(Zo.a)(Ua(this,TT).mediaAds,e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),xa(this,"setStatsRootFields",e=>{Xo.c.setRootFields(e)}),xa(this,"hasNotReplacedBroadcastAd",()=>ed(Ua(this,TT).mediaAds,e=>e.isNotReplacedBroadcastAd())),xa(this,"hasYandexCreative",()=>ed(Ua(this,TT).mediaAds,e=>e.getIsYandexCreative())),xa(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=Object(Zo.a)(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(Ua(this,ET))),xa(this,"destroy",()=>{Object(Jo.a)(Ua(this,_T),e=>{e.stopAd()}),Ua(this,_T).length=0,Ua(this,wT).call(this,"AdStoreDestroy"),Fa(this,yT,void 0),Ua(this,OT).length=0}),xa(this,"preload",e=>{let{preloadTimeout:t=zl}=e,i=Ma(e,["preloadTimeout"]);if(Object(ds.a)(Object(Gd.a)(window)))return Promise.resolve();const n=Object(Nd.a)(t).promise.then(()=>Ua(this,wT).call(this,"Timeout"));if(void 0===Ua(this,yT)){const e=Object(Zo.a)(Ua(this,TT).mediaAds,e=>e.preload(i));Fa(this,yT,Promise.all(e).then(zo.a))}return Promise.race([Ua(this,yT),n])}),xa(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=k(Ua(this,TT).mediaAds,e=>e.getIfIsRequiredHtmlControls());Fa(this,TT,new kp(i)),Object(Jo.a)(t,t=>{t.trackError(new qo.a({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),xa(this,"preventPlaying",(e,t)=>{Object(Jo.a)(Ua(this,TT).mediaAds,i=>{i.trackError(new qo.a({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),Fa(this,TT,new kp([]))}),xa(this,"getAdPodsCount",()=>Ua(this,TT).mediaAds.length),xa(this,"subscribe",(e,t)=>(Ua(this,OT).push({event:e,handler:t}),()=>{Fa(this,OT,Object(wd.a)(Ua(this,OT),i=>{return!(i.event===e&&i.handler===t)}))})),ST.set(this,{writable:!0,value:e=>{Object(Jo.a)(Ua(this,TT).mediaAds,t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),wT.set(this,{writable:!0,value:e=>{Object(Jo.a)(Ua(this,TT).mediaAds,t=>{t.cancelPreloading(e)})}}),Fa(this,TT,e),Fa(this,ET,t)}}class IT extends vd.a{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:n,adPlacementOptions:r}=e;if(super(),Ha(this,"whenVmapLoaded",void 0),Ha(this,"adBreak",void 0),Ha(this,"vmap",void 0),Ha(this,"adConfig",void 0),Ha(this,"adPlacementOptions",void 0),Ha(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),Ha(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),Ha(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new qo.a({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new CT(t,i)}catch(e){throw li(e),Xo.c.errorToStats(e),e}}),Ha(this,"getInPageBlock",()=>Oi(this.getAdBreaks(),"inpage")[0]),Ha(this,"getPrerollBlock",()=>Oi(this.getAdBreaks(),"preroll")[0]),Ha(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?function(e,t){return Object(Nh.a)(e,e=>e.impId===t)}(this.getAdBreaks(),e):Oi(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=n,this.adPlacementOptions=r,Object(Ko.a)("AdLoader: create"),Xo.c.event({name:"CreateAdLoader",probability:Yo.a,data:{adConfig:t,adBreak:n}}),bc({secureMode:t.secureMode,url:void 0})){const e=kl();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:Df})}i.then(e=>{this.vmap=e}).catch(e=>{Xo.c.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new qo.a({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:n}=this;return _i({adConfig:i,adBreak:t,adPlacementOptions:n,win:window})}}const PT={start:"preroll",end:"postroll"},NT=Object(md.a)({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),DT="linear,nonlinear",RT="linear",kT="nonlinear",VT=0,BT=0,LT=0,jT={dark:"dark",light:"light"},MT={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"},xT=e=>{const t=Ya("Collapse",e);return!0===Ya("Repeat",e)?"auto":!1===t?"manual":null},UT=e=>{if(!Object($o.a)(e))return;const{preferableAdSize:t}=e;if(!Object($o.a)(t))return;const{width:i,height:n}=t;return r(i)&&r(n)?{width:i,height:n}:void 0},FT=Object(md.a)(mc),HT=e=>{if(!Object($o.a)(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==FT.indexOf(t)?t:"Unsafe"},WT=async e=>{let{url:t,vmapLoadParams:i,timeout:n}=e;const a=Date.now();let o;Xo.c.event({name:"VmapLoadStart",data:i,probability:Yo.a});try{const e=!Object(ds.a)(Object(Gd.a)(window)),i="boolean"===typeof Bd?Bd:e;o=await ie({url:t,data:null,timeout:n,withCredentials:i})}catch(l){const e=sc({thrownError:l,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw Xo.c.error({error:e}),e}const{responseStatus:s,responseText:d}=o;if(200!==s){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(d);if(r(e))throw new qo.a({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:ao({},i,{responseStatus:s,disabledPageId:e})});throw new qo.a({code:"INVALID_VMAP_RESPONSE_STATUS",details:ao({},i,{responseStatus:s,responseText:o.responseText})})}try{const e=ro(i.config),{vmap:t,events:n,errors:r}=Ja({vmapXmlObject:o,vmapLoadParams:i,vmapAdBreaksConfig:e});return re(r),Object(Jo.a)(n,e=>Xo.c.event(ao({labels:void 0},e))),Xo.c.values({name:"VmapLoadSuccess",data:ao({},i,{vmap:t}),probability:Yo.a,labels:{},values:{timeSpent:Date.now()-a}}),t}catch(l){throw Xo.c.errorToStats(l),l}},zT=3e3;var GT=i(115);const YT=()=>Object(GT.a)()/$u,qT="adsdksessionwatchedtimesinceadmap",XT=0;class KT{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:n=YT}=e;if(!i)return;const r=oo(i);r[t]=n();try{i.setItem(qT,JSON.stringify(r))}catch(a){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:n=YT}=e;if(!i)return XT;const a=oo(i)[t];if(!r(a))return XT;const o=n();if(!r(o))return XT;const s=o-a;return r(s)?s:XT}({category:t,storage:this.storage})}}const QT="https://"+td.a+"/vmap/",JT=e=>{const{category:t,startWatchedTime:i,vmapScenarioId:n}=e,r=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),a=hh(e);let o;try{o=new KT}catch(d){}let s=XT;return"number"===typeof t&&o&&(s=o.getWatchedTimeSinceAd({category:t})),so({},a,r,{"vmap-scenario-id":void 0===n?void 0:String(n),wtime:"number"===typeof i?String(Math.floor(i)):void 0,"wtime-since-ad":String(Math.floor(s)),client_type:"html"})};class ZT{constructor(){lo(this,"adBreaks",[]),lo(this,"isSingleVideoSession",!1)}static async load(e,t){const i=eo(e),n=function(e){let{config:t,adPlacementOptions:i=as,win:n=window}=e;const{partnerId:r}=t;if(!r)throw new qo.a({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const a=JT(t),o=h({url:Object(ls.b)(""+QT+r,a),ignoreAbd:!0,options:i,win:window}),s=Object(Gd.a)(n);return"function"===typeof s?s(Object(ls.b)(o,{abd:"1"})):o}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:r}=i;let a=zT;r&&(a=r);const o={url:n,config:e,timeout:a};return await WT({url:n,vmapLoadParams:o,timeout:a})}}const $T={impId:VT,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},eE={adTagURI:"",adFoxParameters:void 0},tE=co({adType:"preroll"},eE,$T),iE="0",nE=po({adType:"inpage",replayMode:null,stick:!1},eE,$T),rE={repeatAfter:LT,maxRepeatCount:BT,repeatNumber:0,timeOffset:10},aE=Ao({adType:"midroll",broadcastReplace:!1},eE,rE,$T),oE=mo({adType:"overlay"},eE,rE,$T),sE=vo({adType:"postroll"},eE,$T),dE={inpage:nE,preroll:tE,midroll:aE,postroll:sE,overlay:oE},lE=Object(md.a)(dE),cE=async function(e,t,i,n){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===n&&(n=as);const{adConfig:r,adBreak:a,warnings:o}=function(e,t,i){const{vastBase64:n,adBreakType:r}=e,a=bo(e,["vastBase64","adBreakType"]),o=[],s=io(a),{config:{videoContentId:d},errors:l}=s,c=bo(s.config,["videoContentId"]);o.push(...l);const u=go({},c,{videoContentId:ho(d)});let h,p;if(n&&(u.vast=O(n)),fo(r)?p=r:t&&(o.push(new qo.a({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),fo(i)&&(p=i)),p){const e=ro(a);h=go({},dE[p],e)}return{adConfig:u,adBreak:h,warnings:o}}(e,t,i);re(o);const{adFoxParameters:s}=r;if(s){const e=a||tE,t=new ZT;return t.adBreaks=[e],new IT({adConfig:r,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:n})}if(a){const e=new ZT;return e.adBreaks=[a],new IT({adConfig:r,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:n})}if(r.vmap){const e=(e=>{const t=V(e),{vmap:i,events:n,errors:r}=Ja({vmapXmlObject:{responseText:e,xml:t},vmapLoadParams:void 0,vmapAdBreaksConfig:void 0});return re(r),Object(Jo.a)(n,e=>Xo.c.event(uo({labels:void 0},e))),i})(r.vmap);return new IT({adConfig:r,whenVmapLoaded:Promise.resolve(e),adPlacementOptions:n})}const d=ZT.load(r,n),l=new IT({adConfig:r,whenVmapLoaded:d,adPlacementOptions:n});return d.catch(()=>{l.destroy()}),d.then(()=>l)},uE={width:16,height:9},hE=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),pE={multiplier:1,isVertical:!1},AE={width:"",height:"",marginLeft:"",marginTop:""},mE=(e,t,i)=>{const n=e.ownerDocument.defaultView.IntersectionObserver;let r=zo.a;const a=new Promise(a=>{const o=new n(e=>{let[{isIntersecting:t,intersectionRatio:i}]=e;(t||i>0)&&(r(),a())},{threshold:i,rootMargin:t+" 0px"});o.observe(e),r=()=>{o.disconnect()}});return{teardown:r,promise:a}},vE=40,fE=(e,t,i,n,r,a)=>{const o=e?n:t,s=e?i:r;return{width:o,height:s,top:(a.height-s)/2,left:(a.width-o)/2}},gE=e=>{const{image:t,boundingRectangle:{width:i,height:n},scaleForHorizontal:r=1,scaleForVertical:a=1,pixelRatio:o,stretch:s}=e,d=t.width,l=t.height,c=d/l,u=c>i/n,h=c>1?r:a,p=h*(i<d||s?i:d),A=h*(n<l||s?n:l),m=d*(A/l),v=l*(p/d);return{width:u?p:m,height:u?v:A,url:t.url,size:t.size,imageWidth:t.width,imageHeight:t.height,box:fE(u,p,A,m,v,{width:i,height:n}),coeff:d*l/(i*n*o),isHorizontal:c>1,smartCenters:t.smartCenters}},bE=e=>{let{size:t,images:i}=e;const{width:n,height:r}=t,a=function(e){var t;void 0===e&&(e={});const i=Array.isArray(e.images)?e.images:[e.images],n=Math.min(2,e.pixelRatio||window.devicePixelRatio||1),r=[];for(const a of i)if(a.width&&a.height&&a.url){const t=wo({},e,{pixelRatio:n,image:a});r.push(gE(t))}r.sort((e,t)=>e.coeff-t.coeff);for(const a of r)if(a.coeff>1)return a;return null!==(t=r[r.length-1])&&void 0!==t?t:{}}({boundingRectangle:{width:n,height:r},images:Object(Zo.a)(i,e=>{let[t,i,n,r]=e;return{url:t,width:parseInt(i,10),height:parseInt(n,10),smartCenters:r?r["smart-centers"]:[]}}),stretch:!0});if(Boolean(a))return a.url},yE=400,_E=yE,OE="200%",TE="_displayController_"+Math.floor(1e3*Math.random());class EE{get displayController(){return Xo.c.warning({name:"GetDisplayControllerInPublicController",message:"AdSDK Warning: get displayController is deprecated, it will NOT be working in next versions"}),Io(this)}set displayController(e){Xo.c.warning({name:"SetDisplayControllerInPublicController",message:"AdSDK Warning: set displayController is deprecated, it will NOT be working in next versions"}),Co(this,e)}constructor(e){Po(this,"onClickThrough",void 0),Po(this,"onStartError",void 0),Po(this,"onPlayStateChanged",void 0),Po(this,"onAdSkippableStateChange",void 0),Po(this,"onComplete",void 0),Po(this,"onFulfilled",void 0),Po(this,"onSlotVisible",void 0),Po(this,"onBeforeAdStart",void 0),Po(this,"onAdStartRejected",void 0),Po(this,"onAdStart",void 0),Po(this,"onAdEnd",void 0),Po(this,"onAdMediaStart",void 0),Po(this,"onAdMediaEnd",void 0),Po(this,"onAdSkipped",void 0),Po(this,"onAdImpression",void 0),Po(this,"onAdContentSizeChange",void 0),Po(this,"onAdRemainingTimeChange",void 0),Po(this,"adStarted",!1),Po(this,"paused",!0),Co(this,e),Io(this).onBeforeAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(i){console.error(i)}}),Io(this).onAdStartRejected.add(()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(e){console.error(e)}}),Io(this).onAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(i){console.error(i)}}),Io(this).onAdMediaStart.add(e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(i){console.error(i)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(i){console.error(i)}}),Io(this).onAdMediaEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(i){console.error(i)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(i){console.error(i)}if("function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(i){console.error(i)}}),Io(this).onAdEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(i){console.error(i)}}),Io(this).onClickThrough.add(()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(e){console.error(e)}}),Io(this).onAdSkipped.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(i){console.error(i)}}),Io(this).onAdPodClose.add(()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(e){console.error(e)}});const t=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(e){console.error(e)}};Io(this).onAdPodResume.add(t),Io(this).onAdPodStart.add(t),Io(this).onAdPodPause.add(()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(e){console.error(e)}}),Io(this).adSkippableState.add(e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(t){console.error(t)}}),Io(this).onAdPodImpression.add(()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(e){console.error(e)}}),Io(this).adContentSize.add(()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(e){console.error(e)}}),Io(this).adPodRemainingTime.add(()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(e){console.error(e)}})}getCurrentContentType(){const e=Io(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}usesVideoNode(){const e=Io(this);if(void 0!==e&&null!==e)return e.usesVideoNode()}play(e){void 0===e&&(e=0===Io(this).getVolume());const t=async()=>{Io(this).setMuted(Io(this).autoplayAbilitySignal.getValue().requireMute||e);try{await Io(this).play()}catch(t){Xo.c.error({error:new qo.a(t,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===Io(this).getCurrentContentType()?Io(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){Io(this).pause()}skip(){Xo.c.event({name:"PublicControllerSkip",probability:Yo.a,data:{}}),Io(this).skipAllViewers()}clickThrough(){Io(this).clickThrough({},"PublicControllerMethodCall")}getPaused(){return Io(this).getPaused()}getMuted(){return 0===Io(this).getVolume()}getVolume(){return Io(this).getVolume()}setVolume(e){Io(this).setVolume(e)}getDuration(){return Io(this).getDuration()}getAdWidth(){return Io(this).getAdWidth()}getAdHeight(){return Io(this).getAdHeight()}getCurrentTime(){return Io(this).getCurrentTime()}getAdSkippableState(){return Io(this).adSkippableState.getValue()}getAdContentSize(){return Io(this).adContentSize.getValue()}setStatsRootFields(e){Xo.c.event({name:"UsingSetStatsRootFieldsInPublicController",probability:Yo.a,data:void 0}),Xo.c.setRootFields(e)}destroy(){Io(this).destroy()}setControlsVisibility(e){Io(this).setPublicApiControlsSettings(e)}}class SE extends EE{constructor(e){super(e.displayController),this.params=e,No(this,"play",e=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.play(e))),No(this,"resume",()=>(this.params.pauseByPublicMethodSignal.dispatch(!1),super.resume())),No(this,"pause",()=>(this.params.pauseByPublicMethodSignal.dispatch(!0),super.pause()))}}let wE=!1;const CE={lock:()=>{wE=!0},unLock:()=>{wE=!1},isLocked:()=>wE},IE=((e,t)=>i=>{let n,r;const a=()=>{e(r),r=NaN},o=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return a(),r=t(e=>{r=NaN,n=i.call(this,e,...o)}),n};return o.cancel=a,o})(Mg,jg),PE={stickTo:"auto",stickyColorScheme:"dark"},NE=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class DE extends vd.a{constructor(){super(),Do(this,"initialState","Inline"),Do(this,"currentState",this.initialState),Do(this,"nextState",void 0),Do(this,"transitionWays",{Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"}),Do(this,"onStateChange",[]),Do(this,"subscribeForStateTransition",(e,t)=>this.subscribeForStateChange(i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler(()=>{this.onStateChange.length=0})}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=Object(wd.a)(this.onStateChange,t=>t!==e)}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var RE=i(91),kE=i.n(RE);const VE=km,BE=e=>{let{adWidth:t,adHeight:i,windowWidth:n,description:a,isAdaptiveCreative:o}=e;if(!a)return!1;if(o)return!0;const s=VE*(t/i);return!!r(s)&&s/n<.55};var LE=i(51),jE=i.n(LE);const{locals:ME}=kE.a,xE=i(174);class UE extends vd.a{constructor(e){super(),this.params=e,Ro(this,"setDescription",zo.a),Ro(this,"description",""),Ro(this,"variantState",new Hd.a),Ro(this,"stickyState",new Hd.a),Ro(this,"additionalContentEnabledState",new Hd.a),Ro(this,"isDetachedState",new Hd.a),Ro(this,"withDisabledAnimation",e=>{this.setAnimationEnabled(!1),e(),function(e){e.offsetLeft}(this.params.layout.stickyWrapperElement),this.setAnimationEnabled(!0)}),Ro(this,"waitForAnimationEnd",()=>{const e=Object(Nd.a)(yE),t=e=>e.target===this.params.layout.stickyWrapperElement&&("width"===e.propertyName||"transform"===e.propertyName);let i=zo.a;const n=new Promise(e=>i=Object(zd.a)({element:this.params.layout.stickyWrapperElement,eventName:"transitionend",listener:i=>{t(i)&&e()}})),r=()=>{e.clear(),i()};return this.addDestroyHandler(r),Promise.race([e.promise,n]).then(r)}),this.render(),this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper,!0),NE(this.params.stickyConfig.stickTo)?(this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__variant__flyroll,!0),this.variantState.dispatch("flyroll")):(this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__variant__covering,!0),this.variantState.dispatch("covering"))}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=NE(this.params.stickyConfig.stickTo)||BE({adWidth:(null===e||void 0===e?void 0:e.width)||0,adHeight:(null===e||void 0===e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__additionalContent_enabled,t),this.additionalContentEnabledState.dispatch(t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;case"Attached":e=!0,t=!1;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__unAnimated,!0)}render(){const e=this.params.layout.stickyWrapperElement,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler(()=>{Object(Go.a)(t),Object(Go.a)(i)}),this.attachAdditionalContentClasses(e)}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,LE.locals.yaInpageAdditionalContent,!0),NE(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,LE.locals.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleClassName(e,ME.yaInpageAdditionalContent_dark,!0);break;default:Object(zo.a)()}e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,ME.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,ME.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(Object(zd.a)({element:t,eventName:"click",listener:this.params.onActionClick})),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,ME.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,ME.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(Object(zd.a)({element:t,eventName:"click",listener:this.params.onActionClick})),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,LE.locals.yaInpageCross,!0),e.innerHTML=xE,this.addDestroyHandler(Object(zd.a)({element:e,eventName:"click",listener:this.params.onCrossClick})),e}toggleClassName(e,t,i){const{classList:n}=e;return i?n.add(t):n.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.layout.stickyWrapperElement,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__sticky,e),this.stickyState.dispatch(e?"sticky":"inline"),NE(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__sticky__covering,e),!NE(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:Object(zo.a)()}}setAttachStateClassNames(e){this.isDetachedState.dispatch(!e),this.toggleStickyWrapperClassName(ME.yaInPageStickyWrapper__detached,!e)}attachAdditionalContentClasses(e){const t=Rr(e,jE.a.toString());this.addDestroyHandler(()=>{Object(Go.a)(t)}),this.addDestroyHandler(this.variantState.add(t=>{"flyroll"===t?(null===e||void 0===e||e.classList.toggle(LE.locals.flyroll,!0),null===e||void 0===e||e.classList.toggle(LE.locals.covering,!1)):(null===e||void 0===e||e.classList.toggle(LE.locals.flyroll,!1),null===e||void 0===e||e.classList.toggle(LE.locals.covering,!0))})),this.addDestroyHandler(this.stickyState.add(t=>{"inline"===t?(null===e||void 0===e||e.classList.toggle(LE.locals.inline,!0),null===e||void 0===e||e.classList.toggle(LE.locals.sticky,!1)):(null===e||void 0===e||e.classList.toggle(LE.locals.inline,!1),null===e||void 0===e||e.classList.toggle(LE.locals.sticky,!0))})),this.addDestroyHandler(this.additionalContentEnabledState.add(t=>{null===e||void 0===e||e.classList.toggle(LE.locals.additionalContent__enabled,t)})),this.addDestroyHandler(this.isDetachedState.add(t=>{null===e||void 0===e||e.classList.toggle(LE.locals.isDetached,t)}))}}const FE=320,HE=e=>{let{direction:t,offsets:i,getInpageCurrentRect:n,getViewDimensions:r,getStickyDimensions:a,getPlaceholderDimensions:o}=e;const s=i.x*-t.x,d=i.y*-t.y,l=n(),c=l.left,u=l.top,h=r(),p={x:(-1===t.x?0:h.width-l.width)-c+s,y:(-1===t.y?0:h.height-l.height)-u+d},A=a(),m=o(),v={x:A.width/m.width,y:A.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:p,scale:v}},WE={covering:{x:0,y:0},flyroll:{x:32,y:24}};class zE{constructor(e){var t,i,n;this.params=e,n={horizontal:"right",vertical:"bottom"},(i="intrinsicStickPosition")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},()=>this.actualizeStickPosition())}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return NE(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:FE,height:VE}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=NE(this.params.stickyConfig.stickTo)?WE.flyroll:WE.covering,i={x:NE(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:n,scale:r,translation:a}=HE({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:n,transform:"translate("+a.x+"px, "+a.y+"px) scale("+r.x+", "+r.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return ko({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:n,bottom:r}=this.params.getStickyWrapperDOMRect(),{width:a,height:o}=this.getViewDimensions(),s="bottom"===e.vertical?o-r+"px":"";return ko({top:"top"===e.vertical?n+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?a-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=NE(this.params.stickyConfig.stickTo)?WE.flyroll:WE.covering,i="top"===e.vertical?t.y+"px":"",n="bottom"===e.vertical?t.y+"px":"",r="left"===e.horizontal?t.x+"px":"",a="right"===e.horizontal?t.x+"px":"",o=this.getStickyDimensions();return{top:i,right:a,bottom:n,left:r,width:NE(this.params.stickyConfig.stickTo)?o.width+"px":"100%",height:o.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:n,bottom:r}=this.params.getPlaceholderDOMRect(),{left:a,right:o,top:s,bottom:d,width:l,height:c}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-n+"px":"",bottom:"bottom"===e.vertical?r-d+"px":"",left:"left"===e.horizontal?a-t+"px":"",right:"right"===e.horizontal?i-o+"px":"",width:l+"px",height:c+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const GE=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class YE{constructor(e){var t,i,n;this.elements=e,n=[],(i="storedStyles")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}save(){Object(Jo.a)(this.elements,e=>{this.storedStyles.push(this.extract(e))})}restore(){Object(Jo.a)(this.elements,(e,t)=>{yo(e,this.storedStyles[t],!0)}),this.storedStyles.length=0}extract(e){return Object(Id.a)(GE,(t,i)=>(t[i]=e.style[i],t),{})}}class qE extends vd.a{constructor(e){super(),this.params=e,Bo(this,"win",void 0),Bo(this,"stickyInpageLayout",void 0),Bo(this,"stickyFSA",void 0),Bo(this,"stickyPositioning",void 0),Bo(this,"stylesStore",void 0),Bo(this,"stickyConfig",void 0),Bo(this,"handleWindowResize",IE(()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),Bo(this,"setDescription",e=>this.stickyInpageLayout.setDescription(e)),Bo(this,"handleFromInlineToDetachTransition",()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation(()=>{yo(this.params.layout.stickyWrapperElement,Vo({position:"fixed"},this.stickyPositioning.getDetachedStateRect()),!0)}),NE(this.stickyConfig.stickTo)||yo(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()),!0),this.stickyInpageLayout.handleClassNames()}),Bo(this,"handleFromDetachToStickyTransition",async()=>{NE(this.stickyConfig.stickTo)?yo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles(),!0):(yo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getStickyStateRect(),!0),yo(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()),!0)),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>{yo(this.params.layout.stickyWrapperElement,Vo({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()),!0)}),this.stickyInpageLayout.handleClassNames()}),Bo(this,"handleFromStickyToAttachTransition",async()=>{this.stickyInpageLayout.withDisabledAnimation(()=>{yo(this.params.layout.stickyWrapperElement,Vo({position:"absolute"},this.stickyPositioning.getAttachedStateRect()),!0)}),this.stickyInpageLayout.handleClassNames()}),Bo(this,"handleFromAttachToInlineTransition",async()=>{this.stickyInpageLayout.handleClassNames(),NE(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation(()=>{yo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect(),!0)}),this.stickyInpageLayout.withDisabledAnimation(()=>{yo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getTransformStyles(),!0)}),yo(this.params.layout.stickyWrapperElement,{transform:""},!0)):(yo(this.params.layout.stickyWrapperElement,this.stickyPositioning.getInlineStateRect(),!0),yo(this.params.layout.wrapperElement,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()),!0)),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>this.stylesStore.restore())}),this.win=this.params.layout.containerWindow,this.stickyFSA=new DE,this.addDestroyHandler(()=>this.stickyFSA.destroy()),this.stickyConfig=Vo({},PE,g(this.params.stickyConfig)),this.stickyInpageLayout=new UE({stickyFSA:this.stickyFSA,layout:this.params.layout,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler(()=>this.stickyInpageLayout.destroy()),this.stickyPositioning=new zE({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.layout.placeholderElement.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.layout.stickyWrapperElement.getBoundingClientRect()}),this.stylesStore=new YE([this.params.layout.stickyWrapperElement,this.params.layout.wrapperElement]),this.addDestroyHandler(Object(zd.a)({element:this.win,eventName:"resize",listener:this.handleWindowResize})),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}const XE=(e,t)=>"replayMode"in e?e.replayMode:t.replayMode,KE=e=>{let{win:t,inPageConfig:i,adBreak:n}=e;return!vh(t)&&("boolean"===typeof i.stick?i.stick:n.stick)},QE=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();class JE extends vd.a{constructor(e){super(),this.params=e,Mo(this,"overlapVisibility",new fd.a(!1)),Mo(this,"recalculateElementOverlap",IE(()=>{if(this.isDestroyed)return;const e=!jo(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(ai(this.recalculateElementOverlap));const{promise:e,clear:t}=Object(Nd.a)(0);e.then(this.recalculateElementOverlap).catch(ud.a),this.addDestroyHandler(t)}}const ZE=[0,0];class $E extends vd.a{constructor(e){var t,i,n;super(),n=void 0,(i="visualVisibility")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n;const r=new Km(e,{considerDocumentVisibility:!1});this.addDestroyHandler(()=>r.destroy());const a=new fd.a(!1);r.totalVisibilityValueSignal.add(e=>a.dispatch(e));const o=new JE({element:e,points:[ZE]});this.addDestroyHandler(()=>o.destroy()),this.visualVisibility=new fd.a(r.totalVisibilityValueSignal.getValue()&&o.overlapVisibility.getValue()),y([a,o.overlapVisibility],(e,t)=>e&&t,e=>this.visualVisibility.dispatch(e))}}class eS extends vd.a{constructor(e){var t;super(),this.params=e,Uo(this,"publicController",void 0),Uo(this,"displayController",void 0),Uo(this,"displayControllerOnAdEndPromise",void 0),Uo(this,"adLoader",void 0),Uo(this,"replayMode",null),Uo(this,"stickyInPageController",void 0),Uo(this,"stickyConfig",void 0),Uo(this,"pausedByContainerVisibility",!1),Uo(this,"pausedByDocumentVisibility",!1),Uo(this,"isCurrentlyInStickyState",!1),Uo(this,"documentVisibility",new fd.a(!1)),Uo(this,"isContainerSizeFixed",void 0),Uo(this,"pauseByPublicMethodSignal",new fd.a(!1)),Uo(this,"visibilitySlot",void 0),Uo(this,"visibility",void 0),Uo(this,"showAds",async e=>{const{layout:t}=this.params,[i]=e.mediaAds.slice(-1),{vastAd:n}=i,{clickThrough:r}=n,a=function(e,t){const{adParametersObject:i}=e;if(!Object($o.a)(i))return;const n=qi(i),r=null===n||void 0===n?void 0:n.packshotImageUrl;if(r)return r;if(!Object($o.a)(i))return;const a=Wi(i.adParameters);return 0!==a.length?bE({size:t,images:a}):void 0}(n,this.params.layout.placeholderSize.getValue());a&&"manual"===this.replayMode&&(Object(Ko.a)("InPage: packshot image found for manual mode ["+a+"]"),this.displayController.onAdPodThirdQuartile.addOne(()=>{p(a)}));try{if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.autoplayAbilitySignal.getValue().requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.addOne(()=>{this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")}),Object(Ko.a)("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),Xo.c.event({name:"InPageWaitingForUserGesture",probability:Yo.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})):(Object(Ko.a)("inPage: start to play ad"),this.displayController.play(!0).catch(e=>{Xo.c.error({error:new qo.a(e,{code:"InPageOnReadyPlayError"})})}),Xo.c.event({name:"InPageAutoplay",probability:Yo.a,data:{autoplayAbility:this.displayController.autoplayAbilitySignal.getValue()}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,"auto"===this.replayMode)return;if("manual"===this.replayMode){t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),Object(Ko.a)("inPage: ad played. show packshot"),a?(yo(t.packshotContainer,{backgroundImage:"url("+a+")"}),Xo.c.event({name:"InPagePackshotBackgroundImage",data:{vastAd:n}})):this.displayController.isLastAdPodRetainedMedia()?(t.videoSlot.muted=!0,t.videoSlot.loop=!0,t.videoSlot.style.objectFit="cover",this.displayController.videoNodeController.play(),Xo.c.event({name:"InPagePackshotBackgroundLoopedVideo",data:{vastAd:n}})):Xo.c.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:n}});const e=new ff({container:t.packshotContainer,containerSize:t.videoSlotContainerSize,buttonText:n.adParametersObject&&Yi(n.adParametersObject)||Sd("LEARN_MORE",this.params.adConfig.lang),descriptionText:n.description,duration:1/0,onButtonClick:()=>{window.open(r,"_blank")},hasTimeline:!1});this.addDestroyHandler(()=>{e.destroy({reason:"stopAd",details:void 0})})}else Object(Ko.a)("inPage: finish playing ad"),this.isCurrentlyInStickyState&&await this.turnOffStickyMode({animated:!0}),this.destroy(void 0)}catch(o){this.destroy(o)}}),Uo(this,"handleDocumentVisibilityChange",e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(Object(Ko.a)("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,Xo.c.event({name:"InPageDocumentVisibilityResume",probability:Yo.a,data:{}})):(Object(Ko.a)("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,Xo.c.event({name:"InPageDocumentVisibilityPause",probability:Yo.a,data:{}}))}),Uo(this,"handleVisibilityChange",e=>{this.documentVisibility.getValue()&&(e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(Object(Ko.a)("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):(!this.isCurrentlyInStickyState&&this.pausedByContainerVisibility&&this.displayController.getPaused()||this.displayController.wasAbuseClosedByClickOutsideVisibility.getValue())&&(Object(Ko.a)("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),Xo.c.event({name:"InPageElementVisibilityResume",probability:Yo.a,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(Object(Ko.a)("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isCurrentlyInStickyState||this.pausedByContainerVisibility||this.displayController.getPaused()||(Object(Ko.a)("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),Xo.c.event({name:"InPageElementVisibilityPause",probability:Yo.a,data:{}})))}),Uo(this,"onceWhenCanShowInpage",()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(e){console.error(e)}}),Uo(this,"handleStickyInpageCrossClick",()=>{this.stickyInPageController&&(Object(Ko.a)("inPage: handle cross click"),Xo.c.event({name:"InPageStickyCrossClick",probability:Yo.a,data:{}}),this.turnOffStickyMode({animated:!0}),this.visibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))}),Uo(this,"makeStickAction",async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(t){Xo.c.error({error:new qo.a(t,{code:"InPageOnStickError"})})}}),Uo(this,"handlePauseByMethodCall",e=>{e&&this.isCurrentlyInStickyState&&(Object(Ko.a)("inPage: set to inline mode because of pause"),this.changeStickyState({willBeSticky:!1}))}),Object(Ko.a)("inPage: run constructor"),this.addDestroyHandler(e=>{Object(Ko.a)("inPage: destroy error=["+e+"]")});const{layout:i,adConfig:n,initialContainerRect:r}=e,{containerElement:a,placeholderElement:o,placeholderSize:s,videoSlotContainerSize:d}=i;this.isContainerSizeFixed=r.height>0,Object(Ko.a)("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(r)+"]"),this.isContainerSizeFixed?(yo(o,{height:"100%"},!0),yo(a,{height:"100%"},!0)):(Object(Ko.a)("inPage: adjust to default ad size"),Lo({placeholderElement:o,placeholderWidth:s.getValue().width,adContentSize:uE}));const l=new jb({config:n,videoNode:i.videoSlot,videoWrapperNode:i.slot,visibilitySlot:i.wrapperElement,backgroundSlot:i.backgroundContainer,renderSkin:bT});this.displayController=l,this.subscribeDisplayControllerEvents(l),this.visibilitySlot=null!==(t=l.config.visibilitySlot)&&void 0!==t?t:o;const c=new $E(this.visibilitySlot);if(this.visibility=c.visualVisibility,this.addDestroyHandler(()=>c.destroy()),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=n;e&&this.addDestroyHandler(y([d,l.adContentSize],(t,i)=>(function(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:n}=e;if(!i)return pE;if(void 0===i.width&&void 0===i.height)return pE;const{innerSize:r,adjacentSize:a,extraHorizontalSpace:o}=Tn({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=r/(a/(o?t.width:t.height)),d=r/(1-n);return{multiplier:Math.min(s,d)/r,isVertical:o}})({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e}),e=>{const t=d.getValue();Object(Ko.a)("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(t)+"] adContentSize=["+JSON.stringify(l.adContentSize.getValue())+"]");const n=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:n,multiplier:r}}=e;if(1===r||!t||!i)return;const a=n?t:i,o=n?i:t,s=o*r,d=-1*(o*(r-1))/2;return{width:n?a:s,height:n?s:a,marginLeft:n?0:d,marginTop:n?d:0}}({slotSize:t,videoEarsCompensation:e}),r=n?b(n,e=>e+"px"):AE;yo(i.videoSlot,r,!0)}))}else{const e=e=>{Lo({placeholderElement:o,placeholderWidth:s.getValue().width,adContentSize:e})};e(l.adContentSize.getValue()),this.addDestroyHandler(l.adContentSize.add(e))}this.displayController.abuseScreenStatus.add(e=>{if("hidden"===e){this.displayController.pauseByOpenAbuseScreen.getValue()&&(this.visibility.getValue()?this.displayController.resume():this.displayController.wasAbuseClosedByClickOutsideVisibility.dispatch(!0))}}),this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(Object(cm.a)(i.containerDocument)),this.addDestroyHandler(pn(i.containerDocument,e=>this.documentVisibility.dispatch(e))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.pauseByPublicMethodSignal.add(this.handlePauseByMethodCall),this.addDestroyHandler(()=>{this.pauseByPublicMethodSignal.removeAll()}),this.publicController=new SE({pauseByPublicMethodSignal:this.pauseByPublicMethodSignal,displayController:this.displayController}),i.makeVisible(),Object(Ko.a)("inPage: call constructor callback"),this.processInPage().catch(e=>this.destroy(e))}async processInPage(){const{adConfig:e,layout:t}=this.params,i=this.waitForShowing();Object(Ko.a)("inPage: wait for loadVmap");const n=await this.loadVmap();this.replayMode=XE(e,n),"manual"===this.replayMode&&(this.displayController.enableRetainLastMediaAfterPlayback(),this.displayController.disableCreativePackshot()),KE({win:window,inPageConfig:e,adBreak:n})&&(Object(Ko.a)("inPage: initialize sticky"),this.stickyConfig=xo({stickTo:n.stickTo,stickyColorScheme:n.stickyColorScheme},g(Wa(e))),this.stickyInPageController=new qE({layout:t,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough({},"StickyInPageActionButton"),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler(()=>{this.turnOffStickyMode({animated:!1})})),Object(Ko.a)("inPage: wait for loadAd");const r=await this.loadAd(n);ad&&(Object(Ko.a)("inPage: wait for warming up"),await Promise.race([this.waitForWarmingUpPosition(),i])),Object(Ko.a)("inPage: warm up ad"),await this.warmAdUp(r),Object(Ko.a)("inPage: wait till visible"),await i,Object(Ko.a)("inPage: visibility reached"),this.onceWhenCanShowInpage();let a=this.showAds(r);"auto"===this.replayMode&&this.displayController.onAdEnd.add(async()=>{if(!this.displayController.areAllAdPodsCompleted())return Object(Ko.a)("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy(void 0);Object(Ko.a)("inPage: all AdPods has been completed"),await a,this.isDestroyed||(Object(Ko.a)("inPage: play ad again"),Xo.c.event({name:"InPageReplayAdAutomatically",probability:Yo.a,data:{}}),a=this.showAds(r))})}subscribeDisplayControllerEvents(e){e.onDestroy.add(e=>this.destroy(e)),e.onAdPodStart.addOne(async()=>{const{visibility:e}=this;e.add(function(e,t,i,n){function r(){null!==a&&clearTimeout(a),a=null}3===arguments.length&&"boolean"!==typeof i&&(n=i,i=!1);let a=null;const o=function(){const o=arguments;n=n||this,i&&null===a&&e.apply(n,o),r(),a=window.setTimeout((function(){i||e.apply(n,o),a=null}),t)};return o.cancel=r,o}(e=>{Object(Ko.a)("handle visual state change ["+e+"]"),this.handleVisibilityChange(e)},_E));const t=e.getValue();Object(Ko.a)("handle AdPodStart with visualVisibilityValue=["+t+"] visibility=["+this.displayController.visibilityRatio.getValue()+"]"),this.handleVisibilityChange(t)}),e.onAdStop.add(()=>{this.displayController.destroy()}),e.onAdMediaStart.add(e=>{let{viewer:t}=e;this.stickyInPageController&&this.stickyInPageController.setDescription(t.mediaAd.vastAd.description)})}async loadVmap(){const{adConfig:e}=this.params,t=Boolean(e.partnerId&&void 0!==e.category);t&&Xo.c.error({error:new qo.a({code:"INPAGE_LOAD_VMAP",details:e})}),this.adLoader=await cE(xo({},e,{adBreakType:t?void 0:"inpage"}),void 0,void 0,this.displayController.getAdPlacementOptions()),this.addDestroyHandler(()=>{this.adLoader.destroy()});const i=this.adLoader.getInPageBlock();if(i)return i;throw new qo.a({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:e}})}async waitForShowing(){const{layout:e}=this.params,t=So(e.containerElement,this.visibilitySlot,qm);this.addDestroyHandler(t.unsubscribe),await t.promise}async loadAd(e){const t=await this.adLoader.load(e);return t.mediaAds.length>1&&Xo.c.event({name:"InPageHasMultipleMediaAds",probability:Yo.a,data:{mediaAdsCount:t.mediaAds.length}}),t}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(zo.a),await this.displayController.prepareToPlayAd(e)}async waitForWarmingUpPosition(){if(!ad)return;const{promise:e,teardown:t}=mE(this.params.layout.containerElement,OE,0);return this.addDestroyHandler(t),e}async warmAdUp(e){const{layout:t}=this.params;Xo.c.event({name:"InPageWarmUpStart",probability:Yo.a,data:{relativeCoordinates:wn(t.videoSlot),verticalScroll:Object(Qs.a)(()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop)}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},n=this.changeStickyState({willBeSticky:!1,animated:t});return pd(n)?n.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isCurrentlyInStickyState!==t&&((!t||!CE.isLocked())&&(!t||!this.displayController.getPaused())))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:n}=this;if(!n)return;const r=()=>{const e=this.stickyConfig.stickTo;Xo.c.event({name:"InPageChangeStickyState",probability:Yo.a,data:{willBeSticky:t,stickTo:e}});const r=!t;if(this.displayController.setSkinControlHideReason("timeline",r,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",r,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",r,"INPAGE_STICKY_RETAINS_CONTROL"),Object(Ko.a)("inPage: change sticky state, willBeSticky=>"+t),t)return CE.lock(),this.isCurrentlyInStickyState=!0,this.displayController.setBlurDisplay(!1),i?n.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};CE.unLock(),this.isCurrentlyInStickyState=!1;const t=i?n.unSticky():void 0;return t?t.then(e).catch(ud.a):e(),t}};return i?this.makeStickAction(r):r()}}const tS=function(e){void 0===e&&(e=window);try{const t=e.document;return!!Boolean(t.body.attachShadow)&&wi(function(e,t){try{if(Object(rd.a)(e.attachShadow))return e.attachShadow(t);if(Object(rd.a)(e.createShadowRoot))return e.createShadowRoot();if(Object(rd.a)(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(t.createElement("div"),{mode:"open"}))}catch(t){return!1}},{locals:iS}=kE.a,nS=e=>{const t=Fo(e);return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=Pf,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(iS.InPageLayout__videoSlot),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(t),t};class rS extends vd.a{constructor(e){super(),this.containerElement=e,Ho(this,"containerWindow",void 0),Ho(this,"containerDocument",void 0),Ho(this,"placeholderElement",void 0),Ho(this,"placeholderSize",void 0),Ho(this,"videoSlotContainerSize",void 0),Ho(this,"wrapperElement",void 0),Ho(this,"stickyWrapperElement",void 0),Ho(this,"videoSlotContainer",void 0),Ho(this,"slot",void 0),Ho(this,"packshotContainer",void 0),Ho(this,"videoSlot",void 0),Ho(this,"backgroundContainer",void 0),this.containerWindow=Object(Qs.a)(()=>e.ownerDocument.defaultView,e=>{Xo.c.error({error:new qo.a(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})})||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.classList.add(iS.reset),t.classList.add(iS.yaInPagePlaceholderElement),this.placeholderElement=t;const i=this.containerDocument.createElement("div");yo(i,{width:"100%",height:"100%"},!0),i.classList.add(iS.reset),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const n=this.containerDocument.createElement("div");n.classList.add(iS.reset),n.classList.add(iS.yaInPageWrapper),this.wrapperElement=n,this.stickyWrapperElement.appendChild(this.wrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(iS.reset),this.wrapperElement.appendChild(r);const a=Hr(r);tS(this.containerWindow)&&!a&&Xo.c.error({error:new qo.a({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:Object(Qs.a)(()=>e.outerHTML)}})}),a?this.backgroundContainer=a:(this.backgroundContainer=document.createElement("div"),r.appendChild(this.backgroundContainer)),yo(this.backgroundContainer,{position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px",margin:"0px",padding:"0px",overflow:"hidden"}),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(iS.reset),this.videoSlotContainer.classList.add(iS.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer);const o=this.containerDocument.createElement("div");o.classList.add(iS.reset),this.wrapperElement.appendChild(o);const s=Hr(o);if(s){this.slot=s;const e=Rr(this.slot,kE.a.toString());this.addDestroyHandler(()=>{Object(Go.a)(e)})}else this.slot=document.createElement("div"),o.appendChild(this.slot);this.slot.classList.add(iS.InPageLayout__slot);const d=this.containerDocument.createElement("div");d.classList.add(iS.reset),this.wrapperElement.appendChild(d);const l=Hr(d);if(l){this.packshotContainer=l;const e=Rr(this.packshotContainer,kE.a.toString());this.addDestroyHandler(()=>{Object(Go.a)(e)})}else this.packshotContainer=document.createElement("div"),d.appendChild(this.packshotContainer);this.packshotContainer.classList.add(iS.InPageLayout__packshotContainer),this.videoSlot=nS(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.containerElement.appendChild(this.placeholderElement);const c=Rr(this.containerElement,kE.a.toString());this.addDestroyHandler(()=>{Object(Go.a)(c)});const u=new jm(t);this.placeholderSize=u.onResize,this.addDestroyHandler(()=>u.destroy());const h=new jm(this.videoSlotContainer);this.videoSlotContainerSize=h.onResize,this.addDestroyHandler(()=>h.destroy())}makeVisible(){yo(this.placeholderElement,{visibility:"visible"},!0)}setPackshotContainerVisibility(e){yo(this.packshotContainer,{display:e?"block":"none"},!0)}setSlotVisibility(e){yo(this.slot,{display:e?"block":"none"},!0)}}const aS=e=>"undefined"===e,oS=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:a,win:o=window}=e;const s=Object(Qs.a)(()=>o.document.querySelectorAll(""+i)),d={insertAfter:null,insertInto:null,win:o};if(!s||0===s.length||!Object(Kd.a)(i)||!i||aS(i))return d.insertInto=function(e,t){return void 0===t&&(t=window),"string"===typeof e?t.document.getElementById(e):e}(t,o),d;const l=a||0;if(!n(parseInt(""+l,10))&&!/^\d+%$/.test(""+l)&&!/^\d+$/.test(""+l))throw new qo.a({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:a,insertAfter:i}});const c=s.length;if(0===c)return d;const u=s[((e,t)=>{let i=Object(Kd.a)(e)?parseInt(e,10):e;if(Object(Kd.a)(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else r(i)&&(i-=1);return i=xt(i,0,t-1)})(l,c)];return d.insertAfter=u,d},sS=e=>{let{insertAfter:t,insertInto:i}=e;return null!==t&&void 0!==t?t:i},dS=Object(rd.a)(window.WeakSet)?new window.WeakSet:[],lS={place(e){const t=sS(e);return Object(Cd.a)(dS)?dS.push(t):dS.add(t)},free(e){const t=sS(e);return Object(Cd.a)(dS)?dS.splice(dS.indexOf(t),1):dS.delete(t)},isFree(e){const t=sS(e);return Object(Cd.a)(dS)?-1===dS.indexOf(t):!1===dS.has(t)}},cS=(e,t)=>{Object(Ko.a)("inPage: normalizeInPageConfig");const i=(e=>{if(!Object($o.a)(e))throw new qo.a({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=Gi(Y(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&c(e.vastUrl)&&(i=Object(ls.b)(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:n}=e;if(void 0!==n&&(!Z(n)||n>=1))throw new qo.a({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:n}});return Wo({},e,{controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!==n&&void 0!==n?n:0})})(t),{insertPosition:n,insertAfter:r}=i;aS(r)&&Xo.c.event({name:"InPageInsertAfterIsSerializedUndefined",data:{containerElementOrId:String(e),insertPosition:n,insertAfter:r}}),Object(Ko.a)("inPage: prepareGetOrCreateContainerElementParams");const a=oS({insertPosition:n,insertAfter:r,containerElementOrId:e});if(!(e=>Boolean(e.insertAfter||e.insertInto))(a))throw new qo.a({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:n,insertAfter:r}});if(!lS.isFree(a))throw new qo.a({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:n,insertAfter:r}});lS.place(a);const o=(e=>{let{insertAfter:t,insertInto:i,win:n=window}=e;if(void 0===t||null===t)return i;const r=n.document.createElement("div");return t.parentNode.insertBefore(r,t.nextSibling)})(a),s=o.getBoundingClientRect();if(0===s.width)throw new qo.a({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:r,insertPosition:n,containerRect:s}});Object(Ko.a)("inPage: create InPageLayout");const d=document.createElement("div");o.appendChild(d);const l=new rS(d);return l.addDestroyHandler(()=>{lS.free(a)}),{layout:l,adConfig:i,initialContainerRect:s,containerElementByParams:o}};!function(e,t){st({videoAd:{loadedModules:{[e]:t},modules:{[Ps.a]:{[e]:t}}}},"ya")}("InPage",{addInPageVideo:(e,t,i)=>{Object(Ko.a)("inPage: add inpage video");const n="function"===typeof i?Object(Qo.a)(i,"INPAGE_CALLBACK_ERROR"):zo.a;let r;try{r=cS(e,t)}catch(a){return Object(Ko.a)("inPage: prepareInPageParameters error=["+a+"]"),v(a),void n(a)}Xo.c.event({name:"AddInPageVideo",probability:Yo.a,data:{adConfig:t,containerElementOrId:String(e),containerRect:r.initialContainerRect}});try{const e=new eS(r);Object(Ko.a)("inPage: call public callback"),n(e.publicController),e.addDestroyHandler(e=>{Object(Go.a)(r.containerElementByParams),r.layout.destroy(),e&&(v(e),n(e))})}catch(a){Object(Ko.a)("inPage: create InPage error=["+a+"]"),Xo.c.error({error:new qo.a(a,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),n(a)}}})}]);