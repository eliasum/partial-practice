/*2025.05.20 11:25 IMM*/

function throttle(func, ms) {
  // throttle –ø–æ–ª—É—á–∞–µ—Ç –¥–≤–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  // func ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ "—Ç–æ—Ä–º–æ–∑–∏—Ç—å"
  // ms ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)

  return function (...args) {
    // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è ‚Äî "–æ–±—ë—Ä—Ç–∫–∞", –∫–æ—Ç–æ—Ä—É—é –≤–µ—Ä–Ω—ë—Ç throttle
    // –ï—ë –∏ –±—É–¥–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

    // –í–Ω—É—Ç—Ä–∏ –æ–±—ë—Ä—Ç–∫–∏ –≤—ã–∑—ã–≤–∞–µ–º func
    // apply –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å:
    // - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç this (–≤–¥—Ä—É–≥ func ‚Äî –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞)
    // - —Å–ø–∏—Å–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
    func.apply(this, args);
  };
}

function log(a){
  console.log(a);
}

let throttledLog = throttle(log,1000);

throttledLog(1); // —Å—Ä–∞–∑—É –≤—ã–≤–µ–¥–µ—Ç 1
throttledLog(2); // —Å—Ä–∞–∑—É –≤—ã–≤–µ–¥–µ—Ç 2
throttledLog(3); // —Å—Ä–∞–∑—É –≤—ã–≤–µ–¥–µ—Ç 3

// üìç –ü–æ–∫–∞ —á—Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –æ–±—ë—Ä—Ç–∫–∞ –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.
// –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ ‚Äî –¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é-—Ñ–ª–∞–≥, —á—Ç–æ–±—ã –∑–∞–ø—Ä–µ—Ç–∏—Ç—å –≤—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ ms.