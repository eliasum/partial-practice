!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,r){t.o(e,i)||Object.defineProperty(e,i,{enumerable:!0,get:r})},t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,i){if(1&i&&(e=t(e)),8&i)return e;if(4&i&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&i&&"string"!=typeof e)for(var n in e)t.d(r,n,function(t){return e[t]}.bind(null,n));return r},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=226)}([function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={NORMAL_BUTTON_HEIGHT:"32px",MIDDLE_BUTTON_HEIGHT:"40px",NORMAL_BUTTON_LEFT_RIGHT_MARGIN:"8px",MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:"12px"}},function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}},function(e,t,i){"use strict";function r(e,t){var i,r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"===typeof btoa){var o=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(a).concat([o]).join("\n")}return[r].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=r(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,i){"string"===typeof e&&(e=[[null,e,""]]);for(var r={},n=0;n<this.length;n++){var o=this[n][0];null!=o&&(r[o]=!0)}for(n=0;n<e.length;n++){var a=e[n];null!=a[0]&&r[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(e,t,i){function r(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return a(e,t,i)}var o=i(6),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n),n.prototype=Object.create(a.prototype),r(a,n),n.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},n.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"===typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},n.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,i){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}function o(e,t,i){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(i=t,t=10),this._init(e||0,t||10,i||"be"))}function a(e,t,i){for(var r=0,n=Math.min(e.length,i),o=t;o<n;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(e,t,i,r){for(var n=0,o=Math.min(e.length,i),a=t;a<o;a++){var s=e.charCodeAt(a)-48;n*=r,n+=s>=49?s-49+10:s>=17?s-17+10:s}return n}function d(e,t,i){i.negative=t.negative^e.negative;var r=e.length+t.length|0;i.length=r,r=r-1|0;var n=0|e.words[0],o=0|t.words[0],a=n*o,s=67108863&a,d=a/67108864|0;i.words[0]=s;for(var c=1;c<r;c++){for(var l=d>>>26,h=67108863&d,u=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=u;f++){var p=c-f|0;l+=(a=(n=0|e.words[p])*(o=0|t.words[f])+h)/67108864|0,h=67108863&a}i.words[c]=0|h,d=0|l}return 0!==d?i.words[c]=0|d:i.length--,i.strip()}function c(e,t,i){return(new l).mulp(e,t,i)}function l(e,t){this.x=e,this.y=t}function h(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function u(){h.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function f(){h.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function p(){h.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){h.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function v(e){g.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}var b;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{b=i(180).Buffer}catch(E){}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,i){if("number"===typeof e)return this._initNumber(e,t,i);if("object"===typeof e)return this._initArray(e,t,i);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip(),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initNumber=function(e,t,i){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===i&&this._initArray(this.toArray(),t,i)},o.prototype._initArray=function(e,t,i){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var o,a,s=0;if("be"===i)for(n=e.length-1,o=0;n>=0;n-=3)a=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===i)for(n=0,o=0;n<e.length;n+=3)a=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,n,o=0;for(i=e.length-6,r=0;i>=t;i-=6)n=a(e,i,i+6),this.words[r]|=n<<o&67108863,this.words[r+1]|=n>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);i+6!==t&&(n=a(e,t,i+6),this.words[r]|=n<<o&67108863,this.words[r+1]|=n>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,i){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=t)r++;r--,n=n/t|0;for(var o=e.length-i,a=o%r,d=Math.min(o,o-a)+i,c=0,l=i;l<d;l+=r)c=s(e,l,l+r,t),this.imuln(n),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var h=1;for(c=s(e,l,e.length,t),l=0;l<a;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var i;if(t=0|t||1,16===(e=e||10)||"hex"===e){i="";for(var n=0,o=0,a=0;a<this.length;a++){var s=this.words[a],d=(16777215&(s<<n|o)).toString(16);i=0!==(o=s>>>24-n&16777215)||a!==this.length-1?y[6-d.length]+d+i:d+i,(n+=2)>=26&&(n-=26,a--)}for(0!==o&&(i=o.toString(16)+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}if(e===(0|e)&&e>=2&&e<=36){var c=A[e],l=_[e];i="";var h=this.clone();for(h.negative=0;!h.isZero();){var u=h.modn(l).toString(e);i=(h=h.idivn(l)).isZero()?u+i:y[c-u.length]+u+i}for(this.isZero()&&(i="0"+i);i.length%t!==0;)i="0"+i;return 0!==this.negative&&(i="-"+i),i}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof b),this.toArrayLike(b,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,i){var n=this.byteLength(),o=i||Math.max(1,n);r(n<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,d="le"===t,c=new e(o),l=this.clone();if(d){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-n;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,i=0;return t>=4096&&(i+=13,t>>>=13),t>=64&&(i+=7,t>>>=7),t>=8&&(i+=4,t>>>=4),t>=2&&(i+=2,t>>>=2),i+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,i=0;return 0===(8191&t)&&(i+=13,t>>>=13),0===(127&t)&&(i+=7,t>>>=7),0===(15&t)&&(i+=4,t>>>=4),0===(3&t)&&(i+=2,t>>>=2),0===(1&t)&&i++,i},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var i=this._zeroBits(this.words[t]);if(e+=i,26!==i)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]&e.words[i];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,i;this.length>e.length?(t=this,i=e):(t=e,i=this);for(var r=0;r<i.length;r++)this.words[r]=t.words[r]^i.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),i=e%26;this._expand(t),i>0&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return i>0&&(this.words[n]=~this.words[n]&67108863>>26-i),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var i=e/26|0,n=e%26;return this._expand(i+1),this.words[i]=t?this.words[i]|1<<n:this.words[i]&~(1<<n),this.strip()},o.prototype.iadd=function(e){var t,i,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(i=this,r=e):(i=e,r=this);for(var n=0,o=0;o<r.length;o++)t=(0|i.words[o])+(0|r.words[o])+n,this.words[o]=67108863&t,n=t>>>26;for(;0!==n&&o<i.length;o++)t=(0|i.words[o])+n,this.words[o]=67108863&t,n=t>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var i,r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,r=e):(i=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|i.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<i.length;a++)o=(t=(0|i.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<i.length&&i!==this)for(;a<i.length;a++)this.words[a]=i.words[a];return this.length=Math.max(this.length,a),i!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var w=function(e,t,i){var r,n,o,a=e.words,s=t.words,d=i.words,c=0,l=0|a[0],h=8191&l,u=l>>>13,f=0|a[1],p=8191&f,m=f>>>13,g=0|a[2],v=8191&g,b=g>>>13,y=0|a[3],A=8191&y,_=y>>>13,w=0|a[4],S=8191&w,E=w>>>13,T=0|a[5],C=8191&T,I=T>>>13,k=0|a[6],P=8191&k,O=k>>>13,D=0|a[7],R=8191&D,N=D>>>13,M=0|a[8],V=8191&M,B=M>>>13,x=0|a[9],L=8191&x,U=x>>>13,F=0|s[0],H=8191&F,j=F>>>13,z=0|s[1],W=8191&z,Y=z>>>13,G=0|s[2],q=8191&G,K=G>>>13,X=0|s[3],Q=8191&X,J=X>>>13,Z=0|s[4],$=8191&Z,ee=Z>>>13,te=0|s[5],ie=8191&te,re=te>>>13,ne=0|s[6],oe=8191&ne,ae=ne>>>13,se=0|s[7],de=8191&se,ce=se>>>13,le=0|s[8],he=8191&le,ue=le>>>13,fe=0|s[9],pe=8191&fe,me=fe>>>13;i.negative=e.negative^t.negative,i.length=19;var ge=(c+(r=Math.imul(h,H))|0)+((8191&(n=(n=Math.imul(h,j))+Math.imul(u,H)|0))<<13)|0;c=((o=Math.imul(u,j))+(n>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,H),n=(n=Math.imul(p,j))+Math.imul(m,H)|0,o=Math.imul(m,j);var ve=(c+(r=r+Math.imul(h,W)|0)|0)+((8191&(n=(n=n+Math.imul(h,Y)|0)+Math.imul(u,W)|0))<<13)|0;c=((o=o+Math.imul(u,Y)|0)+(n>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,H),n=(n=Math.imul(v,j))+Math.imul(b,H)|0,o=Math.imul(b,j),r=r+Math.imul(p,W)|0,n=(n=n+Math.imul(p,Y)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,Y)|0;var be=(c+(r=r+Math.imul(h,q)|0)|0)+((8191&(n=(n=n+Math.imul(h,K)|0)+Math.imul(u,q)|0))<<13)|0;c=((o=o+Math.imul(u,K)|0)+(n>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(A,H),n=(n=Math.imul(A,j))+Math.imul(_,H)|0,o=Math.imul(_,j),r=r+Math.imul(v,W)|0,n=(n=n+Math.imul(v,Y)|0)+Math.imul(b,W)|0,o=o+Math.imul(b,Y)|0,r=r+Math.imul(p,q)|0,n=(n=n+Math.imul(p,K)|0)+Math.imul(m,q)|0,o=o+Math.imul(m,K)|0;var ye=(c+(r=r+Math.imul(h,Q)|0)|0)+((8191&(n=(n=n+Math.imul(h,J)|0)+Math.imul(u,Q)|0))<<13)|0;c=((o=o+Math.imul(u,J)|0)+(n>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(S,H),n=(n=Math.imul(S,j))+Math.imul(E,H)|0,o=Math.imul(E,j),r=r+Math.imul(A,W)|0,n=(n=n+Math.imul(A,Y)|0)+Math.imul(_,W)|0,o=o+Math.imul(_,Y)|0,r=r+Math.imul(v,q)|0,n=(n=n+Math.imul(v,K)|0)+Math.imul(b,q)|0,o=o+Math.imul(b,K)|0,r=r+Math.imul(p,Q)|0,n=(n=n+Math.imul(p,J)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,J)|0;var Ae=(c+(r=r+Math.imul(h,$)|0)|0)+((8191&(n=(n=n+Math.imul(h,ee)|0)+Math.imul(u,$)|0))<<13)|0;c=((o=o+Math.imul(u,ee)|0)+(n>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(C,H),n=(n=Math.imul(C,j))+Math.imul(I,H)|0,o=Math.imul(I,j),r=r+Math.imul(S,W)|0,n=(n=n+Math.imul(S,Y)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(A,q)|0,n=(n=n+Math.imul(A,K)|0)+Math.imul(_,q)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(v,Q)|0,n=(n=n+Math.imul(v,J)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,J)|0,r=r+Math.imul(p,$)|0,n=(n=n+Math.imul(p,ee)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,ee)|0;var _e=(c+(r=r+Math.imul(h,ie)|0)|0)+((8191&(n=(n=n+Math.imul(h,re)|0)+Math.imul(u,ie)|0))<<13)|0;c=((o=o+Math.imul(u,re)|0)+(n>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(P,H),n=(n=Math.imul(P,j))+Math.imul(O,H)|0,o=Math.imul(O,j),r=r+Math.imul(C,W)|0,n=(n=n+Math.imul(C,Y)|0)+Math.imul(I,W)|0,o=o+Math.imul(I,Y)|0,r=r+Math.imul(S,q)|0,n=(n=n+Math.imul(S,K)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(A,Q)|0,n=(n=n+Math.imul(A,J)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,J)|0,r=r+Math.imul(v,$)|0,n=(n=n+Math.imul(v,ee)|0)+Math.imul(b,$)|0,o=o+Math.imul(b,ee)|0,r=r+Math.imul(p,ie)|0,n=(n=n+Math.imul(p,re)|0)+Math.imul(m,ie)|0,o=o+Math.imul(m,re)|0;var we=(c+(r=r+Math.imul(h,oe)|0)|0)+((8191&(n=(n=n+Math.imul(h,ae)|0)+Math.imul(u,oe)|0))<<13)|0;c=((o=o+Math.imul(u,ae)|0)+(n>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(R,H),n=(n=Math.imul(R,j))+Math.imul(N,H)|0,o=Math.imul(N,j),r=r+Math.imul(P,W)|0,n=(n=n+Math.imul(P,Y)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,Y)|0,r=r+Math.imul(C,q)|0,n=(n=n+Math.imul(C,K)|0)+Math.imul(I,q)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(S,Q)|0,n=(n=n+Math.imul(S,J)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(A,$)|0,n=(n=n+Math.imul(A,ee)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(v,ie)|0,n=(n=n+Math.imul(v,re)|0)+Math.imul(b,ie)|0,o=o+Math.imul(b,re)|0,r=r+Math.imul(p,oe)|0,n=(n=n+Math.imul(p,ae)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,ae)|0;var Se=(c+(r=r+Math.imul(h,de)|0)|0)+((8191&(n=(n=n+Math.imul(h,ce)|0)+Math.imul(u,de)|0))<<13)|0;c=((o=o+Math.imul(u,ce)|0)+(n>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(V,H),n=(n=Math.imul(V,j))+Math.imul(B,H)|0,o=Math.imul(B,j),r=r+Math.imul(R,W)|0,n=(n=n+Math.imul(R,Y)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(P,q)|0,n=(n=n+Math.imul(P,K)|0)+Math.imul(O,q)|0,o=o+Math.imul(O,K)|0,r=r+Math.imul(C,Q)|0,n=(n=n+Math.imul(C,J)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,J)|0,r=r+Math.imul(S,$)|0,n=(n=n+Math.imul(S,ee)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(A,ie)|0,n=(n=n+Math.imul(A,re)|0)+Math.imul(_,ie)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(v,oe)|0,n=(n=n+Math.imul(v,ae)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,ae)|0,r=r+Math.imul(p,de)|0,n=(n=n+Math.imul(p,ce)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,ce)|0;var Ee=(c+(r=r+Math.imul(h,he)|0)|0)+((8191&(n=(n=n+Math.imul(h,ue)|0)+Math.imul(u,he)|0))<<13)|0;c=((o=o+Math.imul(u,ue)|0)+(n>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(L,H),n=(n=Math.imul(L,j))+Math.imul(U,H)|0,o=Math.imul(U,j),r=r+Math.imul(V,W)|0,n=(n=n+Math.imul(V,Y)|0)+Math.imul(B,W)|0,o=o+Math.imul(B,Y)|0,r=r+Math.imul(R,q)|0,n=(n=n+Math.imul(R,K)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,K)|0,r=r+Math.imul(P,Q)|0,n=(n=n+Math.imul(P,J)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,J)|0,r=r+Math.imul(C,$)|0,n=(n=n+Math.imul(C,ee)|0)+Math.imul(I,$)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(S,ie)|0,n=(n=n+Math.imul(S,re)|0)+Math.imul(E,ie)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(A,oe)|0,n=(n=n+Math.imul(A,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(v,de)|0,n=(n=n+Math.imul(v,ce)|0)+Math.imul(b,de)|0,o=o+Math.imul(b,ce)|0,r=r+Math.imul(p,he)|0,n=(n=n+Math.imul(p,ue)|0)+Math.imul(m,he)|0,o=o+Math.imul(m,ue)|0;var Te=(c+(r=r+Math.imul(h,pe)|0)|0)+((8191&(n=(n=n+Math.imul(h,me)|0)+Math.imul(u,pe)|0))<<13)|0;c=((o=o+Math.imul(u,me)|0)+(n>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(L,W),n=(n=Math.imul(L,Y))+Math.imul(U,W)|0,o=Math.imul(U,Y),r=r+Math.imul(V,q)|0,n=(n=n+Math.imul(V,K)|0)+Math.imul(B,q)|0,o=o+Math.imul(B,K)|0,r=r+Math.imul(R,Q)|0,n=(n=n+Math.imul(R,J)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(P,$)|0,n=(n=n+Math.imul(P,ee)|0)+Math.imul(O,$)|0,o=o+Math.imul(O,ee)|0,r=r+Math.imul(C,ie)|0,n=(n=n+Math.imul(C,re)|0)+Math.imul(I,ie)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(S,oe)|0,n=(n=n+Math.imul(S,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(A,de)|0,n=(n=n+Math.imul(A,ce)|0)+Math.imul(_,de)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(v,he)|0,n=(n=n+Math.imul(v,ue)|0)+Math.imul(b,he)|0,o=o+Math.imul(b,ue)|0;var Ce=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(n=(n=n+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((o=o+Math.imul(m,me)|0)+(n>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(L,q),n=(n=Math.imul(L,K))+Math.imul(U,q)|0,o=Math.imul(U,K),r=r+Math.imul(V,Q)|0,n=(n=n+Math.imul(V,J)|0)+Math.imul(B,Q)|0,o=o+Math.imul(B,J)|0,r=r+Math.imul(R,$)|0,n=(n=n+Math.imul(R,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(P,ie)|0,n=(n=n+Math.imul(P,re)|0)+Math.imul(O,ie)|0,o=o+Math.imul(O,re)|0,r=r+Math.imul(C,oe)|0,n=(n=n+Math.imul(C,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(S,de)|0,n=(n=n+Math.imul(S,ce)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(A,he)|0,n=(n=n+Math.imul(A,ue)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,ue)|0;var Ie=(c+(r=r+Math.imul(v,pe)|0)|0)+((8191&(n=(n=n+Math.imul(v,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,me)|0)+(n>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(L,Q),n=(n=Math.imul(L,J))+Math.imul(U,Q)|0,o=Math.imul(U,J),r=r+Math.imul(V,$)|0,n=(n=n+Math.imul(V,ee)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,ee)|0,r=r+Math.imul(R,ie)|0,n=(n=n+Math.imul(R,re)|0)+Math.imul(N,ie)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(P,oe)|0,n=(n=n+Math.imul(P,ae)|0)+Math.imul(O,oe)|0,o=o+Math.imul(O,ae)|0,r=r+Math.imul(C,de)|0,n=(n=n+Math.imul(C,ce)|0)+Math.imul(I,de)|0,o=o+Math.imul(I,ce)|0,r=r+Math.imul(S,he)|0,n=(n=n+Math.imul(S,ue)|0)+Math.imul(E,he)|0,o=o+Math.imul(E,ue)|0;var ke=(c+(r=r+Math.imul(A,pe)|0)|0)+((8191&(n=(n=n+Math.imul(A,me)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,me)|0)+(n>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(L,$),n=(n=Math.imul(L,ee))+Math.imul(U,$)|0,o=Math.imul(U,ee),r=r+Math.imul(V,ie)|0,n=(n=n+Math.imul(V,re)|0)+Math.imul(B,ie)|0,o=o+Math.imul(B,re)|0,r=r+Math.imul(R,oe)|0,n=(n=n+Math.imul(R,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,r=r+Math.imul(P,de)|0,n=(n=n+Math.imul(P,ce)|0)+Math.imul(O,de)|0,o=o+Math.imul(O,ce)|0,r=r+Math.imul(C,he)|0,n=(n=n+Math.imul(C,ue)|0)+Math.imul(I,he)|0,o=o+Math.imul(I,ue)|0;var Pe=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(n=(n=n+Math.imul(S,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,me)|0)+(n>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(L,ie),n=(n=Math.imul(L,re))+Math.imul(U,ie)|0,o=Math.imul(U,re),r=r+Math.imul(V,oe)|0,n=(n=n+Math.imul(V,ae)|0)+Math.imul(B,oe)|0,o=o+Math.imul(B,ae)|0,r=r+Math.imul(R,de)|0,n=(n=n+Math.imul(R,ce)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,ce)|0,r=r+Math.imul(P,he)|0,n=(n=n+Math.imul(P,ue)|0)+Math.imul(O,he)|0,o=o+Math.imul(O,ue)|0;var Oe=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(n=(n=n+Math.imul(C,me)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,me)|0)+(n>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(L,oe),n=(n=Math.imul(L,ae))+Math.imul(U,oe)|0,o=Math.imul(U,ae),r=r+Math.imul(V,de)|0,n=(n=n+Math.imul(V,ce)|0)+Math.imul(B,de)|0,o=o+Math.imul(B,ce)|0,r=r+Math.imul(R,he)|0,n=(n=n+Math.imul(R,ue)|0)+Math.imul(N,he)|0,o=o+Math.imul(N,ue)|0;var De=(c+(r=r+Math.imul(P,pe)|0)|0)+((8191&(n=(n=n+Math.imul(P,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((o=o+Math.imul(O,me)|0)+(n>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(L,de),n=(n=Math.imul(L,ce))+Math.imul(U,de)|0,o=Math.imul(U,ce),r=r+Math.imul(V,he)|0,n=(n=n+Math.imul(V,ue)|0)+Math.imul(B,he)|0,o=o+Math.imul(B,ue)|0;var Re=(c+(r=r+Math.imul(R,pe)|0)|0)+((8191&(n=(n=n+Math.imul(R,me)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,me)|0)+(n>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(L,he),n=(n=Math.imul(L,ue))+Math.imul(U,he)|0,o=Math.imul(U,ue);var Ne=(c+(r=r+Math.imul(V,pe)|0)|0)+((8191&(n=(n=n+Math.imul(V,me)|0)+Math.imul(B,pe)|0))<<13)|0;c=((o=o+Math.imul(B,me)|0)+(n>>>13)|0)+(Ne>>>26)|0,Ne&=67108863;var Me=(c+(r=Math.imul(L,pe))|0)+((8191&(n=(n=Math.imul(L,me))+Math.imul(U,pe)|0))<<13)|0;return c=((o=Math.imul(U,me))+(n>>>13)|0)+(Me>>>26)|0,Me&=67108863,d[0]=ge,d[1]=ve,d[2]=be,d[3]=ye,d[4]=Ae,d[5]=_e,d[6]=we,d[7]=Se,d[8]=Ee,d[9]=Te,d[10]=Ce,d[11]=Ie,d[12]=ke,d[13]=Pe,d[14]=Oe,d[15]=De,d[16]=Re,d[17]=Ne,d[18]=Me,0!==c&&(d[19]=c,i.length++),i};Math.imul||(w=d),o.prototype.mulTo=function(e,t){var i=this.length+e.length;return 10===this.length&&10===e.length?w(this,e,t):i<63?d(this,e,t):i<1024?function(e,t,i){i.negative=t.negative^e.negative,i.length=e.length+t.length;for(var r=0,n=0,o=0;o<i.length-1;o++){var a=n;n=0;for(var s=67108863&r,d=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=d;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),u=67108863&h;s=67108863&(u=u+s|0),n+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}i.words[o]=s,r=a,a=n}return 0!==r?i.words[o]=r:i.length--,i.strip()}(this,e,t):c(this,e,t)},l.prototype.makeRBT=function(e){for(var t=new Array(e),i=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,i,e);return t},l.prototype.revBin=function(e,t,i){if(0===e||e===i-1)return e;for(var r=0,n=0;n<t;n++)r|=(1&e)<<t-n-1,e>>=1;return r},l.prototype.permute=function(e,t,i,r,n,o){for(var a=0;a<o;a++)r[a]=t[e[a]],n[a]=i[e[a]]},l.prototype.transform=function(e,t,i,r,n,o){this.permute(o,e,t,i,r,n);for(var a=1;a<n;a<<=1)for(var s=a<<1,d=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<n;l+=s)for(var h=d,u=c,f=0;f<a;f++){var p=i[l+f],m=r[l+f],g=i[l+f+a],v=r[l+f+a],b=h*g-u*v;v=h*v+u*g,g=b,i[l+f]=p+g,r[l+f]=m+v,i[l+f+a]=p-g,r[l+f+a]=m-v,f!==s&&(b=d*h-c*u,u=d*u+c*h,h=b)}},l.prototype.guessLen13b=function(e,t){var i=1|Math.max(t,e),r=1&i,n=0;for(i=i/2|0;i;i>>>=1)n++;return 1<<n+1+r},l.prototype.conjugate=function(e,t,i){if(!(i<=1))for(var r=0;r<i/2;r++){var n=e[r];e[r]=e[i-r-1],e[i-r-1]=n,n=t[r],t[r]=-t[i-r-1],t[i-r-1]=-n}},l.prototype.normalize13b=function(e,t){for(var i=0,r=0;r<t/2;r++){var n=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+i;e[r]=67108863&n,i=n<67108864?0:n/67108864|0}return e},l.prototype.convert13b=function(e,t,i,n){for(var o=0,a=0;a<t;a++)o+=0|e[a],i[2*a]=8191&o,o>>>=13,i[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<n;++a)i[a]=0;r(0===o),r(0===(-8192&o))},l.prototype.stub=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=0;return t},l.prototype.mulp=function(e,t,i){var r=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),d=new Array(r),c=new Array(r),l=new Array(r),h=new Array(r),u=i.words;u.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,d,r,n),this.transform(c,o,l,h,r,n);for(var f=0;f<r;f++){var p=s[f]*l[f]-d[f]*h[f];d[f]=s[f]*h[f]+d[f]*l[f],s[f]=p}return this.conjugate(s,d,r),this.transform(s,d,u,o,r,n),this.conjugate(u,o,r),this.normalize13b(u,r),i.negative=e.negative^t.negative,i.length=e.length+t.length,i.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),c(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,i=0;i<this.length;i++){var n=(0|this.words[i])*e,o=(67108863&n)+(67108863&t);t>>=26,t+=n/67108864|0,t+=o>>>26,this.words[i]=67108863&o}return 0!==t&&(this.words[i]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),i=0;i<t.length;i++){var r=i/26|0,n=i%26;t[i]=(e.words[r]&1<<n)>>>n}return t}(e);if(0===t.length)return new o(1);for(var i=this,r=0;r<t.length&&0===t[r];r++,i=i.sqr());if(++r<t.length)for(var n=i.sqr();r<t.length;r++,n=n.sqr())0!==t[r]&&(i=i.mul(n));return i},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,i=e%26,n=(e-i)/26,o=67108863>>>26-i<<26-i;if(0!==i){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,d=(0|this.words[t])-s<<i;this.words[t]=d|a,a=s>>>26-i}a&&(this.words[t]=a,this.length++)}if(0!==n){for(t=this.length-1;t>=0;t--)this.words[t+n]=this.words[t];for(t=0;t<n;t++)this.words[t]=0;this.length+=n}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,i){var n;r("number"===typeof e&&e>=0),n=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,d=i;if(n-=a,n=Math.max(0,n),d){for(var c=0;c<a;c++)d.words[c]=this.words[c];d.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=n);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return d&&0!==l&&(d.words[d.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,i){return r(0===this.negative),this.iushrn(e,t,i)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26,n=1<<t;return!(this.length<=i)&&!!(this.words[i]&n)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,i=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=i)return this;if(0!==t&&i++,this.length=Math.min(i,this.length),0!==t){var n=67108863^67108863>>>t<<t;this.words[this.length-1]&=n}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,i){var n,o,a=e.length+i;this._expand(a);var s=0;for(n=0;n<e.length;n++){o=(0|this.words[n+i])+s;var d=(0|e.words[n])*t;s=((o-=67108863&d)>>26)-(d/67108864|0),this.words[n+i]=67108863&o}for(;n<this.length-i;n++)s=(o=(0|this.words[n+i])+s)>>26,this.words[n+i]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,n=0;n<this.length;n++)s=(o=-(0|this.words[n])+s)>>26,this.words[n]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var i=(this.length,e.length),r=this.clone(),n=e,a=0|n.words[n.length-1];0!==(i=26-this._countBits(a))&&(n=n.ushln(i),r.iushln(i),a=0|n.words[n.length-1]);var s,d=r.length-n.length;if("mod"!==t){(s=new o(null)).length=d+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(n,1,d);0===l.negative&&(r=l,s&&(s.words[d]=1));for(var h=d-1;h>=0;h--){var u=67108864*(0|r.words[n.length+h])+(0|r.words[n.length+h-1]);for(u=Math.min(u/a|0,67108863),r._ishlnsubmul(n,u,h);0!==r.negative;)u--,r.negative=0,r._ishlnsubmul(n,1,h),r.isZero()||(r.negative^=1);s&&(s.words[h]=u)}return s&&s.strip(),r.strip(),"div"!==t&&0!==i&&r.iushrn(i),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,i){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(n=s.div.neg()),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.iadd(e)),{div:n,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(n=s.div.neg()),{div:n,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),i&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var n,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var i=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),n=e.andln(1),o=i.cmp(r);return o<0||1===n&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,i=0,n=this.length-1;n>=0;n--)i=(t*i+(0|this.words[n]))%e;return i},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,i=this.length-1;i>=0;i--){var n=(0|this.words[i])+67108864*t;this.words[i]=n/e|0,t=n%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n=new o(1),a=new o(0),s=new o(0),d=new o(1),c=0;t.isEven()&&i.isEven();)t.iushrn(1),i.iushrn(1),++c;for(var l=i.clone(),h=t.clone();!t.isZero();){for(var u=0,f=1;0===(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)(n.isOdd()||a.isOdd())&&(n.iadd(l),a.isub(h)),n.iushrn(1),a.iushrn(1);for(var p=0,m=1;0===(i.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(i.iushrn(p);p-- >0;)(s.isOdd()||d.isOdd())&&(s.iadd(l),d.isub(h)),s.iushrn(1),d.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(s),a.isub(d)):(i.isub(t),s.isub(n),d.isub(a))}return{a:s,b:d,gcd:i.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,i=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var n,a=new o(1),s=new o(0),d=i.clone();t.cmpn(1)>0&&i.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(d),a.iushrn(1);for(var h=0,u=1;0===(i.words[0]&u)&&h<26;++h,u<<=1);if(h>0)for(i.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);t.cmp(i)>=0?(t.isub(i),a.isub(s)):(i.isub(t),s.isub(a))}return(n=0===t.cmpn(1)?a:s).cmpn(0)<0&&n.iadd(e),n},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),i=e.clone();t.negative=0,i.negative=0;for(var r=0;t.isEven()&&i.isEven();r++)t.iushrn(1),i.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=t.cmp(i);if(n<0){var o=t;t=i,i=o}else if(0===n||0===i.cmpn(1))break;t.isub(i)}return i.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,i=(e-t)/26,n=1<<t;if(this.length<=i)return this._expand(i+1),this.words[i]|=n,this;for(var o=n,a=i;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,i=e<0;if(0!==this.negative&&!i)return-1;if(0===this.negative&&i)return 1;if(this.strip(),this.length>1)t=1;else{i&&(e=-e),r(e<=67108863,"Number is too big");var n=0|this.words[0];t=n===e?0:n<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,i=this.length-1;i>=0;i--){var r=0|this.words[i],n=0|e.words[i];if(r!==n){r<n?t=-1:r>n&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new g(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var S={k256:null,p224:null,p192:null,p25519:null};h.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},h.prototype.ireduce=function(e){var t,i=e;do{this.split(i,this.tmp),t=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:i.ucmp(this.p);return 0===r?(i.words[0]=0,i.length=1):r>0?i.isub(this.p):i.strip(),i},h.prototype.split=function(e,t){e.iushrn(this.n,0,t)},h.prototype.imulK=function(e){return e.imul(this.k)},n(u,h),u.prototype.split=function(e,t){for(var i=Math.min(e.length,9),r=0;r<i;r++)t.words[r]=e.words[r];if(t.length=i,e.length<=9)return e.words[0]=0,void(e.length=1);var n=e.words[9];for(t.words[t.length++]=4194303&n,r=10;r<e.length;r++){var o=0|e.words[r];e.words[r-10]=(4194303&o)<<4|n>>>22,n=o}n>>>=22,e.words[r-10]=n,0===n&&e.length>10?e.length-=10:e.length-=9},u.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,i=0;i<e.length;i++){var r=0|e.words[i];t+=977*r,e.words[i]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(f,h),n(p,h),n(m,h),m.prototype.imulK=function(e){for(var t=0,i=0;i<e.length;i++){var r=19*(0|e.words[i])+t,n=67108863&r;r>>>=26,e.words[i]=n,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(S[e])return S[e];var t;if("k256"===e)t=new u;else if("p224"===e)t=new f;else if("p192"===e)t=new p;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new m}return S[e]=t,t},g.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},g.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},g.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},g.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},g.prototype.add=function(e,t){this._verify2(e,t);var i=e.add(t);return i.cmp(this.m)>=0&&i.isub(this.m),i._forceRed(this)},g.prototype.iadd=function(e,t){this._verify2(e,t);var i=e.iadd(t);return i.cmp(this.m)>=0&&i.isub(this.m),i},g.prototype.sub=function(e,t){this._verify2(e,t);var i=e.sub(t);return i.cmpn(0)<0&&i.iadd(this.m),i._forceRed(this)},g.prototype.isub=function(e,t){this._verify2(e,t);var i=e.isub(t);return i.cmpn(0)<0&&i.iadd(this.m),i},g.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},g.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},g.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},g.prototype.isqr=function(e){return this.imul(e,e.clone())},g.prototype.sqr=function(e){return this.mul(e,e)},g.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var i=this.m.add(new o(1)).iushrn(2);return this.pow(e,i)}for(var n=this.m.subn(1),a=0;!n.isZero()&&0===n.andln(1);)a++,n.iushrn(1);r(!n.isZero());var s=new o(1).toRed(this),d=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(d);)l.redIAdd(d);for(var h=this.pow(l,n),u=this.pow(e,n.addn(1).iushrn(1)),f=this.pow(e,n),p=a;0!==f.cmp(s);){for(var m=f,g=0;0!==m.cmp(s);g++)m=m.redSqr();r(g<p);var v=this.pow(h,new o(1).iushln(p-g-1));u=u.redMul(v),h=v.redSqr(),f=f.redMul(h),p=g}return u},g.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},g.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var i=new Array(16);i[0]=new o(1).toRed(this),i[1]=e;for(var r=2;r<i.length;r++)i[r]=this.mul(i[r-1],e);var n=i[0],a=0,s=0,d=t.bitLength()%26;for(0===d&&(d=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=d-1;l>=0;l--){var h=c>>l&1;n!==i[0]&&(n=this.sqr(n)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===r&&0===l)&&(n=this.mul(n,i[a]),s=0,a=0)):s=0}d=26}return n},g.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},g.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new v(e)},n(v,g),v.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},v.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},v.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var i=e.imul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),o=n;return n.cmp(this.m)>=0?o=n.isub(this.m):n.cmpn(0)<0&&(o=n.iadd(this.m)),o._forceRed(this)},v.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var i=e.mul(t),r=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(r).iushrn(this.shift),a=n;return n.cmp(this.m)>=0?a=n.isub(this.m):n.cmpn(0)<0&&(a=n.iadd(this.m)),a._forceRed(this)},v.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,i(179)(e))},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={AD_FONT:'-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,i){"use strict";(function(e){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function n(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=o.prototype:(null===e&&(e=new o(t)),e.length=t),e}function o(e,t,i){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(e,t,i);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return a(this,e,t,i)}function a(e,t,i,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,i,r){if(t.byteLength,i<0||t.byteLength<i)throw new RangeError("'offset' is out of bounds");if(t.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===i&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,i):new Uint8Array(t,i,r);o.TYPED_ARRAY_SUPPORT?(e=t).__proto__=o.prototype:e=c(e,t);return e}(e,t,i,r):"string"===typeof t?function(e,t,i){"string"===typeof i&&""!==i||(i="utf8");if(!o.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,i),a=(e=n(e,r)).write(t,i);a!==r&&(e=e.slice(0,a));return e}(e,t,i):function(e,t){if(o.isBuffer(t)){var i=0|l(t.length);return 0===(e=n(e,i)).length?e:(t.copy(e,0,0,i),e)}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?n(e,0):c(e,t);if("Buffer"===t.type&&H(t.data))return c(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(s(t),e=n(e,t<0?0:0|l(t)),!o.TYPED_ARRAY_SUPPORT)for(var i=0;i<t;++i)e[i]=0;return e}function c(e,t){var i=t.length<0?0:0|l(t.length);e=n(e,i);for(var r=0;r<i;r+=1)e[r]=255&t[r];return e}function l(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function h(e,t){if(o.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return x(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function u(e,t,i){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,i);case"utf8":case"utf-8":return S(this,t,i);case"ascii":return E(this,t,i);case"latin1":case"binary":return T(this,t,i);case"base64":return w(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function f(e,t,i){var r=e[t];e[t]=e[i],e[i]=r}function p(e,t,i,r,n){if(0===e.length)return-1;if("string"===typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(n)return-1;i=e.length-1}else if(i<0){if(!n)return-1;i=0}if("string"===typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:m(e,t,i,r,n);if("number"===typeof t)return t&=255,o.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):m(e,[t],i,r,n);throw new TypeError("val must be string, number or Buffer")}function m(e,t,i,r,n){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,d=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,d/=2,c/=2,i/=2}if(n){var l=-1;for(a=i;a<d;a++)if(o(e,a)===o(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===c)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(i+c>d&&(i=d-c),a=i;a>=0;a--){for(var h=!0,u=0;u<c;u++)if(o(e,a+u)!==o(t,u)){h=!1;break}if(h)return a}return-1}function g(e,t,i,r){i=Number(i)||0;var n=e.length-i;r?(r=Number(r))>n&&(r=n):r=n;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[i+a]=s}return a}function v(e,t,i,r){return L(B(t,e.length-i),e,i,r)}function b(e,t,i,r){return L(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,r)}function y(e,t,i,r){return b(e,t,i,r)}function A(e,t,i,r){return L(x(t),e,i,r)}function _(e,t,i,r){return L(function(e,t){for(var i,r,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=e.charCodeAt(a),r=i>>8,n=i%256,o.push(n),o.push(r);return o}(t,e.length-i),e,i,r)}function w(e,t,i){return 0===t&&i===e.length?U.fromByteArray(e):U.fromByteArray(e.slice(t,i))}function S(e,t,i){i=Math.min(e.length,i);for(var r=[],n=t;n<i;){var o,a,s,d,c=e[n],l=null,h=c>239?4:c>223?3:c>191?2:1;if(n+h<=i)switch(h){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[n+1]))&&(d=(31&c)<<6|63&o)>127&&(l=d);break;case 3:o=e[n+1],a=e[n+2],128===(192&o)&&128===(192&a)&&(d=(15&c)<<12|(63&o)<<6|63&a)>2047&&(d<55296||d>57343)&&(l=d);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(d=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&d<1114112&&(l=d)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),n+=h}return function(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);var i="",r=0;for(;r<t;)i+=String.fromCharCode.apply(String,e.slice(r,r+=j));return i}(r)}function E(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(127&e[n]);return r}function T(e,t,i){var r="";i=Math.min(e.length,i);for(var n=t;n<i;++n)r+=String.fromCharCode(e[n]);return r}function C(e,t,i){var r=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>r)&&(i=r);for(var n="",o=t;o<i;++o)n+=V(e[o]);return n}function I(e,t,i){for(var r=e.slice(t,i),n="",o=0;o<r.length;o+=2)n+=String.fromCharCode(r[o]+256*r[o+1]);return n}function k(e,t,i){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,i,r,n,a){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<a)throw new RangeError('"value" argument is out of bounds');if(i+r>e.length)throw new RangeError("Index out of range")}function O(e,t,i,r){t<0&&(t=65535+t+1);for(var n=0,o=Math.min(e.length-i,2);n<o;++n)e[i+n]=(t&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function D(e,t,i,r){t<0&&(t=4294967295+t+1);for(var n=0,o=Math.min(e.length-i,4);n<o;++n)e[i+n]=t>>>8*(r?n:3-n)&255}function R(e,t,i,r,n,o){if(i+r>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(e,t,i,r,n){return n||R(e,0,i,4),F.write(e,t,i,r,23,4),i+4}function M(e,t,i,r,n){return n||R(e,0,i,8),F.write(e,t,i,r,52,8),i+8}function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var i;t=t||1/0;for(var r=e.length,n=null,o=[],a=0;a<r;++a){if((i=e.charCodeAt(a))>55295&&i<57344){if(!n){if(i>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}n=i;continue}if(i<56320){(t-=3)>-1&&o.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,i<128){if((t-=1)<0)break;o.push(i)}else if(i<2048){if((t-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function x(e){return U.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function L(e,t,i,r){for(var n=0;n<r&&!(n+i>=t.length||n>=e.length);++n)t[n+i]=e[n];return n}var U=i(138),F=i(139),H=i(140);t.Buffer=o,t.SlowBuffer=function(e){return+e!=e&&(e=0),o.alloc(+e)},t.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=r(),o.poolSize=8192,o._augment=function(e){return e.__proto__=o.prototype,e},o.from=function(e,t,i){return a(null,e,t,i)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(e,t,i){return function(e,t,i,r){return s(t),t<=0?n(e,t):void 0!==i?"string"===typeof r?n(e,t).fill(i,r):n(e,t).fill(i):n(e,t)}(null,e,t,i)},o.allocUnsafe=function(e){return d(null,e)},o.allocUnsafeSlow=function(e){return d(null,e)},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,t){if(!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,r=t.length,n=0,a=Math.min(i,r);n<a;++n)if(e[n]!==t[n]){i=e[n],r=t[n];break}return i<r?-1:r<i?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!H(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);var i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var r=o.allocUnsafe(t),n=0;for(i=0;i<e.length;++i){var a=e[i];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,n),n+=a.length}return r},o.byteLength=h,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},o.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},o.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},o.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):u.apply(this,arguments)},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){var e="",i=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e,t,i,r,n){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),t<0||i>e.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&t>=i)return 0;if(r>=n)return-1;if(t>=i)return 1;if(this===e)return 0;for(var a=(n>>>=0)-(r>>>=0),s=(i>>>=0)-(t>>>=0),d=Math.min(a,s),c=this.slice(r,n),l=e.slice(t,i),h=0;h<d;++h)if(c[h]!==l[h]){a=c[h],s=l[h];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},o.prototype.indexOf=function(e,t,i){return p(this,e,t,i,!0)},o.prototype.lastIndexOf=function(e,t,i){return p(this,e,t,i,!1)},o.prototype.write=function(e,t,i,r){if(void 0===t)r="utf8",i=this.length,t=0;else if(void 0===i&&"string"===typeof t)r=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-t;if((void 0===i||i>n)&&(i=n),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return g(this,e,t,i);case"utf8":case"utf-8":return v(this,e,t,i);case"ascii":return b(this,e,t,i);case"latin1":case"binary":return y(this,e,t,i);case"base64":return A(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;o.prototype.slice=function(e,t){var i,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),o.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=o.prototype;else{var n=t-e;i=new o(n,void 0);for(var a=0;a<n;++a)i[a]=this[a+e]}return i},o.prototype.readUIntLE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r},o.prototype.readUIntBE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e+--t],n=1;t>0&&(n*=256);)r+=this[e+--t]*n;return r},o.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=this[e],n=1,o=0;++o<t&&(n*=256);)r+=this[e+o]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,i){e|=0,t|=0,i||k(e,t,this.length);for(var r=t,n=1,o=this[e+--r];r>0&&(n*=256);)o+=this[e+--r]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},o.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},o.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),F.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),F.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),F.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),F.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||P(this,e,t,i,Math.pow(2,8*i)-1,0);var n=1,o=0;for(this[t]=255&e;++o<i&&(n*=256);)this[t+o]=e/n&255;return t+i},o.prototype.writeUIntBE=function(e,t,i,r){(e=+e,t|=0,i|=0,r)||P(this,e,t,i,Math.pow(2,8*i)-1,0);var n=i-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+i},o.prototype.writeUInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},o.prototype.writeUInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeUInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeUInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},o.prototype.writeUInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);P(this,e,t,i,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<i&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},o.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t|=0,!r){var n=Math.pow(2,8*i-1);P(this,e,t,i,n-1,-n)}var o=i-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+i},o.prototype.writeInt8=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):O(this,e,t,!0),t+2},o.prototype.writeInt16BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):O(this,e,t,!1),t+2},o.prototype.writeInt32LE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},o.prototype.writeInt32BE=function(e,t,i){return e=+e,t|=0,i||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},o.prototype.writeFloatLE=function(e,t,i){return N(this,e,t,!0,i)},o.prototype.writeFloatBE=function(e,t,i){return N(this,e,t,!1,i)},o.prototype.writeDoubleLE=function(e,t,i){return M(this,e,t,!0,i)},o.prototype.writeDoubleBE=function(e,t,i){return M(this,e,t,!1,i)},o.prototype.copy=function(e,t,i,r){if(i||(i=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);var n,a=r-i;if(this===e&&i<t&&t<r)for(n=a-1;n>=0;--n)e[n+t]=this[n+i];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(n=0;n<a;++n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,i+a),t);return a},o.prototype.fill=function(e,t,i,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,i=this.length):"string"===typeof i&&(r=i,i=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var a;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"===typeof e)for(a=t;a<i;++a)this[a]=e;else{var s=o.isBuffer(e)?e:B(new o(e,r).toString()),d=s.length;for(a=0;a<i-t;++a)this[a+t]=s[a%d]}return this};var z=/[^+\/0-9A-Za-z-_]/g}).call(this,i(11))},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={STICKY_ANIMATION_DURATION_STYLE_VALUE:"400ms",STICKY_ANIMATION_HALF_DURATION:"200ms"}},function(e,t){function i(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=i,i.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}},function(e,t,i){"use strict";var r=t,n=i(4),o=i(8),a=i(106);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t){for(var i=[],r=1<<t+1,n=e.clone();n.cmpn(1)>=0;){var o;if(n.isOdd()){var a=n.andln(r-1);o=a>(r>>1)-1?(r>>1)-a:a,n.isubn(o)}else o=0;i.push(o);for(var s=0!==n.cmpn(0)&&0===n.andln(r-1)?t+1:1,d=1;d<s;d++)i.push(0);n.iushrn(s)}return i},r.getJSF=function(e,t){var i=[[],[]];e=e.clone(),t=t.clone();for(var r=0,n=0;e.cmpn(-r)>0||t.cmpn(-n)>0;){var o,a,s,d=e.andln(3)+r&3,c=t.andln(3)+n&3;if(3===d&&(d=-1),3===c&&(c=-1),0===(1&d))o=0;else o=3!==(s=e.andln(7)+r&7)&&5!==s||2!==c?d:-d;if(i[0].push(o),0===(1&c))a=0;else a=3!==(s=t.andln(7)+n&7)&&5!==s||2!==d?c:-c;i[1].push(a),2*r===o+1&&(r=1-r),2*n===a+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return i},r.cachedProperty=function(e,t,i){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=i.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new n(e,"hex","le")}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(5),""),t.push([e.i,".sl4ScfdLX{position:absolute;top:0;left:0;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;color:#fff;font-weight:300;font-family:"+i(5).locals.AD_FONT+";background-color:rgba(0,0,0,.8);pointer-events:auto}.ISH{position:absolute;top:45px;bottom:0;left:60px}.jKkSxxgF46{position:relative;top:0;left:0;display:flex;flex-direction:column;justify-content:center}.L91Q9pBi6{text-align:center}.jmWjR2Tv{width:calc(100% + 8px);margin-left:-4px}.ACujC{margin:1px 0}.zCttep{width:100%;height:100%}.oj5slbhDqX{position:absolute;top:0;right:0;width:14px;height:14px;padding:8px;cursor:pointer}.fzjJU{width:17px;height:17px;padding:9px}",""]),t.locals={AD_FONT:""+i(5).locals.AD_FONT,AbuseScreen:"sl4ScfdLX",AbuseScreen__content:"ISH",AbuseScreen__content_centered:"jKkSxxgF46",AbuseScreen__title_centered:"L91Q9pBi6",AbuseScreen__buttons:"jmWjR2Tv",AbuseScreen__button:"ACujC",AbuseScreen__cross:"zCttep",AbuseScreen__crossContainer:"oj5slbhDqX",AbuseScreen__crossContainer_medium:"fzjJU"}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";function r(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function n(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function o(e){return 1===e.length?"0"+e:e}function a(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var s=i(8),d=i(1);t.inherits=d,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),o=0;o<e.length;o+=2)i.push(parseInt(e[o]+e[o+1],16))}else for(var n=0,o=0;o<e.length;o++){var a=e.charCodeAt(o);a<128?i[n++]=a:a<2048?(i[n++]=a>>6|192,i[n++]=63&a|128):r(e,o)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++o)),i[n++]=a>>18|240,i[n++]=a>>12&63|128,i[n++]=a>>6&63|128,i[n++]=63&a|128):(i[n++]=a>>12|224,i[n++]=a>>6&63|128,i[n++]=63&a|128)}else for(o=0;o<e.length;o++)i[o]=0|e[o];return i},t.toHex=function(e){for(var t="",i=0;i<e.length;i++)t+=o(e[i].toString(16));return t},t.htonl=n,t.toHex32=function(e,t){for(var i="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=n(o)),i+=a(o.toString(16))}return i},t.zero2=o,t.zero8=a,t.join32=function(e,t,i,r){var n=i-t;s(n%4===0);for(var o=new Array(n/4),a=0,d=t;a<o.length;a++,d+=4){var c;c="big"===r?e[d]<<24|e[d+1]<<16|e[d+2]<<8|e[d+3]:e[d+3]<<24|e[d+2]<<16|e[d+1]<<8|e[d],o[a]=c>>>0}return o},t.split32=function(e,t){for(var i=new Array(4*e.length),r=0,n=0;r<e.length;r++,n+=4){var o=e[r];"big"===t?(i[n]=o>>>24,i[n+1]=o>>>16&255,i[n+2]=o>>>8&255,i[n+3]=255&o):(i[n+3]=o>>>24,i[n+2]=o>>>16&255,i[n+1]=o>>>8&255,i[n]=255&o)}return i},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,i){return e+t+i>>>0},t.sum32_4=function(e,t,i,r){return e+t+i+r>>>0},t.sum32_5=function(e,t,i,r,n){return e+t+i+r+n>>>0},t.sum64=function(e,t,i,r){var n=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+i+n;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,i,r){return(t+r>>>0<t?1:0)+e+i>>>0},t.sum64_lo=function(e,t,i,r){return t+r>>>0},t.sum64_4_hi=function(e,t,i,r,n,o,a,s){var d=0,c=t;return d+=(c=c+r>>>0)<t?1:0,d+=(c=c+o>>>0)<o?1:0,e+i+n+a+(d+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,i,r,n,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,i,r,n,o,a,s,d,c){var l=0,h=t;return l+=(h=h+r>>>0)<t?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+s>>>0)<s?1:0,e+i+n+a+d+(l+=(h=h+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,i,r,n,o,a,s,d,c){return t+r+o+s+c>>>0},t.rotr64_hi=function(e,t,i){return(t<<32-i|e>>>i)>>>0},t.rotr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0},t.shr64_hi=function(e,t,i){return e>>>i},t.shr64_lo=function(e,t,i){return(e<<32-i|t>>>i)>>>0}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".e7dy3LPe{position:static}.vTrpzwW{display:flex;align-items:center;justify-content:center}.Sf5eDqI{position:relative;bottom:1px;margin-right:"+i(0).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN+"}.Sf5eDqI.xgVslJe5q{margin-right:0}.GSCDvCsk{margin-right:"+i(0).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN+"}.GSCDvCsk.xgVslJe5q{margin-right:0}.UpR9{display:flex;align-items:center;justify-content:center;width:"+i(0).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(0).locals.NORMAL_BUTTON_HEIGHT+"}.BwWzH{width:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}.Bph{width:29px;height:24px}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(0).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,NORMAL_BUTTON_LEFT_RIGHT_MARGIN:""+i(0).locals.NORMAL_BUTTON_LEFT_RIGHT_MARGIN,MIDDLE_BUTTON_LEFT_RIGHT_MARGIN:""+i(0).locals.MIDDLE_BUTTON_LEFT_RIGHT_MARGIN,UnmuteButton:"e7dy3LPe",UnmuteButton__content:"vTrpzwW",UnmuteButton__text:"Sf5eDqI",UnmuteButton__without_text:"xgVslJe5q",UnmuteButton__text_middle:"GSCDvCsk",UnmuteButton__iconContainer:"UpR9",UnmuteButton__iconContainer_middle:"BwWzH",UnmuteButton__icon:"Bph"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".BXBlD{position:static}.QhDU{position:relative;margin-left:4px}.IOke0{position:relative;bottom:1px;display:flex;align-items:center;margin-left:8px}.MAI0{opacity:.5}.XfXCM4{position:relative;justify-content:center;width:35px;text-align:center}.g35mQS{display:flex}.g35mQS>span:first-child{width:16px;text-align:right}.vaH{position:relative;top:0;width:19px;height:13px}",""]),t.locals={SkipButtonWithText:"BXBlD",SkipButtonWithText__text:"QhDU",SkipButtonWithText__content:"IOke0",SkipButtonWithText__disabled:"MAI0",SkipButtonWithText__timeToSkipString:"XfXCM4",SkipButtonWithText__digitsContainer:"g35mQS",SkipButtonWithText__icon:"vaH"}},function(e,t,i){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!==typeof i)throw new TypeError(i+"must be non-object");for(var n in i)r(i,n)&&(e[n]=i[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,i,r,n){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+r),n);else for(var o=0;o<r;o++)e[n+o]=t[i+o]},flattenChunks:function(e){var t,i,r,n,o,a;for(r=0,t=0,i=e.length;t<i;t++)r+=e[t].length;for(a=new Uint8Array(r),n=0,t=0,i=e.length;t<i;t++)o=e[t],a.set(o,n),n+=o.length;return a}},a={arraySet:function(e,t,i,r,n){for(var o=0;o<r;o++)e[n+o]=t[i+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)},function(e,t){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function n(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(){p&&u&&(p=!1,u.length?f=u.concat(f):m=-1,f.length&&a())}function a(){if(!p){var e=n(o);p=!0;for(var t=f.length;t;){for(u=f,f=[];++m<t;)u&&u[m].run();m=-1,t=f.length}u=null,p=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function d(){}var c,l,h=e.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:i}catch(e){c=i}try{l="function"===typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var u,f=[],p=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new s(e,t)),1!==f.length||p||n(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=d,h.addListener=d,h.once=d,h.off=d,h.removeListener=d,h.removeAllListeners=d,h.emit=d,h.prependListener=d,h.prependOnceListener=d,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,i){function r(e){o.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var n=i(3).Buffer,o=i(50).Transform,a=i(55).StringDecoder;i(1)(r,o),r.prototype.update=function(e,t,i){"string"===typeof e&&(e=n.from(e,t));var r=this._update(e);return this.hashMode?this:(i&&(r=this._toString(r,i)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(e,t,i){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(n){r=n}finally{i(r)}},r.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(i){t=i}e(t)},r.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},r.prototype._toString=function(e,t,i){if(this._decoder||(this._decoder=new a(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return i&&(r+=this._decoder.end()),r},e.exports=r},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".JFM2mK{width:100%}.rafEIHE8{font-size:18px}.rafEIHE8 .Gay{height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}.JFM2mK:hover .k2J{border-color:#fff}.k2J{display:flex;align-items:center;justify-content:space-between;width:calc(100% - 20px);height:32px;padding:0 10px;color:#fff;font-weight:400;font-size:11px;white-space:nowrap;background-color:hsla(0,0%,100%,.2);border-radius:4px}.MbRqFNeg8{width:calc(100% - 27px);height:40px;padding:0 12px 0 15px;font-size:13px}.SW6q9HtJm{width:15px;height:15px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,AbuseVariantButton:"JFM2mK",AbuseVariantButton_middle:"rafEIHE8",AbuseVariantButton__basecontent:"Gay",AbuseVariantButton__content:"k2J",AbuseVariantButton__content_middle:"MbRqFNeg8",AbuseVariantButton__icon_middle:"SW6q9HtJm"}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);c.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",n)}function n(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(e){e.end()}var a=i(42),s=Object.keys||function(e){var t=[];for(var i in e)t.push(i);return t};e.exports=r;var d=i(33);d.inherits=i(1);var c=i(86),l=i(54);d.inherits(r,c);for(var h=s(l.prototype),u=0;u<h.length;u++){var f=h[u];r.prototype[f]||(r.prototype[f]=l.prototype[f])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),a.nextTick(t,e)}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".tNR4grK4h{font-size:18px}.tNR4grK4h .Fj5WG{height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}.t90YwzjV4w{color:#fff;text-shadow:0 2px 2px rgba(0,0,0,.1)}.t90YwzjV4w .SvOlKQrQyt{position:relative;background-color:rgba(38,38,38,.65);border-radius:4px}.t90YwzjV4w.p0r:hover .SvOlKQrQyt{background-color:rgba(0,0,0,.65)}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,SquareButton_middle:"tNR4grK4h",SquareButton__basecontent:"Fj5WG",SquareButton:"t90YwzjV4w",SquareButton__basebutton:"SvOlKQrQyt",SquareButton_active:"p0r"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".vOs0HVjUuX{position:static}.ezWRMt0g{width:29px;height:24px}.CWbet3,.sYHKuPWbuK{display:flex;align-items:center;justify-content:center}.sYHKuPWbuK{width:"+i(0).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(0).locals.NORMAL_BUTTON_HEIGHT+"}.boG4BZYge{width:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(0).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,MuteButton:"vOs0HVjUuX",MuteButton__icon:"ezWRMt0g",MuteButton__content:"CWbet3",MuteButton__iconContainer:"sYHKuPWbuK",MuteButton__iconContainer_middle:"boG4BZYge"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(26),""),t.push([e.i,".faHx,.pYuy3ieV{position:absolute;height:"+i(26).locals.TIMELINE_HEIGHT+"}.faHx{width:100%;transform-origin:0;will-change:transform}.bAFm{background-color:#ff1a2d;transform:scaleX(0)}.ONDu{background-color:#cdcdcd;transform:scaleX(1)}",""]),t.locals={TIMELINE_HEIGHT:""+i(26).locals.TIMELINE_HEIGHT,TimelineBar:"faHx",TimelineBar__container:"pYuy3ieV",TimelineBar__progress:"bAFm",TimelineBar__background:"ONDu"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".VmTFjS{cursor:pointer}.K29aL{font-size:18px}.K29aL .RV2klz{height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}.QLYXbp4YAk{width:60px;height:60px}.S5H{width:80px;height:80px}",""]),t.locals={MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,CirclePlayButton:"VmTFjS",CirclePlayButton_middle:"K29aL",CirclePlayButton__basecontent:"RV2klz",CirclePlayButton__icon:"QLYXbp4YAk",CirclePlayButton__icon_middle:"S5H"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(5),""),t.push([e.i,".LMH6GDlPC{position:relative}.u34{position:absolute;top:0;left:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.AgxasozXm{position:absolute;top:0;left:0}.jyi3d0AXY{position:absolute;bottom:10px;display:flex;justify-content:center;width:100%;color:#fff;font-family:"+i(5).locals.AD_FONT+"}.OIR9{position:absolute;height:2px;bottom:0;width:100%}",""]),t.locals={AD_FONT:""+i(5).locals.AD_FONT,PackshotScreen:"LMH6GDlPC",PackshotScreen__buttonWrapper:"u34",PackshotScreen__packshotOverlayWrapper:"AgxasozXm",PackshotScreen__textBlock:"jyi3d0AXY",PackshotScreen__timelineBarWrapper:"OIR9"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={AD_FONT_WEIGHT:"500"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={TIMELINE_HEIGHT:"2px"}},function(e,t,i){"use strict";(function(t,r){var n=65536,o=4294967295,a=i(3).Buffer,s=t.crypto||t.msCrypto;s&&s.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var i=a.allocUnsafe(e);if(e>0)if(e>n)for(var d=0;d<e;d+=n)s.getRandomValues(i.slice(d,d+n));else s.getRandomValues(i);return"function"===typeof t?r.nextTick((function(){t(null,i)})):i}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,i(11),i(16))},function(e,t,i){function r(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}var n=i(3).Buffer;r.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=n.from(e,t));for(var i=this._block,r=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var d=a%r,c=Math.min(o-s,r-d),l=0;l<c;l++)i[d+l]=e[s+l];s+=c,(a+=c)%r===0&&this._update(i)}return this._len+=o,this},r.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var r=(4294967295&i)>>>0,n=(i-r)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=r},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(5),""),t.i(i(25),""),t.i(i(0),""),t.push([e.i,".Tbn4TEA8{display:inline-block;color:#000;font-weight:"+i(25).locals.AD_FONT_WEIGHT+";font-size:16px;font-family:"+i(5).locals.AD_FONT+";cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xQrqzWDUg6{cursor:pointer}.xQrqzWDUg6 .XHC{opacity:.915}.xQrqzWDUg6:hover .XHC{opacity:1}.tR7IY44zyh{padding:4px;pointer-events:auto}.XHC{display:flex;align-items:center;height:"+i(0).locals.NORMAL_BUTTON_HEIGHT+";opacity:.6}",""]),t.locals={AD_FONT:""+i(5).locals.AD_FONT,AD_FONT_WEIGHT:""+i(25).locals.AD_FONT_WEIGHT,NORMAL_BUTTON_HEIGHT:""+i(0).locals.NORMAL_BUTTON_HEIGHT,Button:"Tbn4TEA8",Button_active:"xQrqzWDUg6",Button__content:"XHC",Button__clickable:"tR7IY44zyh"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".UDNpQDWxX{position:static}.CB3ZE{display:flex;align-items:center;justify-content:center;width:32px;height:32px}.kAmbnaz6{opacity:.5}.eeBMzLLK{width:17px}",""]),t.locals={SkipButtonSmall:"UDNpQDWxX",SkipButtonSmall__content:"CB3ZE",SkipButtonSmall__disabled:"kAmbnaz6",SkipButtonSmall__timeToSkipString__icon:"eeBMzLLK"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(5),""),t.i(i(25),""),t.i(i(66),""),t.i(i(67),""),t.push([e.i,".NcH{position:absolute;top:2px;left:6px;display:inline-block;padding:4px;color:#fff;font-weight:"+i(25).locals.AD_FONT_WEIGHT+";font-size:10px;font-family:"+i(5).locals.AD_FONT+";line-height:"+i(66).locals.AD_LABEL_SMALL_HEIGHT+";letter-spacing:1px;text-transform:uppercase;text-decoration:none;text-shadow:0 0 20px rgba(0,0,0,.2),1px 0 1px rgba(0,0,0,.1),0 1px 1px rgba(0,0,0,.1);transform-origin:bottom left;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.lUqp{top:4px}.iWC1KqxrE{top:4px;font-size:12px;line-height:"+i(67).locals.AD_LABEL_MIDDLE_HEIGHT+"}.lUqp.iWC1KqxrE{top:6px}.rUbiHK{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2));fill:#fff}",""]),t.locals={AD_FONT:""+i(5).locals.AD_FONT,AD_FONT_WEIGHT:""+i(25).locals.AD_FONT_WEIGHT,AD_LABEL_SMALL_HEIGHT:""+i(66).locals.AD_LABEL_SMALL_HEIGHT,AD_LABEL_MIDDLE_HEIGHT:""+i(67).locals.AD_LABEL_MIDDLE_HEIGHT,AdLabel:"NcH",AdLabel_withIcon:"lUqp",AdLabel_middle:"iWC1KqxrE",AdLabel_icon:"rUbiHK"}},function(e,t,i){"use strict";function r(e){d.call(this,"digest"),this._hash=e}var n=i(1),o=i(49),a=i(56),s=i(57),d=i(17);n(r,d),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new o:"rmd160"===e||"ripemd160"===e?new a:new r(s(e))}},function(e,t,i){(function(e){function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"===typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"===typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"===typeof e},t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=e.isBuffer}).call(this,i(6).Buffer)},function(e,t,i){(function(t){e.exports=function(e,i){for(var r=Math.min(e.length,i.length),n=new t(r),o=0;o<r;++o)n[o]=e[o]^i[o];return n}}).call(this,i(6).Buffer)},function(e,t,i){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var n=i(12),o=i(8);t.BlockHash=r,r.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var i=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-i,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-i,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},r.prototype.digest=function(e){return this.update(this._pad()),o(null===this.pending),this._digest(e)},r.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,r=new Array(i+this.padLength);r[0]=128;for(var n=1;n<i;n++)r[n]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[n++]=0;r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=e>>>24&255,r[n++]=e>>>16&255,r[n++]=e>>>8&255,r[n++]=255&e}else for(r[n++]=255&e,r[n++]=e>>>8&255,r[n++]=e>>>16&255,r[n++]=e>>>24&255,r[n++]=0,r[n++]=0,r[n++]=0,r[n++]=0,o=8;o<this.padLength;o++)r[n++]=0;return r}},function(e,t,i){var r=t;r.bignum=i(4),r.define=i(205).define,r.base=i(37),r.constants=i(112),r.decoders=i(210),r.encoders=i(212)},function(e,t,i){var r=t;r.Reporter=i(207).Reporter,r.DecoderBuffer=i(111).DecoderBuffer,r.EncoderBuffer=i(111).EncoderBuffer,r.Node=i(208)},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(7),""),t.push([e.i,".rWj9hz{display:flex;flex-grow:1;flex-shrink:1;align-items:center;justify-content:center;box-shadow:none}.Oo2In6if{z-index:10000}.jOKA{box-sizing:content-box;border-radius:4px;box-shadow:0 12px 12px rgba(25,58,75,.1),0 4px 4px rgba(25,58,75,.05),0 0 4px rgba(25,58,75,.05)}.jOKA .l9vA1Q4{position:absolute;top:0;left:0;width:100%;height:32px}.y0qX3NHF{box-shadow:0 0 20px 20px rgba(96,109,128,.15)}.H01k{background-color:#fff}.nzINUboT{background-color:#283459}.IIo{position:relative;z-index:2;flex-shrink:0;width:100%;height:100%;overflow:hidden;font-size:0}.uEf5xMo1{position:relative;display:flex;flex-grow:1;flex-shrink:1;align-items:stretch;visibility:hidden}.jBzk0Tg{position:absolute;top:0;left:0;display:block;width:100%;height:100%;margin:0;padding:0}.GmKjUONhvM,.jPwG9xcV{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}.GmKjUONhvM{display:none;background-position:50%;background-size:cover}.aDm6fA{position:absolute;top:0;right:0;bottom:0;left:0;margin:0;padding:0;overflow:hidden}.l9vA1Q4{z-index:1;display:none;overflow:hidden;font-family:Helvetica,Arial,sans-serif;opacity:0}.a3iJt{position:absolute;top:0;right:0;z-index:2;box-sizing:content-box;width:12px;height:12px;padding:10px;cursor:pointer}.a3iJt svg{width:12px;height:12px;vertical-align:top}.EnB3 .qcwbPI{min-width:0;max-width:44vh;margin:0 3.5vh 0 3vh}.qcwbPI{font-size:18px}.Eoy{position:absolute;top:9px;left:13px;display:flex;align-items:flex-end;color:#afc5cf;font-weight:700;font-size:12px;font-style:normal;line-height:14px;letter-spacing:.05em;text-transform:uppercase}.xcUhop5r,.ykLZyHbfM{cursor:pointer}.ykLZyHbfM{min-width:5em;max-height:2.4em;margin-bottom:.7em;overflow:hidden;color:#000;font-size:1.5em;line-height:1.2em;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.xcUhop5r{position:relative;display:inline-block;box-sizing:border-box;min-width:10em;padding:.6em 1.2em .7em;color:#006aff;font-weight:300;font-size:1em;text-align:center;background-color:#e5f0ff;border-radius:.3em}.xcUhop5r:hover{background-color:#d9e9ff}.nPDHw{position:absolute;top:-15px;left:-15px;width:100%;height:100%;padding:15px}.Yei .ykLZyHbfM{color:#fff}.Yei .xcUhop5r{color:#fff;background-color:#535c7a}.Yei .xcUhop5r:hover{background-color:#5d6682}.EnB3{transition-timing-function:linear,linear,ease,ease,ease,ease,ease,ease;transition-duration:"+i(7).locals.STICKY_ANIMATION_HALF_DURATION+","+i(7).locals.STICKY_ANIMATION_HALF_DURATION+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+";transition-property:box-shadow,background-color,width,height,left,top,bottom,right;will-change:width,height,left,top,bottom,right}.DNQ{transition-timing-function:linear,linear,linear,ease;transition-duration:"+i(7).locals.STICKY_ANIMATION_HALF_DURATION+","+i(7).locals.STICKY_ANIMATION_HALF_DURATION+","+i(7).locals.STICKY_ANIMATION_HALF_DURATION+","+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+";transition-property:box-shadow,background-color,margin-top,transform}.EnB3 .IIo{transition-duration:"+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE+";transition-property:width,height;will-change:width,height}.U1G6{transition:none}.l9vA1Q4{transition:opacity "+i(7).locals.STICKY_ANIMATION_HALF_DURATION+"}.cNgdXLPDR .l9vA1Q4{display:block;opacity:0}.rWj9hz:not(.fNA8) .l9vA1Q4,.umnz .l9vA1Q4{opacity:0}.rWj9hz:not(.fNA8) .a3iJt,.umnz .a3iJt{display:none}.iB2S.fNA8.DNQ{margin-top:32px}.Oo2In6if .l9vA1Q4{opacity:1}.Oo2In6if .a3iJt{display:block}.y0qX3NHF .IIo{width:auto}.jOKA{padding-top:32px;background-color:#ecf4f9}",""]),t.locals={STICKY_ANIMATION_DURATION_STYLE_VALUE:""+i(7).locals.STICKY_ANIMATION_DURATION_STYLE_VALUE,STICKY_ANIMATION_HALF_DURATION:""+i(7).locals.STICKY_ANIMATION_HALF_DURATION,yaInPageStickyWrapper:"rWj9hz",yaInPageStickyWrapper__sticky:"Oo2In6if",yaInPageStickyWrapper__sticky__flyroll:"jOKA",yaInpageAdditionalContentContainer:"l9vA1Q4",yaInPageStickyWrapper__sticky__covering:"y0qX3NHF",yaInPageStickyWrapper__sticky__covering_color_scheme_light:"H01k",yaInPageStickyWrapper__sticky__covering_color_scheme_dark:"nzINUboT",yaInPageWrapper:"IIo",yaInPagePlaceholderElement:"uEf5xMo1",InPageLayout__videoSlot:"jBzk0Tg",InPageLayout__packshotContainer:"GmKjUONhvM",InPageLayout__slot:"jPwG9xcV",InPageLayout__videoSlotContainer:"aDm6fA",yaInpageCross:"a3iJt",yaInPageStickyWrapper__variant__covering:"EnB3",yaInpageAdditionalContent:"qcwbPI",yaInpageAdditionalContent__adTitle:"Eoy",yaInpageAdditionalContent__button:"xcUhop5r",yaInpageAdditionalContent__description:"ykLZyHbfM",yaInpageAdditionalContent__buttonClickableArea:"nPDHw",yaInpageAdditionalContent_dark:"Yei",yaInPageStickyWrapper__variant__flyroll:"DNQ",yaInPageStickyWrapper__unAnimated:"U1G6",yaInPageStickyWrapper__additionalContent_enabled:"cNgdXLPDR",yaInPageStickyWrapper__detached:"fNA8",yaInPageStickyWrapper__inline:"umnz",yaInPageStickyWrapper__isAnimating:"iB2S"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".lf0Op7{position:static}.um4yQ01VAh{width:"+i(0).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(0).locals.NORMAL_BUTTON_HEIGHT+"}.i0vVYN{width:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(0).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,PauseButton:"lf0Op7",PauseButton__icon:"um4yQ01VAh",PauseButton__icon_middle:"i0vVYN"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(0),""),t.push([e.i,".uZCSdyzKL{position:static}.pULipYy{width:"+i(0).locals.NORMAL_BUTTON_HEIGHT+";height:"+i(0).locals.NORMAL_BUTTON_HEIGHT+"}.lk24X{width:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+";height:"+i(0).locals.MIDDLE_BUTTON_HEIGHT+"}",""]),t.locals={NORMAL_BUTTON_HEIGHT:""+i(0).locals.NORMAL_BUTTON_HEIGHT,MIDDLE_BUTTON_HEIGHT:""+i(0).locals.MIDDLE_BUTTON_HEIGHT,SquarePlayButton:"uZCSdyzKL",SquarePlayButton__icon:"pULipYy",SquarePlayButton__icon_middle:"lk24X"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".sWVAwmiLO{position:absolute;top:0;right:0;width:30px;height:30px;cursor:pointer;pointer-events:auto}.sWVAwmiLO.wSo9{width:35px;height:35px}.sWVAwmiLO .v99ZQUd{width:30px;height:30px}.sWVAwmiLO.wSo9 .v99ZQUd{width:35px;height:35px}",""]),t.locals={AbuseButton:"sWVAwmiLO",AbuseButton_middle:"wSo9",AbuseButton__icon:"v99ZQUd"}},function(e,t,i){"use strict";(function(t){"undefined"===typeof t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,i,r,n){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,i)}));case 3:return t.nextTick((function(){e.call(null,i,r)}));case 4:return t.nextTick((function(){e.call(null,i,r,n)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,i(16))},function(e,t,i){function r(e){s.isBuffer(e)||(e=s.from(e));for(var t=e.length/4|0,i=new Array(t),r=0;r<t;r++)i[r]=e.readUInt32BE(4*r);return i}function n(e){for(;0<e.length;e++)e[0]=0}function o(e,t,i,r,n){for(var o,a,s,d,c=i[0],l=i[1],h=i[2],u=i[3],f=e[0]^t[0],p=e[1]^t[1],m=e[2]^t[2],g=e[3]^t[3],v=4,b=1;b<n;b++)o=c[f>>>24]^l[p>>>16&255]^h[m>>>8&255]^u[255&g]^t[v++],a=c[p>>>24]^l[m>>>16&255]^h[g>>>8&255]^u[255&f]^t[v++],s=c[m>>>24]^l[g>>>16&255]^h[f>>>8&255]^u[255&p]^t[v++],d=c[g>>>24]^l[f>>>16&255]^h[p>>>8&255]^u[255&m]^t[v++],f=o,p=a,m=s,g=d;return o=(r[f>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&g])^t[v++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[g>>>8&255]<<8|r[255&f])^t[v++],s=(r[m>>>24]<<24|r[g>>>16&255]<<16|r[f>>>8&255]<<8|r[255&p])^t[v++],d=(r[g>>>24]<<24|r[f>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^t[v++],[o>>>=0,a>>>=0,s>>>=0,d>>>=0]}function a(e){this._key=r(e),this._reset()}var s=i(3).Buffer,d=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var i=[],r=[],n=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,d=0;d<256;++d){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,i[a]=c,r[c]=a;var l=e[a],h=e[l],u=e[h],f=257*e[c]^16843008*c;n[0][a]=f<<24|f>>>8,n[1][a]=f<<16|f>>>16,n[2][a]=f<<8|f>>>24,n[3][a]=f,f=16843009*u^65537*h^257*l^16843008*a,o[0][c]=f<<24|f>>>8,o[1][c]=f<<16|f>>>16,o[2][c]=f<<8|f>>>24,o[3][c]=f,0===a?a=s=1:(a=l^e[e[e[u^l]]],s^=e[e[s]])}return{SBOX:i,INV_SBOX:r,SUB_MIX:n,INV_SUB_MIX:o}}();a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,i=t+6,r=4*(i+1),n=[],o=0;o<t;o++)n[o]=e[o];for(o=t;o<r;o++){var a=n[o-1];o%t===0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=d[o/t|0]<<24):t>6&&o%t===4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),n[o]=n[o-t]^a}for(var s=[],l=0;l<r;l++){var h=r-l,u=n[h-(l%4?0:4)];s[l]=l<4||h<=4?u:c.INV_SUB_MIX[0][c.SBOX[u>>>24]]^c.INV_SUB_MIX[1][c.SBOX[u>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[u>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&u]]}this._nRounds=i,this._keySchedule=n,this._invKeySchedule=s},a.prototype.encryptBlockRaw=function(e){return o(e=r(e),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),i=s.allocUnsafe(16);return i.writeUInt32BE(t[0],0),i.writeUInt32BE(t[1],4),i.writeUInt32BE(t[2],8),i.writeUInt32BE(t[3],12),i},a.prototype.decryptBlock=function(e){var t=(e=r(e))[1];e[1]=e[3],e[3]=t;var i=o(e,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),n=s.allocUnsafe(16);return n.writeUInt32BE(i[0],0),n.writeUInt32BE(i[3],4),n.writeUInt32BE(i[2],8),n.writeUInt32BE(i[1],12),n},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},e.exports.AES=a},function(e,t,i){var r=i(3).Buffer,n=i(49);e.exports=function(e,t,i,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=i/8,s=r.alloc(a),d=r.alloc(o||0),c=r.alloc(0);a>0||o>0;){var l=new n;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var h=0;if(a>0){var u=s.length-a;h=Math.min(a,c.length),c.copy(s,u,0,h),a-=h}if(h<c.length&&o>0){var f=d.length-o,p=Math.min(o,c.length-h);c.copy(d,f,h,h+p),o-=p}}return c.fill(0),{key:s,iv:d}}},function(e,t,i){"use strict";function r(e,t){this.type=e,this.p=new o(t.p,16),this.red=t.prime?o.red(t.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=t.n&&new o(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function n(e,t){this.curve=e,this.type=t,this.precomputed=null}var o=i(4),a=i(9),s=a.getNAF,d=a.getJSF,c=a.assert;e.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){c(e.precomputed);var i=e._getDoubles(),r=s(t,1),n=(1<<i.step+1)-(i.step%2===0?2:1);n/=3;for(var o=[],a=0;a<r.length;a+=i.step){var d=0;for(t=a+i.step-1;t>=a;t--)d=(d<<1)+r[t];o.push(d)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),u=n;u>0;u--){for(a=0;a<o.length;a++){(d=o[a])===u?h=h.mixedAdd(i.points[a]):d===-u&&(h=h.mixedAdd(i.points[a].neg()))}l=l.add(h)}return l.toP()},r.prototype._wnafMul=function(e,t){var i=4,r=e._getNAFPoints(i);i=r.wnd;for(var n=r.points,o=s(t,i),a=this.jpoint(null,null,null),d=o.length-1;d>=0;d--){for(t=0;d>=0&&0===o[d];d--)t++;if(d>=0&&t++,a=a.dblp(t),d<0)break;var l=o[d];c(0!==l),a="affine"===e.type?l>0?a.mixedAdd(n[l-1>>1]):a.mixedAdd(n[-l-1>>1].neg()):l>0?a.add(n[l-1>>1]):a.add(n[-l-1>>1].neg())}return"affine"===e.type?a.toP():a},r.prototype._wnafMulAdd=function(e,t,i,r,n){for(var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,h=0;h<r;h++){var u=(T=t[h])._getNAFPoints(e);o[h]=u.wnd,a[h]=u.points}for(h=r-1;h>=1;h-=2){var f=h-1,p=h;if(1===o[f]&&1===o[p]){var m=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(m[1]=t[f].add(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].add(t[p].neg())):(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],v=d(i[f],i[p]);l=Math.max(v[0].length,l),c[f]=new Array(l),c[p]=new Array(l);for(var b=0;b<l;b++){var y=0|v[0][b],A=0|v[1][b];c[f][b]=g[3*(y+1)+(A+1)],c[p][b]=0,a[f]=m}}else c[f]=s(i[f],o[f]),c[p]=s(i[p],o[p]),l=Math.max(c[f].length,l),l=Math.max(c[p].length,l)}var _=this.jpoint(null,null,null),w=this._wnafT4;for(h=l;h>=0;h--){for(var S=0;h>=0;){var E=!0;for(b=0;b<r;b++)w[b]=0|c[b][h],0!==w[b]&&(E=!1);if(!E)break;S++,h--}if(h>=0&&S++,_=_.dblp(S),h<0)break;for(b=0;b<r;b++){var T,C=w[b];0!==C&&(C>0?T=a[b][C-1>>1]:C<0&&(T=a[b][-C-1>>1].neg()),_="affine"===T.type?_.mixedAdd(T):_.add(T))}}for(h=0;h<r;h++)a[h]=null;return n?_:_.toP()},r.BasePoint=n,n.prototype.eq=function(){throw new Error("Not implemented")},n.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var i=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*i)return 6===e[0]?c(e[e.length-1]%2===0):7===e[0]&&c(e[e.length-1]%2===1),this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));if((2===e[0]||3===e[0])&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),3===e[0]);throw new Error("Unknown point format")},n.prototype.encodeCompressed=function(e){return this.encode(e,!0)},n.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},n.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},n.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},n.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},n.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],r=this,n=0;n<t;n+=e){for(var o=0;o<e;o++)r=r.dbl();i.push(r)}return{step:e,points:i}},n.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,r=1===i?null:this.dbl(),n=1;n<i;n++)t[n]=t[n-1].add(r);return{wnd:e,points:t}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}},function(e,t,i){function r(e){var t;"object"!==typeof e||c.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=c.from(e));var i,r,l=a(e,t),h=l.tag,u=l.data;switch(h){case"CERTIFICATE":r=n.certificate.decode(u,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r||(r=n.PublicKey.decode(u,"der")),i=r.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(r.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return r.subjectPrivateKey=r.subjectPublicKey,{type:"ec",data:r};case"1.2.840.10040.4.1":return r.algorithm.params.pub_key=n.DSAparam.decode(r.subjectPublicKey.data,"der"),{type:"dsa",data:r.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+h);case"ENCRYPTED PRIVATE KEY":u=function(e,t){var i=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),n=o[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,h=parseInt(n.split("-")[1],10)/8,u=d.pbkdf2Sync(t,i,r,h,"sha1"),f=s.createDecipheriv(n,u,a),p=[];return p.push(f.update(l)),p.push(f.final()),c.concat(p)}(u=n.EncryptedPrivateKey.decode(u,"der"),t);case"PRIVATE KEY":switch(i=(r=n.PrivateKey.decode(u,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(r.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:r.algorithm.curve,privateKey:n.ECPrivateKey.decode(r.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return r.algorithm.params.priv_key=n.DSAparam.decode(r.subjectPrivateKey,"der"),{type:"dsa",params:r.algorithm.params};default:throw new Error("unknown key id "+i)}throw new Error("unknown key type "+h);case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(u,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(u,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(u,"der")};case"EC PRIVATE KEY":return{curve:(u=n.ECPrivateKey.decode(u,"der")).parameters.value,privateKey:u.privateKey};default:throw new Error("unknown key type "+h)}}var n=i(204),o=i(215),a=i(216),s=i(59),d=i(95),c=i(3).Buffer;e.exports=r,r.signature=n.signature},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(5),""),t.push([e.i,".MZmSY{display:inline-block;color:#000;font-size:16px;font-family:"+i(5).locals.AD_FONT+";background-color:#ffd400;border-radius:3px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}.mY6MZU0K2e{padding:10px 16px;line-height:16px}",""]),t.locals={AD_FONT:""+i(5).locals.AD_FONT,PackshotButton:"MZmSY",PackshotButton__content:"mY6MZU0K2e"}},function(e,t,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,i){"use strict";function r(){l.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function n(e,t){return e<<t|e>>>32-t}function o(e,t,i,r,o,a,s){return n(e+(t&i|~t&r)+o+a|0,s)+t|0}function a(e,t,i,r,o,a,s){return n(e+(t&r|i&~r)+o+a|0,s)+t|0}function s(e,t,i,r,o,a,s){return n(e+(t^i^r)+o+a|0,s)+t|0}function d(e,t,i,r,o,a,s){return n(e+(i^(t|~r))+o+a|0,s)+t|0}var c=i(1),l=i(85),h=i(3).Buffer,u=new Array(16);c(r,l),r.prototype._update=function(){for(var e=u,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var i=this._a,r=this._b,n=this._c,c=this._d;i=o(i,r,n,c,e[0],3614090360,7),c=o(c,i,r,n,e[1],3905402710,12),n=o(n,c,i,r,e[2],606105819,17),r=o(r,n,c,i,e[3],3250441966,22),i=o(i,r,n,c,e[4],4118548399,7),c=o(c,i,r,n,e[5],1200080426,12),n=o(n,c,i,r,e[6],2821735955,17),r=o(r,n,c,i,e[7],4249261313,22),i=o(i,r,n,c,e[8],1770035416,7),c=o(c,i,r,n,e[9],2336552879,12),n=o(n,c,i,r,e[10],4294925233,17),r=o(r,n,c,i,e[11],2304563134,22),i=o(i,r,n,c,e[12],1804603682,7),c=o(c,i,r,n,e[13],4254626195,12),n=o(n,c,i,r,e[14],2792965006,17),i=a(i,r=o(r,n,c,i,e[15],1236535329,22),n,c,e[1],4129170786,5),c=a(c,i,r,n,e[6],3225465664,9),n=a(n,c,i,r,e[11],643717713,14),r=a(r,n,c,i,e[0],3921069994,20),i=a(i,r,n,c,e[5],3593408605,5),c=a(c,i,r,n,e[10],38016083,9),n=a(n,c,i,r,e[15],3634488961,14),r=a(r,n,c,i,e[4],3889429448,20),i=a(i,r,n,c,e[9],568446438,5),c=a(c,i,r,n,e[14],3275163606,9),n=a(n,c,i,r,e[3],4107603335,14),r=a(r,n,c,i,e[8],1163531501,20),i=a(i,r,n,c,e[13],2850285829,5),c=a(c,i,r,n,e[2],4243563512,9),n=a(n,c,i,r,e[7],1735328473,14),i=s(i,r=a(r,n,c,i,e[12],2368359562,20),n,c,e[5],4294588738,4),c=s(c,i,r,n,e[8],2272392833,11),n=s(n,c,i,r,e[11],1839030562,16),r=s(r,n,c,i,e[14],4259657740,23),i=s(i,r,n,c,e[1],2763975236,4),c=s(c,i,r,n,e[4],1272893353,11),n=s(n,c,i,r,e[7],4139469664,16),r=s(r,n,c,i,e[10],3200236656,23),i=s(i,r,n,c,e[13],681279174,4),c=s(c,i,r,n,e[0],3936430074,11),n=s(n,c,i,r,e[3],3572445317,16),r=s(r,n,c,i,e[6],76029189,23),i=s(i,r,n,c,e[9],3654602809,4),c=s(c,i,r,n,e[12],3873151461,11),n=s(n,c,i,r,e[15],530742520,16),i=d(i,r=s(r,n,c,i,e[2],3299628645,23),n,c,e[0],4096336452,6),c=d(c,i,r,n,e[7],1126891415,10),n=d(n,c,i,r,e[14],2878612391,15),r=d(r,n,c,i,e[5],4237533241,21),i=d(i,r,n,c,e[12],1700485571,6),c=d(c,i,r,n,e[3],2399980690,10),n=d(n,c,i,r,e[10],4293915773,15),r=d(r,n,c,i,e[1],2240044497,21),i=d(i,r,n,c,e[8],1873313359,6),c=d(c,i,r,n,e[15],4264355552,10),n=d(n,c,i,r,e[6],2734768916,15),r=d(r,n,c,i,e[13],1309151649,21),i=d(i,r,n,c,e[4],4149444226,6),c=d(c,i,r,n,e[11],3174756917,10),n=d(n,c,i,r,e[2],718787259,15),r=d(r,n,c,i,e[9],3951481745,21),this._a=this._a+i|0,this._b=this._b+r|0,this._c=this._c+n|0,this._d=this._d+c|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=h.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=r},function(e,t,i){function r(){n.call(this)}e.exports=r;var n=i(51).EventEmitter;i(1)(r,n),r.Readable=i(52),r.Writable=i(150),r.Duplex=i(151),r.Transform=i(152),r.PassThrough=i(153),r.Stream=r,r.prototype.pipe=function(e,t){function i(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"===typeof e.destroy&&e.destroy())}function s(e){if(d(),0===n.listenerCount(this,"error"))throw e}function d(){c.removeListener("data",i),e.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",d),c.removeListener("close",d),e.removeListener("close",d)}var c=this;c.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),e.on("error",s),c.on("end",d),c.on("close",d),e.on("close",d),e.emit("pipe",c),e}},function(e,t,i){"use strict";function r(){r.init.call(this)}function n(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function o(e,t,i,r){var o,a,s,d;if("function"!==typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i);if(void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),s=a[t]),void 0===s)s=a[t]=i,++e._eventsCount;else if("function"===typeof s?s=a[t]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),(o=n(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,d=c,console&&console.warn&&console.warn(d)}return e}function a(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,f(this.listener,this.target,e))}function s(e,t,i){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},n=a.bind(r);return n.listener=i,r.wrapFn=n,n}function d(e,t,i){var r=e._events;if(void 0===r)return[];var n=r[t];return void 0===n?[]:"function"===typeof n?i?[n.listener||n]:[n]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(n):l(n,n.length)}function c(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"===typeof i)return 1;if(void 0!==i)return i.length}return 0}function l(e,t){for(var i=new Array(t),r=0;r<t;++r)i[r]=e[r];return i}var h,u="object"===typeof Reflect?Reflect:null,f=u&&"function"===typeof u.apply?u.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};h=u&&"function"===typeof u.ownKeys?u.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var p=Number.isNaN||function(e){return e!==e};e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var m=10;Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(e){if("number"!==typeof e||e<0||p(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");m=e}}),r.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||p(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return n(this)},r.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var s=n[e];if(void 0===s)return!1;if("function"===typeof s)f(s,this,t);else{var d=s.length,c=l(s,d);for(i=0;i<d;++i)f(c[i],this,t)}return!0},r.prototype.addListener=function(e,t){return o(this,e,t,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(e,t){return o(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,s(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,s(this,e,t)),this},r.prototype.removeListener=function(e,t){var i,r,n,o,a;if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(i=r[e]))return this;if(i===t||i.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!==typeof i){for(n=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,n=o;break}if(n<0)return this;0===n?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,n),1===i.length&&(r[e]=i[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(e){var t,i,r;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var n,o=Object.keys(i);for(r=0;r<o.length;++r)"removeListener"!==(n=o[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},r.prototype.listeners=function(e){return d(this,e,!0)},r.prototype.rawListeners=function(e){return d(this,e,!1)},r.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):c.call(e,t)},r.prototype.listenerCount=c,r.prototype.eventNames=function(){return this._eventsCount>0?h(this._events):[]}},function(e,t,i){(t=e.exports=i(86)).Stream=t,t.Readable=t,t.Writable=i(54),t.Duplex=i(19),t.Transform=i(89),t.PassThrough=i(149)},function(e,t,i){function r(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return a(e,t,i)}var o=i(6),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n),r(a,n),n.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},n.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"===typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},n.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,i){"use strict";(function(t,r,n){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var r=e.entry;e.entry=null;for(;r;){var n=r.callback;t.pendingcb--,n(i),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}function a(){}function s(e,t){v=v||i(19),e=e||{};var r=t instanceof v;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,a=e.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var i=e._writableState,r=i.sync,n=i.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(i),t)!function(e,t,i,r,n){--t.pendingcb,i?(g.nextTick(n,r),g.nextTick(m,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(n(r),e._writableState.errorEmitted=!0,e.emit("error",r),m(e,t))}(e,i,r,t,n);else{var o=f(i);o||i.corked||i.bufferProcessing||!i.bufferedRequest||u(e,i),r?b(h,e,i,o,n):h(e,i,o,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function d(e){if(v=v||i(19),!A.call(d,this)&&!(this instanceof v))return new d(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),w.call(this)}function c(e,t,i,r,n,o){if(!i){var a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=S.from(t,i)),t}(t,r,n);r!==a&&(i=!0,n="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:n,isBuf:i,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else l(e,t,!1,s,r,n,o);return d}function l(e,t,i,r,n,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,i?e._writev(n,t.onwrite):e._write(n,o,t.onwrite),t.sync=!1}function h(e,t,i,r){i||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),m(e,t)}function u(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var r=t.bufferedRequestCount,n=new Array(r),a=t.corkedRequestsFree;a.entry=i;for(var s=0,d=!0;i;)n[s]=i,i.isBuf||(d=!1),i=i.next,s+=1;n.allBuffers=d,l(e,t,!0,t.length,n,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;i;){var c=i.chunk,h=i.encoding,u=i.callback;if(l(e,t,!1,t.objectMode?1:c.length,c,h,u),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function f(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function p(e,t){e._final((function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),m(e,t)}))}function m(e,t){var i=f(t);return i&&(!function(e,t){t.prefinished||t.finalCalled||("function"===typeof e._final?(t.pendingcb++,t.finalCalled=!0,g.nextTick(p,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}var g=i(42);e.exports=d;var v,b=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:g.nextTick;d.WritableState=s;var y=i(33);y.inherits=i(1);var A,_={deprecate:i(147)},w=i(87),S=i(53).Buffer,E=n.Uint8Array||function(){},T=i(88);y.inherits(d,w),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(s.prototype,"buffer",{get:_.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(A=Function.prototype[Symbol.hasInstance],Object.defineProperty(d,Symbol.hasInstance,{value:function(e){return!!A.call(this,e)||this===d&&(e&&e._writableState instanceof s)}})):A=function(e){return e instanceof this},d.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},d.prototype.write=function(e,t,i){var r,n=this._writableState,o=!1,s=!n.objectMode&&(r=e,S.isBuffer(r)||r instanceof E);return s&&!S.isBuffer(e)&&(e=function(e){return S.from(e)}(e)),"function"===typeof t&&(i=t,t=null),s?t="buffer":t||(t=n.defaultEncoding),"function"!==typeof i&&(i=a),n.ended?function(e,t){var i=new Error("write after end");e.emit("error",i),g.nextTick(t,i)}(this,i):(s||function(e,t,i,r){var n=!0,o=!1;return null===i?o=new TypeError("May not write null values to stream"):"string"===typeof i||void 0===i||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),g.nextTick(r,o),n=!1),n}(this,n,e,i))&&(n.pendingcb++,o=c(this,n,s,e,t,i)),o},d.prototype.cork=function(){this._writableState.corked++},d.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||u(this,e))},d.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),d.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},d.prototype._writev=null,d.prototype.end=function(e,t,i){var r=this._writableState;"function"===typeof e?(i=e,e=null,t=null):"function"===typeof t&&(i=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,i){t.ending=!0,m(e,t),i&&(t.finished?g.nextTick(i):e.once("finish",i)),t.ended=!0,e.writable=!1}(this,r,i)},Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),d.prototype.destroy=T.destroy,d.prototype._undestroy=T.undestroy,d.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,i(16),i(145).setImmediate,i(11))},function(e,t,i){"use strict";function r(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(u.isEncoding===f||!f(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=a,this.end=s,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=d,this.end=c,t=3;break;default:return this.write=l,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(t)}function n(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,i=function(e,t,i){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function a(e,t){if((e.length-t)%2===0){var i=e.toString("utf16le",t);if(i){var r=i.charCodeAt(i.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)}return i}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function s(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var i=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,i)}return t}function d(e,t){var i=(e.length-t)%3;return 0===i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1===i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function l(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}var u=i(148).Buffer,f=u.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};t.StringDecoder=r,r.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},r.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},r.prototype.text=function(e,t){var i=function(e,t,i){var r=t.length-1;if(r<i)return 0;var o=n(t[r]);return o>=0?(o>0&&(e.lastNeed=o-1),o):--r<i||-2===o?0:(o=n(t[r]))>=0?(o>0&&(e.lastNeed=o-2),o):--r<i||-2===o?0:(o=n(t[r]))>=0?(o>0&&(2===o?o=0:e.lastNeed=o-3),o):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=i;var r=e.length-(i-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},r.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,i){"use strict";function r(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function n(e,t){return e<<t|e>>>32-t}function o(e,t,i,r,o,a,s,d){return n(e+(t^i^r)+a+s|0,d)+o|0}function a(e,t,i,r,o,a,s,d){return n(e+(t&i|~t&r)+a+s|0,d)+o|0}function s(e,t,i,r,o,a,s,d){return n(e+((t|~i)^r)+a+s|0,d)+o|0}function d(e,t,i,r,o,a,s,d){return n(e+(t&r|i&~r)+a+s|0,d)+o|0}function c(e,t,i,r,o,a,s,d){return n(e+(t^(i|~r))+a+s|0,d)+o|0}var l=i(6).Buffer,h=i(1),u=i(85),f=new Array(16),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],b=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];h(r,u),r.prototype._update=function(){for(var e=f,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var i=0|this._a,r=0|this._b,l=0|this._c,h=0|this._d,u=0|this._e,A=0|this._a,_=0|this._b,w=0|this._c,S=0|this._d,E=0|this._e,T=0;T<80;T+=1){var C,I;T<16?(C=o(i,r,l,h,u,e[p[T]],b[0],g[T]),I=c(A,_,w,S,E,e[m[T]],y[0],v[T])):T<32?(C=a(i,r,l,h,u,e[p[T]],b[1],g[T]),I=d(A,_,w,S,E,e[m[T]],y[1],v[T])):T<48?(C=s(i,r,l,h,u,e[p[T]],b[2],g[T]),I=s(A,_,w,S,E,e[m[T]],y[2],v[T])):T<64?(C=d(i,r,l,h,u,e[p[T]],b[3],g[T]),I=a(A,_,w,S,E,e[m[T]],y[3],v[T])):(C=c(i,r,l,h,u,e[p[T]],b[4],g[T]),I=o(A,_,w,S,E,e[m[T]],y[4],v[T])),i=u,u=h,h=n(l,10),l=r,r=C,A=E,E=S,S=n(w,10),w=_,_=I}var k=this._b+l+S|0;this._b=this._c+h+E|0,this._c=this._d+u+A|0,this._d=this._e+i+_|0,this._e=this._a+r+w|0,this._a=k},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=l.alloc?l.alloc(20):new l(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=r},function(e,t,i){(t=e.exports=function(e){e=e.toLowerCase();var i=t[e];if(!i)throw new Error(e+" is not supported (we accept pull requests)");return new i}).sha=i(154),t.sha1=i(155),t.sha224=i(156),t.sha256=i(90),t.sha384=i(157),t.sha512=i(91)},function(e,t,i){"use strict";t.utils=i(163),t.Cipher=i(164),t.DES=i(165),t.CBC=i(166),t.EDE=i(167)},function(e,t,i){var r=i(168),n=i(176),o=i(101);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=n.createDecipher,t.createDecipheriv=t.Decipheriv=n.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},function(e,t,i){var r={ECB:i(169),CBC:i(170),CFB:i(171),CFB8:i(172),CFB1:i(173),OFB:i(174),CTR:i(99),GCM:i(99)},n=i(101);for(var o in n)n[o].module=r[n[o].mode];e.exports=n},function(e,t,i){function r(e){this.rand=e}var n;if(e.exports=function(e){return n||(n=new r(null)),n.generate(e)},e.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},r.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=i(181);if("function"!==typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(e){return o.randomBytes(e)}}catch(a){}},function(e,t,i){(function(t){function r(e,i){var r=function(e){var t=n(e);return{blinder:t.toRed(o.mont(e.modulus)).redPow(new o(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(i),a=i.modulus.byteLength(),s=(o.mont(i.modulus),new o(e).mul(r.blinder).umod(i.modulus)),d=s.toRed(o.mont(i.prime1)),c=s.toRed(o.mont(i.prime2)),l=i.coefficient,h=i.prime1,u=i.prime2,f=d.redPow(i.exponent1),p=c.redPow(i.exponent2);f=f.fromRed(),p=p.fromRed();var m=f.isub(p).imul(l).umod(h);return m.imul(u),p.iadd(m),new t(p.imul(r.unblinder).umod(i.modulus).toArray(!1,a))}function n(e){for(var t=e.modulus.byteLength(),i=new o(a(t));i.cmp(e.modulus)>=0||!i.umod(e.prime1)||!i.umod(e.prime2);)i=new o(a(t));return i}var o=i(4),a=i(27);e.exports=r,r.getr=n}).call(this,i(6).Buffer)},function(e,t,i){"use strict";var r=t;r.version=i(186).version,r.utils=i(9),r.rand=i(61),r.curve=i(107),r.curves=i(64),r.ec=i(197),r.eddsa=i(201)},function(e,t,i){"use strict";function r(e){"short"===e.type?this.curve=new d.short(e):"edwards"===e.type?this.curve=new d.edwards(e):this.curve=new d.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function n(e,t){Object.defineProperty(a,e,{configurable:!0,enumerable:!0,get:function(){var i=new r(t);return Object.defineProperty(a,e,{configurable:!0,enumerable:!0,value:i}),i}})}var o,a=t,s=i(65),d=i(107),c=i(9).assert;a.PresetCurve=r,n("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),n("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),n("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),n("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),n("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),n("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),n("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=i(196)}catch(l){o=void 0}n("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},function(e,t,i){var r=t;r.utils=i(12),r.common=i(35),r.sha=i(190),r.ripemd=i(194),r.hmac=i(195),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_SMALL_HEIGHT:"18px"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={AD_LABEL_MIDDLE_HEIGHT:"20px"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".RjRo{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={MuteIcon:"RjRo"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".bzQXjFBB7z{filter:drop-shadow(0 2px 3px rgba(0,0,0,.2))}",""]),t.locals={UnmuteIcon:"bzQXjFBB7z"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(26),""),t.push([e.i,".xLu4uVI{position:absolute;bottom:0;left:0;width:100%;height:"+i(26).locals.TIMELINE_HEIGHT+"}",""]),t.locals={TIMELINE_HEIGHT:""+i(26).locals.TIMELINE_HEIGHT,Timeline:"xLu4uVI"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".KkqzZxxgdp{position:absolute;right:6px;bottom:16px;left:6px;display:flex;justify-content:space-between}",""]),t.locals={ButtonControls:"KkqzZxxgdp"}},function(e,t,i){e.exports=i(136)},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"@keyframes fnHf{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.VyoeAc{animation-name:fnHf;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite}",""]),t.locals={SpinnerIcon__css_animated:"VyoeAc",spin:"fnHf"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".IylBsTA{position:absolute;top:50%;left:50%;width:38px;height:38px;transform:translate(-50%,-50%)}",""]),t.locals={Spinner:"IylBsTA"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".RnFH7I{position:absolute;top:50%;left:50%;display:flex;transform:translate(-50%,-50%)}",""]),t.locals={CenterControls:"RnFH7I"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".Gb7uo{position:absolute;top:8px;left:8px;display:flex;justify-content:space-between}",""]),t.locals={TgoButtonControls:"Gb7uo"}},function(e,t,i){(t=e.exports=i(2)(!1)).i(i(5),""),t.push([e.i,".tdrdBbIlQ{position:absolute;top:10px;left:10px;display:inline-block;height:16px;padding:0 6px;color:#000;font-weight:500;font-size:11px;font-family:"+i(5).locals.AD_FONT+";text-decoration:none;background-color:#fff;border:1px solid #e5e5e5;border-radius:2px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:auto}",""]),t.locals={AD_FONT:""+i(5).locals.AD_FONT,SocialAdvertisingAdLabel:"tdrdBbIlQ"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".we590{position:absolute;top:0;right:0;left:0}",""]),t.locals={TopControls:"we590"}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,".GP66eur{background-color:#000;opacity:.5}",""]),t.locals={PackshotOverlay:"GP66eur"}},function(e,t,i){"use strict";e.exports=function(e,t,i,r){for(var n=65535&e|0,o=e>>>16&65535|0,a=0;0!==i;){i-=a=i>2e3?2e3:i;do{o=o+(n=n+t[r++]|0)|0}while(--a);n%=65521,o%=65521}return n|o<<16|0}},function(e,t,i){"use strict";var r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();e.exports=function(e,t,i,n){var o=r,a=n+i;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,i){"use strict";function r(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",r=0;r<t;r++)i+=String.fromCharCode(e[r]);return i}var n=i(15),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(c){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(c){a=!1}for(var s=new n.Buf8(256),d=0;d<256;d++)s[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;s[254]=s[254]=1,t.string2buf=function(e){var t,i,r,o,a,s=e.length,d=0;for(o=0;o<s;o++)55296===(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),d+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(d),a=0,o=0;a<d;o++)55296===(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320===(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),i<128?t[a++]=i:i<2048?(t[a++]=192|i>>>6,t[a++]=128|63&i):i<65536?(t[a++]=224|i>>>12,t[a++]=128|i>>>6&63,t[a++]=128|63&i):(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63,t[a++]=128|i>>>6&63,t[a++]=128|63&i);return t},t.buf2binstring=function(e){return r(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},t.buf2string=function(e,t){var i,n,o,a,d=t||e.length,c=new Array(2*d);for(n=0,i=0;i<d;)if((o=e[i++])<128)c[n++]=o;else if((a=s[o])>4)c[n++]=65533,i+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&i<d;)o=o<<6|63&e[i++],a--;a>1?c[n++]=65533:o<65536?c[n++]=o:(o-=65536,c[n++]=55296|o>>10&1023,c[n++]=56320|1023&o)}return r(c,n)},t.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128===(192&e[i]);)i--;return i<0?t:0===i?t:i+s[e[i]]>t?i:t}},function(e,t,i){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,i){"use strict";function r(e){o.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var n=i(3).Buffer,o=i(50).Transform;i(1)(r,o),r.prototype._transform=function(e,t,i){var r=null;try{this.update(e,t)}catch(n){r=n}i(r)},r.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(i){t=i}e(t)},r.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var i=this._block,r=0;this._blockOffset+e.length-r>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)i[o++]=e[r++];this._update(),this._blockOffset=0}for(;r<e.length;)i[this._blockOffset++]=e[r++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var i=0;i<4;++i)this._length[i]=0;return t},r.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=r},function(e,t,i){"use strict";(function(t,r){function n(e,t){e=e||{};var r=t instanceof(_=_||i(19));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(O||(O=i(55).StringDecoder),this.decoder=new O(e.encoding),this.encoding=e.encoding)}function o(e){if(_=_||i(19),!(this instanceof o))return new o(e);this._readableState=new n(e,this),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),E.call(this)}function a(e,t,i,r,n){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var i=t.decoder.end();i&&i.length&&(t.buffer.push(i),t.length+=t.objectMode?1:i.length)}t.ended=!0,c(e)}(e,a)):(n||(o=function(e,t){var i;r=t,T.isBuffer(r)||r instanceof C||"string"===typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk"));var r;return i}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===T.prototype||(t=function(e){return T.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):s(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!i?(t=a.decoder.write(t),a.objectMode||0!==t.length?s(e,a,t,!1):h(e,a)):s(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function s(e,t,i,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,r?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&c(e)),h(e,t)}function d(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(P("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?A.nextTick(l,e):l(e))}function l(e){P("emit readable"),e.emit("readable"),m(e)}function h(e,t){t.readingMore||(t.readingMore=!0,A.nextTick(u,e,t))}function u(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(P("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function f(e){P("readable nexttick read 0"),e.read(0)}function p(e,t){t.reading||(P("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),m(e),t.flowing&&!t.reading&&e.read(0)}function m(e){var t=e._readableState;for(P("flow",t.flowing);t.flowing&&null!==e.read(););}function g(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():i?function(e,t){var i=t.head,r=1,n=i.data;e-=n.length;for(;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(a===o.length?n+=o:n+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=o.slice(a));break}++r}return t.length-=r,n}(e,t):function(e,t){var i=T.allocUnsafe(e),r=t.head,n=1;r.data.copy(i),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(i,i.length-e,0,a),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t);return r}(e,t.buffer,t.decoder),i);var i}function v(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,A.nextTick(b,t,e))}function b(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function y(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}var A=i(42);e.exports=o;var _,w=i(141);o.ReadableState=n;i(51).EventEmitter;var S=function(e,t){return e.listeners(t).length},E=i(87),T=i(53).Buffer,C=t.Uint8Array||function(){},I=i(33);I.inherits=i(1);var k=i(142),P=void 0;P=k&&k.debuglog?k.debuglog("stream"):function(){};var O,D=i(143),R=i(88);I.inherits(o,E);var N=["error","close","destroy","pause","resume"];Object.defineProperty(o.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),o.prototype.destroy=R.destroy,o.prototype._undestroy=R.undestroy,o.prototype._destroy=function(e,t){this.push(null),t(e)},o.prototype.push=function(e,t){var i,r=this._readableState;return r.objectMode?i=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=T.from(e,t),t=""),i=!0),a(this,e,t,!1,i)},o.prototype.unshift=function(e){return a(this,e,null,!0,!1)},o.prototype.isPaused=function(){return!1===this._readableState.flowing},o.prototype.setEncoding=function(e){return O||(O=i(55).StringDecoder),this._readableState.decoder=new O(e),this._readableState.encoding=e,this};var M=8388608;o.prototype.read=function(e){P("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return P("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?v(this):c(this),null;if(0===(e=d(e,t))&&t.ended)return 0===t.length&&v(this),null;var r,n=t.needReadable;return P("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&P("length less than watermark",n=!0),t.ended||t.reading?P("reading or ended",n=!1):n&&(P("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=d(i,t))),null===(r=e>0?g(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&v(this)),null!==r&&this.emit("data",r),r},o.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},o.prototype.pipe=function(e,t){function i(t,r){P("onunpipe"),t===l&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,P("cleanup"),e.removeListener("close",s),e.removeListener("finish",d),e.removeListener("drain",f),e.removeListener("error",a),e.removeListener("unpipe",i),l.removeListener("end",n),l.removeListener("end",c),l.removeListener("data",o),p=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function n(){P("onend"),e.end()}function o(t){P("ondata"),g=!1,!1!==e.write(t)||g||((1===h.pipesCount&&h.pipes===e||h.pipesCount>1&&-1!==y(h.pipes,e))&&!p&&(P("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,g=!0),l.pause())}function a(t){P("onerror",t),c(),e.removeListener("error",a),0===S(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",d),c()}function d(){P("onfinish"),e.removeListener("close",s),c()}function c(){P("unpipe"),l.unpipe(e)}var l=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,P("pipe count=%d opts=%j",h.pipesCount,t);var u=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?n:c;h.endEmitted?A.nextTick(u):l.once("end",u),e.on("unpipe",i);var f=function(e){return function(){var t=e._readableState;P("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&S(e,"data")&&(t.flowing=!0,m(e))}}(l);e.on("drain",f);var p=!1,g=!1;return l.on("data",o),function(e,t,i){if("function"===typeof e.prependListener)return e.prependListener(t,i);e._events&&e._events[t]?w(e._events[t])?e._events[t].unshift(i):e._events[t]=[i,e._events[t]]:e.on(t,i)}(e,"error",a),e.once("close",s),e.once("finish",d),e.emit("pipe",l),h.flowing||(P("pipe resume"),l.resume()),e},o.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<n;o++)r[o].emit("unpipe",this,i);return this}var a=y(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i),this)},o.prototype.on=function(e,t){var i=E.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&c(this):A.nextTick(f,this))}return i},o.prototype.addListener=o.prototype.on,o.prototype.resume=function(){var e=this._readableState;return e.flowing||(P("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,A.nextTick(p,e,t))}(this,e)),this},o.prototype.pause=function(){return P("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(P("pause"),this._readableState.flowing=!1,this.emit("pause")),this},o.prototype.wrap=function(e){var t=this,i=this._readableState,r=!1;for(var n in e.on("end",(function(){if(P("wrapped end"),i.decoder&&!i.ended){var e=i.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){(P("wrapped data"),i.decoder&&(n=i.decoder.write(n)),!i.objectMode||null!==n&&void 0!==n)&&((i.objectMode||n&&n.length)&&(t.push(n)||(r=!0,e.pause())))})),e)void 0===this[n]&&"function"===typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var o=0;o<N.length;o++)e.on(N[o],this.emit.bind(this,N[o]));return this._read=function(t){P("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(o.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),o._fromList=g}).call(this,i(11),i(16))},function(e,t,i){e.exports=i(51).EventEmitter},function(e,t,i){"use strict";function r(e,t){e.emit("error",t)}var n=i(42);e.exports={destroy:function(e,t){var i=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(r,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,i){"use strict";function r(e,t){var i=this._transformState;i.transforming=!1;var r=i.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,i.writecb=null,null!=t&&this.push(t),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function n(e){if(!(this instanceof n))return new n(e);s.call(this,e),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"===typeof this._flush?this._flush((function(t,i){a(e,t,i)})):a(this,null,null)}function a(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}e.exports=n;var s=i(19),d=i(33);d.inherits=i(1),d.inherits(n,s),n.prototype.push=function(e,t){return this._transformState.needTransform=!1,s.prototype.push.call(this,e,t)},n.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},n.prototype._write=function(e,t,i){var r=this._transformState;if(r.writecb=i,r.writechunk=e,r.writeencoding=t,!r.transforming){var n=this._readableState;(r.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},n.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},n.prototype._destroy=function(e,t){var i=this;s.prototype._destroy.call(this,e,(function(e){t(e),i.emit("close")}))}},function(e,t,i){function r(){this.init(),this._w=f,l.call(this,64,56)}function n(e,t,i){return i^e&(t^i)}function o(e,t,i){return e&t|i&(e|t)}function a(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function s(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}var c=i(1),l=i(28),h=i(3).Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],f=new Array(64);c(r,l),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,c=0|this._b,l=0|this._c,h=0|this._d,f=0|this._e,p=0|this._f,m=0|this._g,g=0|this._h,v=0;v<16;++v)i[v]=e.readInt32BE(4*v);for(;v<64;++v)i[v]=0|(((t=i[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+i[v-7]+d(i[v-15])+i[v-16];for(var b=0;b<64;++b){var y=g+s(f)+n(f,p,m)+u[b]+i[b]|0,A=a(r)+o(r,c,l)|0;g=m,m=p,p=f,f=h+y|0,h=l,l=c,c=r,r=y+A|0}this._a=r+this._a|0,this._b=c+this._b|0,this._c=l+this._c|0,this._d=h+this._d|0,this._e=f+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=g+this._h|0},r.prototype._hash=function(){var e=h.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=v,p.call(this,128,112)}function n(e,t,i){return i^e&(t^i)}function o(e,t,i){return e&t|i&(e|t)}function a(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function s(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function c(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function l(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function h(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function u(e,t){return e>>>0<t>>>0?1:0}var f=i(1),p=i(28),m=i(3).Buffer,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);f(r,p),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(e){for(var t=this._w,i=0|this._ah,r=0|this._bh,f=0|this._ch,p=0|this._dh,m=0|this._eh,v=0|this._fh,b=0|this._gh,y=0|this._hh,A=0|this._al,_=0|this._bl,w=0|this._cl,S=0|this._dl,E=0|this._el,T=0|this._fl,C=0|this._gl,I=0|this._hl,k=0;k<32;k+=2)t[k]=e.readInt32BE(4*k),t[k+1]=e.readInt32BE(4*k+4);for(;k<160;k+=2){var P=t[k-30],O=t[k-30+1],D=d(P,O),R=c(O,P),N=l(P=t[k-4],O=t[k-4+1]),M=h(O,P),V=t[k-14],B=t[k-14+1],x=t[k-32],L=t[k-32+1],U=R+B|0,F=D+V+u(U,R)|0;F=(F=F+N+u(U=U+M|0,M)|0)+x+u(U=U+L|0,L)|0,t[k]=F,t[k+1]=U}for(var H=0;H<160;H+=2){F=t[H],U=t[H+1];var j=o(i,r,f),z=o(A,_,w),W=a(i,A),Y=a(A,i),G=s(m,E),q=s(E,m),K=g[H],X=g[H+1],Q=n(m,v,b),J=n(E,T,C),Z=I+q|0,$=y+G+u(Z,I)|0;$=($=($=$+Q+u(Z=Z+J|0,J)|0)+K+u(Z=Z+X|0,X)|0)+F+u(Z=Z+U|0,U)|0;var ee=Y+z|0,te=W+j+u(ee,Y)|0;y=b,I=C,b=v,C=T,v=m,T=E,m=p+$+u(E=S+Z|0,S)|0,p=f,S=w,f=r,w=_,r=i,_=A,i=$+te+u(A=Z+ee|0,Z)|0}this._al=this._al+A|0,this._bl=this._bl+_|0,this._cl=this._cl+w|0,this._dl=this._dl+S|0,this._el=this._el+E|0,this._fl=this._fl+T|0,this._gl=this._gl+C|0,this._hl=this._hl+I|0,this._ah=this._ah+i+u(this._al,A)|0,this._bh=this._bh+r+u(this._bl,_)|0,this._ch=this._ch+f+u(this._cl,w)|0,this._dh=this._dh+p+u(this._dl,S)|0,this._eh=this._eh+m+u(this._el,E)|0,this._fh=this._fh+v+u(this._fl,T)|0,this._gh=this._gh+b+u(this._gl,C)|0,this._hh=this._hh+y+u(this._hl,I)|0},r.prototype._hash=function(){function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}var t=m.allocUnsafe(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},e.exports=r},function(e,t,i){"use strict";function r(e,t){a.call(this,"digest"),"string"===typeof t&&(t=s.from(t));var i="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>i)?t=("rmd160"===e?new c:l(e)).update(t).digest():t.length<i&&(t=s.concat([t,h],i));for(var r=this._ipad=s.allocUnsafe(i),n=this._opad=s.allocUnsafe(i),o=0;o<i;o++)r[o]=54^t[o],n[o]=92^t[o];this._hash="rmd160"===e?new c:l(e),this._hash.update(r)}var n=i(1),o=i(158),a=i(17),s=i(3).Buffer,d=i(93),c=i(56),l=i(57),h=s.alloc(128);n(r,a),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:l(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new r("rmd160",t):"md5"===e?new o(d,t):new r(e,t)}},function(e,t,i){var r=i(49);e.exports=function(e){return(new r).update(e).digest()}},function(e){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(e,t,i){t.pbkdf2=i(160),t.pbkdf2Sync=i(98)},function(e,t,i){(function(t){function i(e,i){if("string"!==typeof e&&!t.isBuffer(e))throw new TypeError(i+" must be a buffer or string")}var r=Math.pow(2,30)-1;e.exports=function(e,t,n,o){if(i(e,"Password"),i(t,"Salt"),"number"!==typeof n)throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if("number"!==typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!==o)throw new TypeError("Bad key length")}}).call(this,i(6).Buffer)},function(e,t,i){(function(t){var i;t.browser?i="utf-8":i=parseInt(t.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";e.exports=i}).call(this,i(16))},function(e,t,i){function r(e,t,i){var r=function(e){return"rmd160"===e||"ripemd160"===e?function(e){return(new o).update(e).digest()}:"md5"===e?n:function(t){return a(e).update(t).digest()}}(e),s="sha512"===e||"sha384"===e?128:64;t.length>s?t=r(t):t.length<s&&(t=c.concat([t,l],s));for(var d=c.allocUnsafe(s+h[e]),u=c.allocUnsafe(s+h[e]),f=0;f<s;f++)d[f]=54^t[f],u[f]=92^t[f];var p=c.allocUnsafe(s+i+4);d.copy(p,0,0,s),this.ipad1=p,this.ipad2=d,this.opad=u,this.alg=e,this.blocksize=s,this.hash=r,this.size=h[e]}var n=i(93),o=i(56),a=i(57),s=i(96),d=i(97),c=i(3).Buffer,l=c.alloc(128),h={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},e.exports=function(e,t,i,n,o){s(e,t,i,n),c.isBuffer(e)||(e=c.from(e,d)),c.isBuffer(t)||(t=c.from(t,d));var a=new r(o=o||"sha1",e,t.length),l=c.allocUnsafe(n),u=c.allocUnsafe(t.length+4);t.copy(u,0,0,t.length);for(var f=0,p=h[o],m=Math.ceil(n/p),g=1;g<=m;g++){u.writeUInt32BE(g,t.length);for(var v=a.run(u,a.ipad1),b=v,y=1;y<i;y++){b=a.run(b,a.ipad2);for(var A=0;A<p;A++)v[A]^=b[A]}v.copy(l,f),f+=p}return l}},function(e,t,i){function r(e){var t=e._cipher.encryptBlockRaw(e._prev);return a(e._prev),t}var n=i(34),o=i(3).Buffer,a=i(100);t.encrypt=function(e,t){var i=Math.ceil(t.length/16),a=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(16*i)]);for(var s=0;s<i;s++){var d=r(e),c=a+16*s;e._cache.writeUInt32BE(d[0],c+0),e._cache.writeUInt32BE(d[1],c+4),e._cache.writeUInt32BE(d[2],c+8),e._cache.writeUInt32BE(d[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),n(t,l)}},function(e,t){e.exports=function(e){for(var t,i=e.length;i--;){if(255!==(t=e.readUInt8(i))){t++,e.writeUInt8(t,i);break}e.writeUInt8(0,i)}}},function(e){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(e,t,i){function r(e,t,i,r){a.call(this);var s=o.alloc(4,0);this._cipher=new n.AES(t);var c=this._cipher.encryptBlock(s);this._ghash=new d(c),i=function(e,t,i){if(12===t.length)return e._finID=o.concat([t,o.from([0,0,0,1])]),o.concat([t,o.from([0,0,0,2])]);var r=new d(i),n=t.length,a=n%16;r.update(t),a&&(a=16-a,r.update(o.alloc(a,0))),r.update(o.alloc(8,0));var s=8*n,c=o.alloc(8);c.writeUIntBE(s,0,8),r.update(c),e._finID=r.state;var h=o.from(e._finID);return l(h),h}(this,i,c),this._prev=o.from(i),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}var n=i(43),o=i(3).Buffer,a=i(17),s=i(1),d=i(175),c=i(34),l=i(100);s(r,a),r.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=o.alloc(t,0),this._ghash.update(t))}this._called=!0;var i=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(i),this._len+=e.length,i},r.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var i=0;e.length!==t.length&&i++;for(var r=Math.min(e.length,t.length),n=0;n<r;++n)i+=e[n]^t[n];return i}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},r.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},r.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},r.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=r},function(e,t,i){function r(e,t,i,r){a.call(this),this._cipher=new n.AES(t),this._prev=o.from(i),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=e}var n=i(43),o=i(3).Buffer,a=i(17);i(1)(r,a),r.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},e.exports=r},function(e,t,i){function r(){if(null!==b)return b;var e=[];e[0]=2;for(var t=1,i=3;i<1048576;i+=2){for(var r=Math.ceil(Math.sqrt(i)),n=0;n<t&&e[n]<=r&&i%e[n]!==0;n++);t!==n&&e[n]<=r||(e[t++]=i)}return b=e,e}function n(e){for(var t=r(),i=0;i<t.length;i++)if(0===e.modn(t[i]))return 0===e.cmpn(t[i]);return!0}function o(e){var t=d.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function a(e,t){if(e<16)return new d(2===t||5===t?[140,123]:[140,39]);var i,r;for(t=new d(t);;){for(i=new d(s(Math.ceil(e/8)));i.bitLength()>e;)i.ishrn(1);if(i.isEven()&&i.iadd(h),i.testn(1)||i.iadd(u),t.cmp(u)){if(!t.cmp(f))for(;i.mod(p).cmp(m);)i.iadd(v)}else for(;i.mod(c).cmp(g);)i.iadd(v);if(n(r=i.shrn(1))&&n(i)&&o(r)&&o(i)&&l.test(r)&&l.test(i))return i}}var s=i(27);e.exports=a,a.simpleSieve=n,a.fermatTest=o;var d=i(4),c=new d(24),l=new(i(105)),h=new d(1),u=new d(2),f=new d(5),p=(new d(16),new d(8),new d(10)),m=new d(3),g=(new d(7),new d(11)),v=new d(4),b=(new d(12),null)},function(e,t,i){function r(e){this.rand=e||new o.Rand}var n=i(4),o=i(61);e.exports=r,r.create=function(e){return new r(e)},r.prototype._randbelow=function(e){var t=e.bitLength(),i=Math.ceil(t/8);do{var r=new n(this.rand.generate(i))}while(r.cmp(e)>=0);return r},r.prototype._randrange=function(e,t){var i=t.sub(e);return e.add(this._randbelow(i))},r.prototype.test=function(e,t,i){var r=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,r/48|0));for(var s=e.subn(1),d=0;!s.testn(d);d++);for(var c=e.shrn(d),l=s.toRed(o);t>0;t--){var h=this._randrange(new n(2),s);i&&i(h);var u=h.toRed(o).redPow(c);if(0!==u.cmp(a)&&0!==u.cmp(l)){for(var f=1;f<d;f++){if(0===(u=u.redSqr()).cmp(a))return!1;if(0===u.cmp(l))break}if(f===d)return!1}}return!0},r.prototype.getDivisor=function(e,t){var i=e.bitLength(),r=n.mont(e),o=new n(1).toRed(r);t||(t=Math.max(1,i/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var d=e.shrn(s),c=a.toRed(r);t>0;t--){var l=this._randrange(new n(2),a),h=e.gcd(l);if(0!==h.cmpn(1))return h;var u=l.toRed(r).redPow(d);if(0!==u.cmp(o)&&0!==u.cmp(c)){for(var f=1;f<s;f++){if(0===(u=u.redSqr()).cmp(o))return u.fromRed().subn(1).gcd(e);if(0===u.cmp(c))break}if(f===s)return(u=u.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},function(e,t,i){"use strict";function r(e){return 1===e.length?"0"+e:e}function n(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t}var o=t;o.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var i=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)i[r]=0|e[r];return i}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)i.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var n=e.charCodeAt(r),o=n>>8,a=255&n;o?i.push(o,a):i.push(a)}return i},o.zero2=r,o.toHex=n,o.encode=function(e,t){return"hex"===t?n(e):e}},function(e,t,i){"use strict";var r=t;r.base=i(45),r.short=i(187),r.mont=i(188),r.edwards=i(189)},function(e,t,i){"use strict";function r(e,t,i){return e&t^~e&i}function n(e,t,i){return e&t^e&i^t&i}function o(e,t,i){return e^t^i}var a=i(12).rotr32;t.ft_1=function(e,t,i,a){return 0===e?r(t,i,a):1===e||3===e?o(t,i,a):2===e?n(t,i,a):void 0},t.ch32=r,t.maj32=n,t.p32=o,t.s0_256=function(e){return a(e,2)^a(e,13)^a(e,22)},t.s1_256=function(e){return a(e,6)^a(e,11)^a(e,25)},t.g0_256=function(e){return a(e,7)^a(e,18)^e>>>3},t.g1_256=function(e){return a(e,17)^a(e,19)^e>>>10}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}var n=i(12),o=i(35),a=i(108),s=i(8),d=n.sum32,c=n.sum32_4,l=n.sum32_5,h=a.ch32,u=a.maj32,f=a.s0_256,p=a.s1_256,m=a.g0_256,g=a.g1_256,v=o.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];n.inherits(r,v),e.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=c(g(i[r-2]),i[r-7],m(i[r-15]),i[r-16]);var n=this.h[0],o=this.h[1],a=this.h[2],v=this.h[3],b=this.h[4],y=this.h[5],A=this.h[6],_=this.h[7];for(s(this.k.length===i.length),r=0;r<i.length;r++){var w=l(_,p(b),h(b,y,A),this.k[r],i[r]),S=d(f(n),u(n,o,a));_=A,A=y,y=b,b=d(v,w),v=a,a=o,o=n,n=d(w,S)}this.h[0]=d(this.h[0],n),this.h[1]=d(this.h[1],o),this.h[2]=d(this.h[2],a),this.h[3]=d(this.h[3],v),this.h[4]=d(this.h[4],b),this.h[5]=d(this.h[5],y),this.h[6]=d(this.h[6],A),this.h[7]=d(this.h[7],_)},r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=P,this.W=new Array(160)}function n(e,t,i,r,n){var o=e&i^~e&n;return o<0&&(o+=4294967296),o}function o(e,t,i,r,n,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function a(e,t,i,r,n){var o=e&i^e&n^i&n;return o<0&&(o+=4294967296),o}function s(e,t,i,r,n,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function d(e,t){var i=v(e,t,28)^v(t,e,2)^v(t,e,7);return i<0&&(i+=4294967296),i}function c(e,t){var i=b(e,t,28)^b(t,e,2)^b(t,e,7);return i<0&&(i+=4294967296),i}function l(e,t){var i=b(e,t,14)^b(e,t,18)^b(t,e,9);return i<0&&(i+=4294967296),i}function h(e,t){var i=v(e,t,1)^v(e,t,8)^y(e,t,7);return i<0&&(i+=4294967296),i}function u(e,t){var i=b(e,t,1)^b(e,t,8)^A(e,t,7);return i<0&&(i+=4294967296),i}function f(e,t){var i=b(e,t,19)^b(t,e,29)^A(e,t,6);return i<0&&(i+=4294967296),i}var p=i(12),m=i(35),g=i(8),v=p.rotr64_hi,b=p.rotr64_lo,y=p.shr64_hi,A=p.shr64_lo,_=p.sum64,w=p.sum64_hi,S=p.sum64_lo,E=p.sum64_4_hi,T=p.sum64_4_lo,C=p.sum64_5_hi,I=p.sum64_5_lo,k=m.BlockHash,P=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];p.inherits(r,k),e.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(e,t){for(var i,r,n,o=this.W,a=0;a<32;a++)o[a]=e[t+a];for(;a<o.length;a+=2){var s=(i=o[a-4],r=o[a-3],n=void 0,(n=v(i,r,19)^v(r,i,29)^y(i,r,6))<0&&(n+=4294967296),n),d=f(o[a-4],o[a-3]),c=o[a-14],l=o[a-13],p=h(o[a-30],o[a-29]),m=u(o[a-30],o[a-29]),g=o[a-32],b=o[a-31];o[a]=E(s,d,c,l,p,m,g,b),o[a+1]=T(s,d,c,l,p,m,g,b)}},r.prototype._update=function(e,t){this._prepareBlock(e,t);var i,r,h,u=this.W,f=this.h[0],p=this.h[1],m=this.h[2],b=this.h[3],y=this.h[4],A=this.h[5],E=this.h[6],T=this.h[7],k=this.h[8],P=this.h[9],O=this.h[10],D=this.h[11],R=this.h[12],N=this.h[13],M=this.h[14],V=this.h[15];g(this.k.length===u.length);for(var B=0;B<u.length;B+=2){var x=M,L=V,U=(h=void 0,(h=v(i=k,r=P,14)^v(i,r,18)^v(r,i,9))<0&&(h+=4294967296),h),F=l(k,P),H=n(k,0,O,0,R),j=o(0,P,0,D,0,N),z=this.k[B],W=this.k[B+1],Y=u[B],G=u[B+1],q=C(x,L,U,F,H,j,z,W,Y,G),K=I(x,L,U,F,H,j,z,W,Y,G);x=d(f,p),L=c(f,p),U=a(f,0,m,0,y),F=s(0,p,0,b,0,A);var X=w(x,L,U,F),Q=S(x,L,U,F);M=R,V=N,R=O,N=D,O=k,D=P,k=w(E,T,q,K),P=S(T,T,q,K),E=y,T=A,y=m,A=b,m=f,b=p,f=w(q,K,X,Q),p=S(q,K,X,Q)}_(this.h,0,f,p),_(this.h,2,m,b),_(this.h,4,y,A),_(this.h,6,E,T),_(this.h,8,k,P),_(this.h,10,O,D),_(this.h,12,R,N),_(this.h,14,M,V)},r.prototype._digest=function(e){return"hex"===e?p.toHex32(this.h,"big"):p.split32(this.h,"big")}},function(e,t,i){function r(e,t){a.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function n(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof n||(e=new n(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var o=i(1),a=i(37).Reporter,s=i(6).Buffer;o(r,a),t.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},r.prototype.restore=function(e){var t=new r(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,a.prototype.restore.call(this,e.reporter),t},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},r.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var i=new r(this.base);return i._reporterState=this._reporterState,i.offset=this.offset,i.length=this.offset+e,this.offset+=e,i},r.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.EncoderBuffer=n,n.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach((function(i){i.join(e,t),t+=i.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},function(e,t,i){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(i){(0|i)==i&&(i|=0);var r=e[i];t[r]=i})),t},r.der=i(209)},function(e,t,i){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){c.Node.call(this,"der",e)}function o(e,t){var i=e.readUInt8(t);if(e.isError(i))return i;var r=h.tagClass[i>>6],n=0===(32&i);if(31===(31&i)){var o=i;for(i=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;i<<=7,i|=127&o}}else i&=31;return{cls:r,primitive:n,tag:i,tagStr:h.tag[i]}}function a(e,t,i){var r=e.readUInt8(i);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var n=127&r;if(n>4)return e.error("length octect is too long");r=0;for(var o=0;o<n;o++){r<<=8;var a=e.readUInt8(i);if(e.isError(a))return a;r|=a}return r}var s=i(1),d=i(36),c=d.base,l=d.bignum,h=d.constants.der;e.exports=r,r.prototype.decode=function(e,t){return e instanceof c.DecoderBuffer||(e=new c.DecoderBuffer(e,t)),this.tree._decode(e,t)},s(n,c.Node),n.prototype._peekTag=function(e,t,i){if(e.isEmpty())return!1;var r=e.save(),n=o(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(r),n.tag===t||n.tagStr===t||n.tagStr+"of"===t||i)},n.prototype._decodeTag=function(e,t,i){var r=o(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var n=a(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(n))return n;if(!i&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==n)return e.skip(n,'Failed to match body of: "'+t+'"');var s=e.save(),d=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(d)?d:(n=e.offset-s.offset,e.restore(s),e.skip(n,'Failed to match body of: "'+t+'"'))},n.prototype._skipUntilEnd=function(e,t){for(;;){var i=o(e,t);if(e.isError(i))return i;var r,n=a(e,i.primitive,t);if(e.isError(n))return n;if(r=i.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===i.tagStr)break}},n.prototype._decodeList=function(e,t,i,r){for(var n=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=i.decode(e,"der",r);if(e.isError(a)&&o)break;n.push(a)}return n},n.prototype._decodeStr=function(e,t){if("bitstr"===t){var i=e.readUInt8();return e.isError(i)?i:{unused:i,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var n="",o=0;o<r.length/2;o++)n+=String.fromCharCode(r.readUInt16BE(2*o));return n}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},n.prototype._decodeObjid=function(e,t,i){for(var r,n=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0===(128&a)&&(n.push(o),o=0)}128&a&&n.push(o);var s=n[0]/40|0,d=n[0]%40;if(r=i?n:[s,d].concat(n.slice(1)),t){var c=t[r.join(" ")];void 0===c&&(c=t[r.join(".")]),void 0!==c&&(r=c)}return r},n.prototype._decodeTime=function(e,t){var i=e.raw().toString();if("gentime"===t)var r=0|i.slice(0,4),n=0|i.slice(4,6),o=0|i.slice(6,8),a=0|i.slice(8,10),s=0|i.slice(10,12),d=0|i.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|i.slice(0,2),n=0|i.slice(2,4),o=0|i.slice(4,6),a=0|i.slice(6,8),s=0|i.slice(8,10),d=0|i.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,n-1,o,a,s,d,0)},n.prototype._decodeNull=function(e){return null},n.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},n.prototype._decodeInt=function(e,t){var i=e.raw(),r=new l(i);return t&&(r=t[r.toString(10)]||r),r},n.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},function(e,t,i){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){c.Node.call(this,"der",e)}function o(e){return e<10?"0"+e:e}var a=i(1),s=i(6).Buffer,d=i(36),c=d.base,l=d.constants.der;e.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},a(n,c.Node),n.prototype._encodeComposite=function(e,t,i,r){var n,o=function(e,t,i,r){var n;if("seqof"===e?e="seq":"setof"===e&&(e="set"),l.tagByName.hasOwnProperty(e))n=l.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);n=e}return n>=31?r.error("Multi-octet tag encoding unsupported"):(t||(n|=32),n|=l.tagClassByName[i||"universal"]<<6)}(e,t,i,this.reporter);if(r.length<128)return(n=new s(2))[0]=o,n[1]=r.length,this._createEncoderBuffer([n,r]);for(var a=1,d=r.length;d>=256;d>>=8)a++;(n=new s(2+a))[0]=o,n[1]=128|a;d=1+a;for(var c=r.length;c>0;d--,c>>=8)n[d]=255&c;return this._createEncoderBuffer([n,r])},n.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var i=new s(2*e.length),r=0;r<e.length;r++)i.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(i)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},n.prototype._encodeObjid=function(e,t,i){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!i){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var n=0;for(r=0;r<e.length;r++){var o=e[r];for(n++;o>=128;o>>=7)n++}var a=new s(n),d=a.length-1;for(r=e.length-1;r>=0;r--){o=e[r];for(a[d--]=127&o;(o>>=7)>0;)a[d--]=128|127&o}return this._createEncoderBuffer(a)},n.prototype._encodeTime=function(e,t){var i,r=new Date(e);return"gentime"===t?i=[o(r.getFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?i=[o(r.getFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(i,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!s.isBuffer(e)){var i=e.toArray();!e.sign&&128&i[0]&&i.unshift(0),e=new s(i)}if(s.isBuffer(e)){var r=e.length;0===e.length&&r++;var n=new s(r);return e.copy(n),0===e.length&&(n[0]=0),this._createEncoderBuffer(n)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var o=e;o>=256;o>>=8)r++;for(o=(n=new Array(r)).length-1;o>=0;o--)n[o]=255&e,e>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(new s(n))},n.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},n.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},n.prototype._skipDefault=function(e,t,i){var r,n=this._baseState;if(null===n.default)return!1;var o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,i).join()),o.length!==n.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==n.defaultBuffer[r])return!1;return!0}},function(e){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(e,t,i){function r(e){var t=o.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var n=i(32),o=i(3).Buffer;e.exports=function(e,t){for(var i,a=o.alloc(0),s=0;a.length<t;)i=r(s++),a=o.concat([a,n("sha1").update(e).update(i).digest()]);return a.slice(0,t)}},function(e,t){e.exports=function(e,t){for(var i=e.length,r=-1;++r<i;)e[r]^=t[r];return e}},function(e,t,i){var r=i(4),n=i(3).Buffer;e.exports=function(e,t){return n.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},function(e,t,i){(t=e.exports=i(2)(!1)).push([e.i,"",""]),t.locals={STICKY_ANIMATION_DURATION_STYLE_VALUE:"400ms",STICKY_ANIMATION_HALF_DURATION:"200ms"}},function(e,t){e.exports=function(e){e||(e=window);var t=e.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return parseInt(t.substring(i+5,t.indexOf(".",i)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var n=t.indexOf("Edge/");return n>0&&parseInt(t.substring(n+5,t.indexOf(".",n)),10)}},function(e,t){e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var i in t)e.hasOwnProperty(i)||(e[i]=t[i]);return e})},function(e){e.exports={be:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},en:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"We try to show you ads that match your interests. Tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_DESCRIPTION_SHORT:"Please tell us why you didn't like this video. This will help us select better ads for you.",ABUSE_SCREEN_TITLE:"Report this ad",ABUSE_VARIANT_ANNOYING:"Intrusive or annoying",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"False information",ABUSE_VARIANT_NOT_INTERESTED:"I'm not interested in this",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"I'm not interested in this",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"Political ad",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"Shocking content",ABUSE_VARIANT_SPAM:"Inappropriate content or spam",ABUSE_VARIANT_SPAM_SHORT:"Looks like spam",AD_TITLE:"Ad",LEARN_MORE:"Learn more",MORE:"More",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Repeat",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sec",SKIP:"Skip",SKIP_TIME_LEFT:"Skip ad",SOCIAL_ADVERTISING_AD_LABEL:"Social ad",TIME_LEFT:"Ad",UNMUTE:"Unmute",UNMUTE_INVITE:"Move mouse over ad<br>to hear sound",VISIT_SITE:"Go to advertiser\u2019s site",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},kk:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},ru:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"\u041c\u044b \u0441\u0442\u0430\u0440\u0430\u0435\u043c\u0441\u044f \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u0435\u0437\u043d\u0443\u044e \u0432\u0430\u043c \u0440\u0435\u043a\u043b\u0430\u043c\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043e\u0442\u0432\u0435\u0447\u0430\u0435\u0442 \u0432\u0430\u0448\u0438\u043c \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0430\u043c. \u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u043e\u0448\u0451\u043b \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_DESCRIPTION_SHORT:"\u041f\u043e\u044f\u0441\u043d\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0447\u0435\u043c\u0443 \u0432\u0430\u043c \u043d\u0435 \u043f\u043e\u043d\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0440\u043e\u043b\u0438\u043a. \u042d\u0442\u043e \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u043c \u043b\u0443\u0447\u0448\u0435 \u043e\u0442\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u0432\u0430\u0441 \u0440\u0435\u043a\u043b\u0430\u043c\u0443.",ABUSE_SCREEN_TITLE:"\u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043d\u0430&nbsp;\u0440\u0435\u043a\u043b\u0430\u043c\u0443",ABUSE_VARIANT_ANNOYING:"\u041d\u0430\u0432\u044f\u0437\u0447\u0438\u0432\u043e \u0438\u043b\u0438 \u043d\u0430\u0434\u043e\u0435\u043b\u043e",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"\u041d\u0435\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",ABUSE_VARIANT_NOT_INTERESTED:"\u041d\u0435 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0441\u044c \u044d\u0442\u043e\u0439 \u0442\u0435\u043c\u043e\u0439",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"\u041d\u0435\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u0430\u044f \u0442\u0435\u043c\u0430",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"\u041f\u043e\u043b\u0438\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"\u0428\u043e\u043a\u0438\u0440\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442",ABUSE_VARIANT_SPAM:"\u0421\u043e\u043c\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0438\u043b\u0438 \u0441\u043f\u0430\u043c",ABUSE_VARIANT_SPAM_SHORT:"\u041f\u043e\u0445\u043e\u0436\u0435 \u043d\u0430 \u0441\u043f\u0430\u043c",AD_TITLE:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",LEARN_MORE:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",MORE:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435",MOTION_BTN_WITHOUT_DOMAIN:"\u0410\u0434\u0440\u0435\u0441 \u0438 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",MOTION_DIETARYSUPPL_DISCLAIMER:"\u041d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043b\u0435\u043a\u0430\u0440\u0441\u0442\u0432\u043e\u043c",MOTION_DRUG_DISCLAIMER:"\u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f. \u041f\u043e\u0441\u043e\u0432\u0435\u0442\u0443\u0439\u0442\u0435\u0441\u044c \u0441 \u0432\u0440\u0430\u0447\u043e\u043c.",MOTION_HIDE_DISCLAIMER:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0443",MOTION_SHOW_DISCLAIMER:"\u042e\u0440. \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",REPEAT:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",REWARDED_TIMER_1:"\u0414\u043e \u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0433\u0440\u0430\u0434\u044b",REWARDED_TIMER_2:"\u0441\u0435\u043a",SECONDS:"\u0441\u0435\u043a",SKIP:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c",SKIP_TIME_LEFT:"\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0440\u0435\u043a\u043b\u0430\u043c\u0443",SOCIAL_ADVERTISING_AD_LABEL:"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043a\u043b\u0430\u043c\u0430",TIME_LEFT:"\u0420\u0435\u043a\u043b\u0430\u043c\u0430",UNMUTE:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",UNMUTE_INVITE:"\u041d\u0430\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u043e\u0440,<br>\u0447\u0442\u043e\u0431\u044b \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0437\u0432\u0443\u043a",VISIT_SITE:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442 \u0440\u0435\u043a\u043b\u0430\u043c\u043e\u0434\u0430\u0442\u0435\u043b\u044f",YANDEX_DIRECT:"\u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0438\u0440\u0435\u043a\u0442",YANDEX_DIRECT_LINK:"https://direct.yandex.ru/?partner"}},tr:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"\u0130lgi alanlar\u0131n\u0131za uygun reklamlar g\xf6stermeye \xe7al\u0131\u015f\u0131yoruz. Sizin i\xe7in daha faydal\u0131 reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_DESCRIPTION_SHORT:"Size daha uygun reklamlar se\xe7ebilmemiz i\xe7in bu videoyu neden be\u011fenmedi\u011finizi a\xe7\u0131klar m\u0131s\u0131n\u0131z?",ABUSE_SCREEN_TITLE:"Reklam\u0131 \u015fikayet et",ABUSE_VARIANT_ANNOYING:"Israrc\u0131 veya b\u0131kt\u0131r\u0131c\u0131",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"Bu konuyla ilgilenmiyorum",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"G\xfcvenilir olmayan i\xe7erik veya spam",ABUSE_VARIANT_SPAM_SHORT:"Spam gibi g\xf6r\xfcn\xfcyor",AD_TITLE:"Reklam",LEARN_MORE:"Daha fazla bilgi edinin",MORE:"Daha fazla",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"Tekrarla",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"sn",SKIP:"Atla",SKIP_TIME_LEFT:"Reklam\u0131 atla",SOCIAL_ADVERTISING_AD_LABEL:"",TIME_LEFT:"Reklam",UNMUTE:"Sesi a\xe7",UNMUTE_INVITE:"Sesi a\xe7mak i\xe7in<br>imleci \xfczerine getirin",VISIT_SITE:"Reklam verenin sitesine git",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uk:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}},uz:{adsdk:{ABUSE_SCREEN_DESCRIPTION:"",ABUSE_SCREEN_DESCRIPTION_SHORT:"",ABUSE_SCREEN_TITLE:"",ABUSE_VARIANT_ANNOYING:"",ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD:"",ABUSE_VARIANT_NOT_INTERESTED:"",ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD:"",ABUSE_VARIANT_POLITICAL_SOCIAL_AD:"",ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD:"",ABUSE_VARIANT_SPAM:"",ABUSE_VARIANT_SPAM_SHORT:"",AD_TITLE:"",LEARN_MORE:"",MORE:"",MOTION_BTN:"",MOTION_BTN_WITHOUT_DOMAIN:"",MOTION_DIETARYSUPPL_DISCLAIMER:"",MOTION_DRUG_DISCLAIMER:"",MOTION_HIDE_DISCLAIMER:"",MOTION_SHOW_DISCLAIMER:"",REPEAT:"",REWARDED_TIMER_1:"",REWARDED_TIMER_2:"",SECONDS:"",SKIP:"",SKIP_TIME_LEFT:"",SOCIAL_ADVERTISING_AD_LABEL:"",TIME_LEFT:"",UNMUTE:"",UNMUTE_INVITE:"",VISIT_SITE:"",YANDEX_DIRECT:"",YANDEX_DIRECT_LINK:""}}}},function(e,t,i){"use strict";var r={};(0,i(15).assign)(r,i(124),i(127),i(84)),e.exports=r},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==h)throw new Error(d[i]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var n;if(n="string"===typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(i=o.deflateSetDictionary(this.strm,n))!==h)throw new Error(d[i]);this._dict_set=!0}}function n(e,t){var i=new r(t);if(i.push(e,!0),i.err)throw i.msg||d[i.err];return i.result}var o=i(125),a=i(15),s=i(82),d=i(48),c=i(83),l=Object.prototype.toString,h=0,u=-1,f=0,p=8;r.prototype.push=function(e,t){var i,r,n=this.strm,d=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"===typeof e?n.input=s.string2buf(e):"[object ArrayBuffer]"===l.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new a.Buf8(d),n.next_out=0,n.avail_out=d),1!==(i=o.deflate(n,r))&&i!==h)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(n.output,n.next_out))):this.onData(a.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==i);return 4===r?(i=o.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h):2!==r||(this.onEnd(h),n.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=r,t.deflate=n,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,n(e,t)}},function(e,t,i){"use strict";function r(e,t){return e.msg=E[t],t}function n(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(A.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function s(e,t){_._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function d(e,t){e.pending_buf[e.pending++]=t}function c(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t){var i,r,n=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-$?e.strstart-(e.w_size-$):0,c=e.window,l=e.w_mask,h=e.prev,u=e.strstart+Z,f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(i=t)+a]===p&&c[i+a-1]===f&&c[i]===c[o]&&c[++i]===c[o+1]){o+=2,i++;do{}while(c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&c[++o]===c[++i]&&o<u);if(r=Z-(u-o),o=u-Z,r>a){if(e.match_start=t,a=r,r>=s)break;f=c[o+a-1],p=c[o+a]}}}while((t=h[t&l])>d&&0!==--n);return a<=e.lookahead?a:e.lookahead}function h(e){var t,i,r,n,o,a,s,d,c,l,h=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-$)){A.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=i=e.hash_size;do{r=e.head[--t],e.head[t]=r>=h?r-h:0}while(--i);t=i=h;do{r=e.prev[--t],e.prev[t]=r>=h?r-h:0}while(--i);n+=h}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,d=e.strstart+e.lookahead,c=n,l=void 0,(l=a.avail_in)>c&&(l=c),i=0===l?0:(a.avail_in-=l,A.arraySet(s,a.input,a.next_in,l,d),1===a.state.wrap?a.adler=w(a.adler,s,l,d):2===a.state.wrap&&(a.adler=S(a.adler,s,l,d)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=i,e.lookahead+e.insert>=J)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+J-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<J)););}while(e.lookahead<$&&0!==e.strm.avail_in)}function u(e,t){for(var i,r;;){if(e.lookahead<$){if(h(e),e.lookahead<$&&t===T)return de;if(0===e.lookahead)break}if(i=0,e.lookahead>=J&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-$&&(e.match_length=l(e,i)),e.match_length>=J)if(r=_._tr_tally(e,e.strstart-e.match_start,e.match_length-J),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=J){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=_._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=e.strstart<J-1?e.strstart:J-1,t===k?(s(e,!0),0===e.strm.avail_out?le:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:ce}function f(e,t){for(var i,r,n;;){if(e.lookahead<$){if(h(e),e.lookahead<$&&t===T)return de;if(0===e.lookahead)break}if(i=0,e.lookahead>=J&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=J-1,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-$&&(e.match_length=l(e,i),e.match_length<=5&&(e.strategy===B||e.match_length===J&&e.strstart-e.match_start>4096)&&(e.match_length=J-1)),e.prev_length>=J&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-J,r=_._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-J),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+J-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=J-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return de}else if(e.match_available){if((r=_._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return de}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=_._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<J-1?e.strstart:J-1,t===k?(s(e,!0),0===e.strm.avail_out?le:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:ce}function p(e,t,i,r,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=n}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=j,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(2*X),this.dyn_dtree=new A.Buf16(2*(2*q+1)),this.bl_tree=new A.Buf16(2*(2*K+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(Q+1),this.heap=new A.Buf16(2*G+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(2*G+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function g(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=H,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?te:ae,e.adler=2===t.wrap?0:1,t.last_flush=T,_._tr_init(t),O):r(e,R)}function v(e){var t,i=g(e);return i===O&&((t=e.state).window_size=2*t.w_size,o(t.head),t.max_lazy_match=y[t.level].max_lazy,t.good_match=y[t.level].good_length,t.nice_match=y[t.level].nice_length,t.max_chain_length=y[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=J-1,t.match_available=0,t.ins_h=0),i}function b(e,t,i,n,o,a){if(!e)return R;var s=1;if(t===V&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>z||i!==j||n<8||n>15||t<0||t>9||a<0||a>U)return r(e,R);8===n&&(n=9);var d=new m;return e.state=d,d.strm=e,d.wrap=s,d.gzhead=null,d.w_bits=n,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=o+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+J-1)/J),d.window=new A.Buf8(2*d.w_size),d.head=new A.Buf16(d.hash_size),d.prev=new A.Buf16(d.w_size),d.lit_bufsize=1<<o+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new A.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=t,d.strategy=a,d.method=i,v(e)}var y,A=i(15),_=i(126),w=i(80),S=i(81),E=i(48),T=0,C=1,I=3,k=4,P=5,O=0,D=1,R=-2,N=-3,M=-5,V=-1,B=1,x=2,L=3,U=4,F=0,H=2,j=8,z=9,W=15,Y=8,G=286,q=30,K=19,X=2*G+1,Q=15,J=3,Z=258,$=Z+J+1,ee=32,te=42,ie=69,re=73,ne=91,oe=103,ae=113,se=666,de=1,ce=2,le=3,he=4,ue=3;y=[new p(0,0,0,0,(function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===T)return de;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return de;if(e.strstart-e.block_start>=e.w_size-$&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=0,t===k?(s(e,!0),0===e.strm.avail_out?le:he):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),de)})),new p(4,4,8,4,u),new p(4,5,16,8,u),new p(4,6,32,32,u),new p(4,4,16,16,f),new p(8,16,32,32,f),new p(8,16,128,128,f),new p(8,32,128,256,f),new p(32,128,258,1024,f),new p(32,258,258,4096,f)],t.deflateInit=function(e,t){return b(e,t,j,W,Y,F)},t.deflateInit2=b,t.deflateReset=v,t.deflateResetKeep=g,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?R:(e.state.gzhead=t,O):R},t.deflate=function(e,t){var i,l,u,f;if(!e||!e.state||t>P||t<0)return e?r(e,R):R;if(l=e.state,!e.output||!e.input&&0!==e.avail_in||l.status===se&&t!==k)return r(e,0===e.avail_out?M:R);if(l.strm=e,i=l.last_flush,l.last_flush=t,l.status===te)if(2===l.wrap)e.adler=0,d(l,31),d(l,139),d(l,8),l.gzhead?(d(l,(l.gzhead.text?1:0)+(l.gzhead.hcrc?2:0)+(l.gzhead.extra?4:0)+(l.gzhead.name?8:0)+(l.gzhead.comment?16:0)),d(l,255&l.gzhead.time),d(l,l.gzhead.time>>8&255),d(l,l.gzhead.time>>16&255),d(l,l.gzhead.time>>24&255),d(l,9===l.level?2:l.strategy>=x||l.level<2?4:0),d(l,255&l.gzhead.os),l.gzhead.extra&&l.gzhead.extra.length&&(d(l,255&l.gzhead.extra.length),d(l,l.gzhead.extra.length>>8&255)),l.gzhead.hcrc&&(e.adler=S(e.adler,l.pending_buf,l.pending,0)),l.gzindex=0,l.status=ie):(d(l,0),d(l,0),d(l,0),d(l,0),d(l,0),d(l,9===l.level?2:l.strategy>=x||l.level<2?4:0),d(l,ue),l.status=ae);else{var p=j+(l.w_bits-8<<4)<<8;p|=(l.strategy>=x||l.level<2?0:l.level<6?1:6===l.level?2:3)<<6,0!==l.strstart&&(p|=ee),p+=31-p%31,l.status=ae,c(l,p),0!==l.strstart&&(c(l,e.adler>>>16),c(l,65535&e.adler)),e.adler=1}if(l.status===ie)if(l.gzhead.extra){for(u=l.pending;l.gzindex<(65535&l.gzhead.extra.length)&&(l.pending!==l.pending_buf_size||(l.gzhead.hcrc&&l.pending>u&&(e.adler=S(e.adler,l.pending_buf,l.pending-u,u)),a(e),u=l.pending,l.pending!==l.pending_buf_size));)d(l,255&l.gzhead.extra[l.gzindex]),l.gzindex++;l.gzhead.hcrc&&l.pending>u&&(e.adler=S(e.adler,l.pending_buf,l.pending-u,u)),l.gzindex===l.gzhead.extra.length&&(l.gzindex=0,l.status=re)}else l.status=re;if(l.status===re)if(l.gzhead.name){u=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>u&&(e.adler=S(e.adler,l.pending_buf,l.pending-u,u)),a(e),u=l.pending,l.pending===l.pending_buf_size)){f=1;break}f=l.gzindex<l.gzhead.name.length?255&l.gzhead.name.charCodeAt(l.gzindex++):0,d(l,f)}while(0!==f);l.gzhead.hcrc&&l.pending>u&&(e.adler=S(e.adler,l.pending_buf,l.pending-u,u)),0===f&&(l.gzindex=0,l.status=ne)}else l.status=ne;if(l.status===ne)if(l.gzhead.comment){u=l.pending;do{if(l.pending===l.pending_buf_size&&(l.gzhead.hcrc&&l.pending>u&&(e.adler=S(e.adler,l.pending_buf,l.pending-u,u)),a(e),u=l.pending,l.pending===l.pending_buf_size)){f=1;break}f=l.gzindex<l.gzhead.comment.length?255&l.gzhead.comment.charCodeAt(l.gzindex++):0,d(l,f)}while(0!==f);l.gzhead.hcrc&&l.pending>u&&(e.adler=S(e.adler,l.pending_buf,l.pending-u,u)),0===f&&(l.status=oe)}else l.status=oe;if(l.status===oe&&(l.gzhead.hcrc?(l.pending+2>l.pending_buf_size&&a(e),l.pending+2<=l.pending_buf_size&&(d(l,255&e.adler),d(l,e.adler>>8&255),e.adler=0,l.status=ae)):l.status=ae),0!==l.pending){if(a(e),0===e.avail_out)return l.last_flush=-1,O}else if(0===e.avail_in&&n(t)<=n(i)&&t!==k)return r(e,M);if(l.status===se&&0!==e.avail_in)return r(e,M);if(0!==e.avail_in||0!==l.lookahead||t!==T&&l.status!==se){var m=l.strategy===x?function(e,t){for(var i;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===T)return de;break}if(e.match_length=0,i=_._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=0,t===k?(s(e,!0),0===e.strm.avail_out?le:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:ce}(l,t):l.strategy===L?function(e,t){for(var i,r,n,o,a=e.window;;){if(e.lookahead<=Z){if(h(e),e.lookahead<=Z&&t===T)return de;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=J&&e.strstart>0&&(r=a[n=e.strstart-1])===a[++n]&&r===a[++n]&&r===a[++n]){o=e.strstart+Z;do{}while(r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&n<o);e.match_length=Z-(o-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=J?(i=_._tr_tally(e,1,e.match_length-J),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=_._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(s(e,!1),0===e.strm.avail_out))return de}return e.insert=0,t===k?(s(e,!0),0===e.strm.avail_out?le:he):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?de:ce}(l,t):y[l.level].func(l,t);if(m!==le&&m!==he||(l.status=se),m===de||m===le)return 0===e.avail_out&&(l.last_flush=-1),O;if(m===ce&&(t===C?_._tr_align(l):t!==P&&(_._tr_stored_block(l,0,0,!1),t===I&&(o(l.head),0===l.lookahead&&(l.strstart=0,l.block_start=0,l.insert=0))),a(e),0===e.avail_out))return l.last_flush=-1,O}return t!==k?O:l.wrap<=0?D:(2===l.wrap?(d(l,255&e.adler),d(l,e.adler>>8&255),d(l,e.adler>>16&255),d(l,e.adler>>24&255),d(l,255&e.total_in),d(l,e.total_in>>8&255),d(l,e.total_in>>16&255),d(l,e.total_in>>24&255)):(c(l,e.adler>>>16),c(l,65535&e.adler)),a(e),l.wrap>0&&(l.wrap=-l.wrap),0!==l.pending?O:D)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==te&&t!==ie&&t!==re&&t!==ne&&t!==oe&&t!==ae&&t!==se?r(e,R):(e.state=null,t===ae?r(e,N):O):R},t.deflateSetDictionary=function(e,t){var i,r,n,a,s,d,c,l,u=t.length;if(!e||!e.state)return R;if(2===(a=(i=e.state).wrap)||1===a&&i.status!==te||i.lookahead)return R;for(1===a&&(e.adler=w(e.adler,t,u,0)),i.wrap=0,u>=i.w_size&&(0===a&&(o(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=new A.Buf8(i.w_size),A.arraySet(l,t,u-i.w_size,i.w_size,0),t=l,u=i.w_size),s=e.avail_in,d=e.next_in,c=e.input,e.avail_in=u,e.next_in=0,e.input=t,h(i);i.lookahead>=J;){r=i.strstart,n=i.lookahead-(J-1);do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+J-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++}while(--n);i.strstart=r,i.lookahead=J-1,h(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=J-1,i.match_available=0,e.next_in=d,e.input=c,e.avail_in=s,i.wrap=a,O},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,i){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function n(e,t,i,r,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?K[e]:K[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function d(e,t,i){e.bi_valid>B-i?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>B-e.bi_valid,e.bi_valid+=i-B):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function c(e,t,i){d(e,i[2*t],i[2*t+1])}function l(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function h(e,t,i){var r,n,o=new Array(V+1),a=0;for(r=1;r<=V;r++)o[r]=a=a+i[r-1]<<1;for(n=0;n<=t;n++){var s=e[2*n+1];0!==s&&(e[2*n]=l(o[s]++,s))}}function u(e){var t;for(t=0;t<D;t++)e.dyn_ltree[2*t]=0;for(t=0;t<R;t++)e.dyn_dtree[2*t]=0;for(t=0;t<N;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*L]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function f(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function p(e,t,i,r){var n=2*t,o=2*i;return e[n]<e[o]||e[n]===e[o]&&r[t]<=r[i]}function m(e,t,i){for(var r=e.heap[i],n=i<<1;n<=e.heap_len&&(n<e.heap_len&&p(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!p(t,r,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=r}function g(e,t,i){var r,n,o,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],n=e.pending_buf[e.l_buf+l],l++,0===r?c(e,n,t):(c(e,(o=X[n])+O+1,t),0!==(s=j[o])&&d(e,n-=Q[o],s),c(e,o=a(--r),i),0!==(s=z[o])&&d(e,r-=ee[o],s))}while(l<e.last_lit);c(e,L,t)}function v(e,t){var i,r,n,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=M,i=0;i<d;i++)0!==o[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):o[2*i+1]=0;for(;e.heap_len<2;)o[2*(n=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[n]=0,e.opt_len--,s&&(e.static_len-=a[2*n+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)m(e,o,i);n=d;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],m(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=r,o[2*n]=o[2*i]+o[2*r],e.depth[n]=(e.depth[i]>=e.depth[r]?e.depth[i]:e.depth[r])+1,o[2*i+1]=o[2*r+1]=n,e.heap[1]=n++,m(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,r,n,o,a,s,d=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,h=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(o=0;o<=V;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<M;i++)(o=d[2*d[2*(r=e.heap[i])+1]+1]+1)>p&&(o=p,m++),d[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=f&&(a=u[r-f]),s=d[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==m){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(n=e.heap[--i])>c||(d[2*n+1]!==o&&(e.opt_len+=(o-d[2*n+1])*d[2*n],d[2*n+1]=o),r--)}}(e,t),h(o,c,e.bl_count)}function b(e,t,i){var r,n,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)n=a,a=t[2*(r+1)+1],++s<d&&n===a||(s<c?e.bl_tree[2*n]+=s:0!==n?(n!==o&&e.bl_tree[2*n]++,e.bl_tree[2*U]++):s<=10?e.bl_tree[2*F]++:e.bl_tree[2*H]++,s=0,o=n,0===a?(d=138,c=3):n===a?(d=6,c=3):(d=7,c=4))}function y(e,t,i){var r,n,o=-1,a=t[1],s=0,l=7,h=4;for(0===a&&(l=138,h=3),r=0;r<=i;r++)if(n=a,a=t[2*(r+1)+1],!(++s<l&&n===a)){if(s<h)do{c(e,n,e.bl_tree)}while(0!==--s);else 0!==n?(n!==o&&(c(e,n,e.bl_tree),s--),c(e,U,e.bl_tree),d(e,s-3,2)):s<=10?(c(e,F,e.bl_tree),d(e,s-3,3)):(c(e,H,e.bl_tree),d(e,s-11,7));s=0,o=n,0===a?(l=138,h=3):n===a?(l=6,h=3):(l=7,h=4)}}function A(e,t,i,r){d(e,(C<<1)+(r?1:0),3),function(e,t,i,r){f(e),r&&(s(e,i),s(e,~i)),_.arraySet(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i,!0)}var _=i(15),w=4,S=0,E=1,T=2,C=0,I=1,k=2,P=29,O=256,D=O+1+P,R=30,N=19,M=2*D+1,V=15,B=16,x=7,L=256,U=16,F=17,H=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(D+2));r(G);var q=new Array(2*R);r(q);var K=new Array(512);r(K);var X=new Array(256);r(X);var Q=new Array(P);r(Q);var J,Z,$,ee=new Array(R);r(ee);var te=!1;t._tr_init=function(e){te||(!function(){var e,t,i,r,o,a=new Array(V+1);for(i=0,r=0;r<P-1;r++)for(Q[r]=i,e=0;e<1<<j[r];e++)X[i++]=r;for(X[i-1]=r,o=0,r=0;r<16;r++)for(ee[r]=o,e=0;e<1<<z[r];e++)K[o++]=r;for(o>>=7;r<R;r++)for(ee[r]=o<<7,e=0;e<1<<z[r]-7;e++)K[256+o++]=r;for(t=0;t<=V;t++)a[t]=0;for(e=0;e<=143;)G[2*e+1]=8,e++,a[8]++;for(;e<=255;)G[2*e+1]=9,e++,a[9]++;for(;e<=279;)G[2*e+1]=7,e++,a[7]++;for(;e<=287;)G[2*e+1]=8,e++,a[8]++;for(h(G,D+1,a),e=0;e<R;e++)q[2*e+1]=5,q[2*e]=l(e,5);J=new n(G,j,O+1,D,V),Z=new n(q,z,0,R,V),$=new n(new Array(0),W,0,N,x)}(),te=!0),e.l_desc=new o(e.dyn_ltree,J),e.d_desc=new o(e.dyn_dtree,Z),e.bl_desc=new o(e.bl_tree,$),e.bi_buf=0,e.bi_valid=0,u(e)},t._tr_stored_block=A,t._tr_flush_block=function(e,t,i,r){var n,o,a=0;e.level>0?(e.strm.data_type===T&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return S;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return E;for(t=32;t<O;t++)if(0!==e.dyn_ltree[2*t])return E;return S}(e)),v(e,e.l_desc),v(e,e.d_desc),a=function(e){var t;for(b(e,e.dyn_ltree,e.l_desc.max_code),b(e,e.dyn_dtree,e.d_desc.max_code),v(e,e.bl_desc),t=N-1;t>=3&&0===e.bl_tree[2*Y[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=n&&(n=o)):n=o=i+5,i+4<=n&&-1!==t?A(e,t,i,r):e.strategy===w||o===n?(d(e,(I<<1)+(r?1:0),3),g(e,G,q)):(d(e,(k<<1)+(r?1:0),3),function(e,t,i,r){var n;for(d(e,t-257,5),d(e,i-1,5),d(e,r-4,4),n=0;n<r;n++)d(e,e.bl_tree[2*Y[n]+1],3);y(e,e.dyn_ltree,t-1),y(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),g(e,e.dyn_ltree,e.dyn_dtree)),u(e),r&&f(e)},t._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(X[i]+O+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){d(e,I<<1,3),c(e,L,G),function(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=o.inflateInit2(this.strm,t.windowBits);if(i!==d.Z_OK)throw new Error(c[i]);if(this.header=new h,o.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=o.inflateSetDictionary(this.strm,t.dictionary))!==d.Z_OK))throw new Error(c[i])}function n(e,t){var i=new r(t);if(i.push(e,!0),i.err)throw i.msg||c[i.err];return i.result}var o=i(128),a=i(15),s=i(82),d=i(84),c=i(48),l=i(83),h=i(131),u=Object.prototype.toString;r.prototype.push=function(e,t){var i,r,n,c,l,h=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?d.Z_FINISH:d.Z_NO_FLUSH,"string"===typeof e?h.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new a.Buf8(f),h.next_out=0,h.avail_out=f),(i=o.inflate(h,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&p&&(i=o.inflateSetDictionary(this.strm,p)),i===d.Z_BUF_ERROR&&!0===m&&(i=d.Z_OK,m=!1),i!==d.Z_STREAM_END&&i!==d.Z_OK)return this.onEnd(i),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&i!==d.Z_STREAM_END&&(0!==h.avail_in||r!==d.Z_FINISH&&r!==d.Z_SYNC_FLUSH)||("string"===this.options.to?(n=s.utf8border(h.output,h.next_out),c=h.next_out-n,l=s.buf2string(h.output,n),h.next_out=c,h.avail_out=f-c,c&&a.arraySet(h.output,h.output,n,c,0),this.onData(l)):this.onData(a.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&i!==d.Z_STREAM_END);return i===d.Z_STREAM_END&&(r=d.Z_FINISH),r===d.Z_FINISH?(i=o.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===d.Z_OK):r!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),h.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===d.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=r,t.inflate=n,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,n(e,t)},t.ungzip=n},function(e,t,i){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=R,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new f.Buf32(le),t.distcode=t.distdyn=new f.Buf32(he),t.sane=1,t.back=-1,E):I}function a(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):I}function s(e,t){var i,r;return e&&e.state?(r=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?I:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,a(e))):I}function d(e,t){var i,r;return e?(r=new n,e.state=r,r.window=null,(i=s(e,t))!==E&&(e.state=null),i):I}function c(e){if(fe){var t;for(h=new f.Buf32(512),u=new f.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(v(y,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;v(A,e.lens,0,32,u,0,e.work,{bits:5}),fe=!1}e.lencode=h,e.lenbits=9,e.distcode=u,e.distbits=5}function l(e,t,i,r){var n,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),r>=o.wsize?(f.arraySet(o.window,t,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((n=o.wsize-o.wnext)>r&&(n=r),f.arraySet(o.window,t,i-r,n,o.wnext),(r-=n)?(f.arraySet(o.window,t,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}var h,u,f=i(15),p=i(80),m=i(81),g=i(129),v=i(130),b=0,y=1,A=2,_=4,w=5,S=6,E=0,T=1,C=2,I=-2,k=-3,P=-4,O=-5,D=8,R=1,N=2,M=3,V=4,B=5,x=6,L=7,U=8,F=9,H=10,j=11,z=12,W=13,Y=14,G=15,q=16,K=17,X=18,Q=19,J=20,Z=21,$=22,ee=23,te=24,ie=25,re=26,ne=27,oe=28,ae=29,se=30,de=31,ce=32,le=852,he=592,ue=15,fe=!0;t.inflateReset=a,t.inflateReset2=s,t.inflateResetKeep=o,t.inflateInit=function(e){return d(e,ue)},t.inflateInit2=d,t.inflate=function(e,t){var i,n,o,a,s,d,h,u,le,he,ue,fe,pe,me,ge,ve,be,ye,Ae,_e,we,Se,Ee,Te,Ce=0,Ie=new f.Buf8(4),ke=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return I;(i=e.state).mode===z&&(i.mode=W),s=e.next_out,o=e.output,h=e.avail_out,a=e.next_in,n=e.input,d=e.avail_in,u=i.hold,le=i.bits,he=d,ue=h,Se=E;e:for(;;)switch(i.mode){case R:if(0===i.wrap){i.mode=W;break}for(;le<16;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(2&i.wrap&&35615===u){i.check=0,Ie[0]=255&u,Ie[1]=u>>>8&255,i.check=m(i.check,Ie,2,0),u=0,le=0,i.mode=N;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",i.mode=se;break}if((15&u)!==D){e.msg="unknown compression method",i.mode=se;break}if(le-=4,we=8+(15&(u>>>=4)),0===i.wbits)i.wbits=we;else if(we>i.wbits){e.msg="invalid window size",i.mode=se;break}i.dmax=1<<we,e.adler=i.check=1,i.mode=512&u?H:z,u=0,le=0;break;case N:for(;le<16;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(i.flags=u,(255&i.flags)!==D){e.msg="unknown compression method",i.mode=se;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=se;break}i.head&&(i.head.text=u>>8&1),512&i.flags&&(Ie[0]=255&u,Ie[1]=u>>>8&255,i.check=m(i.check,Ie,2,0)),u=0,le=0,i.mode=M;case M:for(;le<32;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}i.head&&(i.head.time=u),512&i.flags&&(Ie[0]=255&u,Ie[1]=u>>>8&255,Ie[2]=u>>>16&255,Ie[3]=u>>>24&255,i.check=m(i.check,Ie,4,0)),u=0,le=0,i.mode=V;case V:for(;le<16;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}i.head&&(i.head.xflags=255&u,i.head.os=u>>8),512&i.flags&&(Ie[0]=255&u,Ie[1]=u>>>8&255,i.check=m(i.check,Ie,2,0)),u=0,le=0,i.mode=B;case B:if(1024&i.flags){for(;le<16;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}i.length=u,i.head&&(i.head.extra_len=u),512&i.flags&&(Ie[0]=255&u,Ie[1]=u>>>8&255,i.check=m(i.check,Ie,2,0)),u=0,le=0}else i.head&&(i.head.extra=null);i.mode=x;case x:if(1024&i.flags&&((fe=i.length)>d&&(fe=d),fe&&(i.head&&(we=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),f.arraySet(i.head.extra,n,a,fe,we)),512&i.flags&&(i.check=m(i.check,n,fe,a)),d-=fe,a+=fe,i.length-=fe),i.length))break e;i.length=0,i.mode=L;case L:if(2048&i.flags){if(0===d)break e;fe=0;do{we=n[a+fe++],i.head&&we&&i.length<65536&&(i.head.name+=String.fromCharCode(we))}while(we&&fe<d);if(512&i.flags&&(i.check=m(i.check,n,fe,a)),d-=fe,a+=fe,we)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=U;case U:if(4096&i.flags){if(0===d)break e;fe=0;do{we=n[a+fe++],i.head&&we&&i.length<65536&&(i.head.comment+=String.fromCharCode(we))}while(we&&fe<d);if(512&i.flags&&(i.check=m(i.check,n,fe,a)),d-=fe,a+=fe,we)break e}else i.head&&(i.head.comment=null);i.mode=F;case F:if(512&i.flags){for(;le<16;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(u!==(65535&i.check)){e.msg="header crc mismatch",i.mode=se;break}u=0,le=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=z;break;case H:for(;le<32;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}e.adler=i.check=r(u),u=0,le=0,i.mode=j;case j:if(0===i.havedict)return e.next_out=s,e.avail_out=h,e.next_in=a,e.avail_in=d,i.hold=u,i.bits=le,C;e.adler=i.check=1,i.mode=z;case z:if(t===w||t===S)break e;case W:if(i.last){u>>>=7&le,le-=7&le,i.mode=ne;break}for(;le<3;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}switch(i.last=1&u,le-=1,3&(u>>>=1)){case 0:i.mode=Y;break;case 1:if(c(i),i.mode=J,t===S){u>>>=2,le-=2;break e}break;case 2:i.mode=K;break;case 3:e.msg="invalid block type",i.mode=se}u>>>=2,le-=2;break;case Y:for(u>>>=7&le,le-=7&le;le<32;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if((65535&u)!==(u>>>16^65535)){e.msg="invalid stored block lengths",i.mode=se;break}if(i.length=65535&u,u=0,le=0,i.mode=G,t===S)break e;case G:i.mode=q;case q:if(fe=i.length){if(fe>d&&(fe=d),fe>h&&(fe=h),0===fe)break e;f.arraySet(o,n,a,fe,s),d-=fe,a+=fe,h-=fe,s+=fe,i.length-=fe;break}i.mode=z;break;case K:for(;le<14;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(i.nlen=257+(31&u),u>>>=5,le-=5,i.ndist=1+(31&u),u>>>=5,le-=5,i.ncode=4+(15&u),u>>>=4,le-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=se;break}i.have=0,i.mode=X;case X:for(;i.have<i.ncode;){for(;le<3;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}i.lens[ke[i.have++]]=7&u,u>>>=3,le-=3}for(;i.have<19;)i.lens[ke[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ee={bits:i.lenbits},Se=v(b,i.lens,0,19,i.lencode,0,i.work,Ee),i.lenbits=Ee.bits,Se){e.msg="invalid code lengths set",i.mode=se;break}i.have=0,i.mode=Q;case Q:for(;i.have<i.nlen+i.ndist;){for(;ve=(Ce=i.lencode[u&(1<<i.lenbits)-1])>>>16&255,be=65535&Ce,!((ge=Ce>>>24)<=le);){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(be<16)u>>>=ge,le-=ge,i.lens[i.have++]=be;else{if(16===be){for(Te=ge+2;le<Te;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(u>>>=ge,le-=ge,0===i.have){e.msg="invalid bit length repeat",i.mode=se;break}we=i.lens[i.have-1],fe=3+(3&u),u>>>=2,le-=2}else if(17===be){for(Te=ge+3;le<Te;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}le-=ge,we=0,fe=3+(7&(u>>>=ge)),u>>>=3,le-=3}else{for(Te=ge+7;le<Te;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}le-=ge,we=0,fe=11+(127&(u>>>=ge)),u>>>=7,le-=7}if(i.have+fe>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=se;break}for(;fe--;)i.lens[i.have++]=we}}if(i.mode===se)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=se;break}if(i.lenbits=9,Ee={bits:i.lenbits},Se=v(y,i.lens,0,i.nlen,i.lencode,0,i.work,Ee),i.lenbits=Ee.bits,Se){e.msg="invalid literal/lengths set",i.mode=se;break}if(i.distbits=6,i.distcode=i.distdyn,Ee={bits:i.distbits},Se=v(A,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ee),i.distbits=Ee.bits,Se){e.msg="invalid distances set",i.mode=se;break}if(i.mode=J,t===S)break e;case J:i.mode=Z;case Z:if(d>=6&&h>=258){e.next_out=s,e.avail_out=h,e.next_in=a,e.avail_in=d,i.hold=u,i.bits=le,g(e,ue),s=e.next_out,o=e.output,h=e.avail_out,a=e.next_in,n=e.input,d=e.avail_in,u=i.hold,le=i.bits,i.mode===z&&(i.back=-1);break}for(i.back=0;ve=(Ce=i.lencode[u&(1<<i.lenbits)-1])>>>16&255,be=65535&Ce,!((ge=Ce>>>24)<=le);){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(ve&&0===(240&ve)){for(ye=ge,Ae=ve,_e=be;ve=(Ce=i.lencode[_e+((u&(1<<ye+Ae)-1)>>ye)])>>>16&255,be=65535&Ce,!(ye+(ge=Ce>>>24)<=le);){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}u>>>=ye,le-=ye,i.back+=ye}if(u>>>=ge,le-=ge,i.back+=ge,i.length=be,0===ve){i.mode=re;break}if(32&ve){i.back=-1,i.mode=z;break}if(64&ve){e.msg="invalid literal/length code",i.mode=se;break}i.extra=15&ve,i.mode=$;case $:if(i.extra){for(Te=i.extra;le<Te;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}i.length+=u&(1<<i.extra)-1,u>>>=i.extra,le-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=ee;case ee:for(;ve=(Ce=i.distcode[u&(1<<i.distbits)-1])>>>16&255,be=65535&Ce,!((ge=Ce>>>24)<=le);){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(0===(240&ve)){for(ye=ge,Ae=ve,_e=be;ve=(Ce=i.distcode[_e+((u&(1<<ye+Ae)-1)>>ye)])>>>16&255,be=65535&Ce,!(ye+(ge=Ce>>>24)<=le);){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}u>>>=ye,le-=ye,i.back+=ye}if(u>>>=ge,le-=ge,i.back+=ge,64&ve){e.msg="invalid distance code",i.mode=se;break}i.offset=be,i.extra=15&ve,i.mode=te;case te:if(i.extra){for(Te=i.extra;le<Te;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}i.offset+=u&(1<<i.extra)-1,u>>>=i.extra,le-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=se;break}i.mode=ie;case ie:if(0===h)break e;if(fe=ue-h,i.offset>fe){if((fe=i.offset-fe)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=se;break}fe>i.wnext?(fe-=i.wnext,pe=i.wsize-fe):pe=i.wnext-fe,fe>i.length&&(fe=i.length),me=i.window}else me=o,pe=s-i.offset,fe=i.length;fe>h&&(fe=h),h-=fe,i.length-=fe;do{o[s++]=me[pe++]}while(--fe);0===i.length&&(i.mode=Z);break;case re:if(0===h)break e;o[s++]=i.length,h--,i.mode=Z;break;case ne:if(i.wrap){for(;le<32;){if(0===d)break e;d--,u|=n[a++]<<le,le+=8}if(ue-=h,e.total_out+=ue,i.total+=ue,ue&&(e.adler=i.check=i.flags?m(i.check,o,ue,s-ue):p(i.check,o,ue,s-ue)),ue=h,(i.flags?u:r(u))!==i.check){e.msg="incorrect data check",i.mode=se;break}u=0,le=0}i.mode=oe;case oe:if(i.wrap&&i.flags){for(;le<32;){if(0===d)break e;d--,u+=n[a++]<<le,le+=8}if(u!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=se;break}u=0,le=0}i.mode=ae;case ae:Se=T;break e;case se:Se=k;break e;case de:return P;case ce:default:return I}return e.next_out=s,e.avail_out=h,e.next_in=a,e.avail_in=d,i.hold=u,i.bits=le,(i.wsize||ue!==e.avail_out&&i.mode<se&&(i.mode<ne||t!==_))&&l(e,e.output,e.next_out,ue-e.avail_out)?(i.mode=de,P):(he-=e.avail_in,ue-=e.avail_out,e.total_in+=he,e.total_out+=ue,i.total+=ue,i.wrap&&ue&&(e.adler=i.check=i.flags?m(i.check,o,ue,e.next_out-ue):p(i.check,o,ue,e.next_out-ue)),e.data_type=i.bits+(i.last?64:0)+(i.mode===z?128:0)+(i.mode===J||i.mode===G?256:0),(0===he&&0===ue||t===_)&&Se===E&&(Se=O),Se)},t.inflateEnd=function(e){if(!e||!e.state)return I;var t=e.state;return t.window&&(t.window=null),e.state=null,E},t.inflateGetHeader=function(e,t){var i;return e&&e.state?0===(2&(i=e.state).wrap)?I:(i.head=t,t.done=!1,E):I},t.inflateSetDictionary=function(e,t){var i,r=t.length;return e&&e.state?0!==(i=e.state).wrap&&i.mode!==j?I:i.mode===j&&p(1,t,r,0)!==i.check?k:l(e,t,r,r)?(i.mode=de,P):(i.havedict=1,E):I},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,i){"use strict";e.exports=function(e,t){var i,r,n,o,a,s,d,c,l,h,u,f,p,m,g,v,b,y,A,_,w,S,E,T,C;i=e.state,r=e.next_in,T=e.input,n=r+(e.avail_in-5),o=e.next_out,C=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),d=i.dmax,c=i.wsize,l=i.whave,h=i.wnext,u=i.window,f=i.hold,p=i.bits,m=i.lencode,g=i.distcode,v=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;e:do{p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),y=m[f&v];t:for(;;){if(f>>>=A=y>>>24,p-=A,0===(A=y>>>16&255))C[o++]=65535&y;else{if(!(16&A)){if(0===(64&A)){y=m[(65535&y)+(f&(1<<A)-1)];continue t}if(32&A){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}_=65535&y,(A&=15)&&(p<A&&(f+=T[r++]<<p,p+=8),_+=f&(1<<A)-1,f>>>=A,p-=A),p<15&&(f+=T[r++]<<p,p+=8,f+=T[r++]<<p,p+=8),y=g[f&b];i:for(;;){if(f>>>=A=y>>>24,p-=A,!(16&(A=y>>>16&255))){if(0===(64&A)){y=g[(65535&y)+(f&(1<<A)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(w=65535&y,p<(A&=15)&&(f+=T[r++]<<p,(p+=8)<A&&(f+=T[r++]<<p,p+=8)),(w+=f&(1<<A)-1)>d){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=A,p-=A,w>(A=o-a)){if((A=w-A)>l&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(S=0,E=u,0===h){if(S+=c-A,A<_){_-=A;do{C[o++]=u[S++]}while(--A);S=o-w,E=C}}else if(h<A){if(S+=c+h-A,(A-=h)<_){_-=A;do{C[o++]=u[S++]}while(--A);if(S=0,h<_){_-=A=h;do{C[o++]=u[S++]}while(--A);S=o-w,E=C}}}else if(S+=h-A,A<_){_-=A;do{C[o++]=u[S++]}while(--A);S=o-w,E=C}for(;_>2;)C[o++]=E[S++],C[o++]=E[S++],C[o++]=E[S++],_-=3;_&&(C[o++]=E[S++],_>1&&(C[o++]=E[S++]))}else{S=o-w;do{C[o++]=C[S++],C[o++]=C[S++],C[o++]=C[S++],_-=3}while(_>2);_&&(C[o++]=C[S++],_>1&&(C[o++]=C[S++]))}break}}break}}while(r<n&&o<s);r-=_=p>>3,f&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=f,i.bits=p}},function(e,t,i){"use strict";var r=i(15),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,i,d,c,l,h,u){var f,p,m,g,v,b,y,A,_,w=u.bits,S=0,E=0,T=0,C=0,I=0,k=0,P=0,O=0,D=0,R=0,N=null,M=0,V=new r.Buf16(16),B=new r.Buf16(16),x=null,L=0;for(S=0;S<=15;S++)V[S]=0;for(E=0;E<d;E++)V[t[i+E]]++;for(I=w,C=15;C>=1&&0===V[C];C--);if(I>C&&(I=C),0===C)return c[l++]=20971520,c[l++]=20971520,u.bits=1,0;for(T=1;T<C&&0===V[T];T++);for(I<T&&(I=T),O=1,S=1;S<=15;S++)if(O<<=1,(O-=V[S])<0)return-1;if(O>0&&(0===e||1!==C))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+V[S];for(E=0;E<d;E++)0!==t[i+E]&&(h[B[t[i+E]]++]=E);if(0===e?(N=x=h,b=19):1===e?(N=n,M-=257,x=o,L-=257,b=256):(N=a,x=s,b=-1),R=0,E=0,S=T,v=l,k=I,P=0,m=-1,g=(D=1<<I)-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){y=S-P,h[E]<b?(A=0,_=h[E]):h[E]>b?(A=x[L+h[E]],_=N[M+h[E]]):(A=96,_=0),f=1<<S-P,T=p=1<<k;do{c[v+(R>>P)+(p-=f)]=y<<24|A<<16|_|0}while(0!==p);for(f=1<<S-1;R&f;)f>>=1;if(0!==f?(R&=f-1,R+=f):R=0,E++,0===--V[S]){if(S===C)break;S=t[i+h[E]]}if(S>I&&(R&g)!==m){for(0===P&&(P=I),v+=T,O=1<<(k=S-P);k+P<C&&!((O-=V[k+P])<=0);)k++,O<<=1;if(D+=1<<k,1===e&&D>852||2===e&&D>592)return 1;c[m=R&g]=I<<24|k<<16|v-l|0}}return 0!==R&&(c[v+R]=S-P<<24|64<<16|0),u.bits=I,0}},function(e,t,i){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t){Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!==typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),r=i.length>>>0,n=arguments[1],o=0;o<r;o++)if(t=i[o],e.call(n,t,o,i))return t})},function(e,t){e.exports={initMoatTracking:function(e,t,i,r){var n=document.createElement("script"),o={events:[],addEvent:function(e){s.sendEvent?(o.events&&(s.sendEvent(o.events),o.events=!1),s.sendEvent(e)):o.events.push(e)}},a=function(t){return function(){var r,n=-1;if(e&&e.getAdVolume&&(r=e.getAdVolume()),"number"==typeof r&&!isNaN(r)&&0<=r&&(n=r),o.addEvent({type:t,adVolume:n}),-1!==u.indexOf(t)&&e&&e.unsubscribe&&!h)for(var a in h=!0,l)if(l.hasOwnProperty&&l.hasOwnProperty(a))try{e.unsubscribe(l[a],a)}catch(i){}}},s={adData:{ids:i,vpaid:e,build:"cc07a80-clean"},dispatchEvent:o.addEvent};i="_moatApi"+Math.floor(1e8*Math.random());var d,c,l={AdStarted:a("AdStarted"),AdStopped:a("AdStopped"),AdSkipped:a("AdSkipped"),AdLoaded:a("AdLoaded"),AdLinearChange:a("AdLinearChange"),AdSizeChange:a("AdSizeChange"),AdExpandedChange:a("AdExpandedChange"),AdSkippableStateChange:a("AdSkippableStateChange"),AdDurationChange:a("AdDurationChange"),AdRemainingTimeChange:a("AdRemainingTimeChange"),AdVolumeChange:a("AdVolumeChange"),AdImpression:a("AdImpression"),AdClickThru:a("AdClickThru"),AdInteraction:a("AdInteraction"),AdVideoStart:a("AdVideoStart"),AdVideoFirstQuartile:a("AdVideoFirstQuartile"),AdVideoMidpoint:a("AdVideoMidpoint"),AdVideoThirdQuartile:a("AdVideoThirdQuartile"),AdVideoComplete:a("AdVideoComplete"),AdUserAcceptInvitation:a("AdUserAcceptInvitation"),AdUserMinimize:a("AdUserMinimize"),AdUserClose:a("AdUserClose"),AdPaused:a("AdPaused"),AdPlaying:a("AdPlaying"),AdError:a("AdError")},h=!1,u=["AdStopped","AdSkipped","AdVideoComplete"];!function(){if(e&&e.subscribe)for(var t in l)l.hasOwnProperty&&l.hasOwnProperty(t)&&e.subscribe(l[t],t)}();try{c=(d=t.ownerDocument).defaultView||d.parentWindow}catch(f){d=document,c=window}return c[i]=s,n.type="text/javascript",t&&t.insertBefore(n,t.childNodes[0]||null),n.src="https://z.moatads.com/"+r+"/moatvideo.js#"+i,s}}},function(e,t){!function(e){function t(){this.intersectionSupport=!!e.IntersectionObserver,this.intersectionRatio=-1,this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"}],this.audibilityFired=!1,this.secondsAudible=0,this.started=!1}function i(e){return e!=t.eventsMap.AdImpression||o?e==t.eventsMap.AdClickThru?"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=cl&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&g.lu=":"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=ev&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.evn="+e+"&g.ra={{random}}&a.ycp={{siteID}}":(o=!0,"{{protocol}}//{{domain}}/fcgi-bin/dispatch.fcgi?a.A=im&a.si={{account}}&a.te={{tte}}&a.aap={{aap}}&a.agi={{agi}}&a.hr=XC&g.ra={{random}}&a.ycp={{siteID}}")}function r(e,t){for(var i in t)t.hasOwnProperty(i)&&(e=e.replace(new RegExp("{{"+i+"}}","g"),t[i]));return e}function n(e){(new Image).src=e}var o=!1;t.prototype.version=function(){console.log("[Viewability Observer JS] 2018.02.20")},t.VOLUME_ON="Audible",t.VOLUME_OFF="Inaudible",t.INITIALLY_ON="initially_unmuted",t.INITIALLY_OFF="initially_muted",t.FIRE_TIME=2e3,t.DELAY=250,t.ON_PAGE="OnPage",t.S_FRAME="SameDomainFrame",t.X_FRAME="CrossDomainFrame",t.VIEWABLE="Viewable",t.NOT_VIEWABLE="Unviewable",t.UNDETERMINED="Undetermined",t.VISIBILITY_RATIO=.5,t.USE_FOCUS=!0,t.eventsMap={AdLoaded:"load",AdStarted:"creativeView",AdVideoStart:"start",AdImpression:"",AdImpressionYandex:"AdImpressionYandex",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdUserClose:"close",AdStopped:"stop",AdSkipped:"skip",AdClickThru:"click",AdPaused:"pause",AdPlaying:"resume",AdError:"error"},t.audioEventsMap={AdVideoStart:"start",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete"},t.playerSizeParams={PlayerSmallDesktop:[0,480],PlayerNormalDesktop:[480,720],PlayerBigDesktop:[720,960],PlayerHugeDesktop:[960,0],PlayerSmallMobile:[0,260],PlayerNormalMobile:[260,320],PlayerBigMobile:[320,380],PlayerHugeMobile:[380,0]},t.prototype.hasFocus=function(){return("undefined"===this.realDocument.hidden||!0!==this.realDocument.hidden)&&(this.getPosition()===t.X_FRAME||"function"!==typeof this.realWindow.top.document.hasFocus||this.realWindow.top.document.hasFocus())},t.prototype.getPosition=function(){if(!this.position)if(e.top===this.realWindow)this.position=t.ON_PAGE;else{this.position=t.S_FRAME;try{for(var i=this.realWindow;i.parent!==i;){if(i.parent.document.domain!==i.document.domain){this.position=t.X_FRAME;break}i=i.parent}}catch(r){this.position=t.X_FRAME}}return this.position},t.prototype.init=function(e,o,a){this.rootElement=e,this.realDocument=this.rootElement.ownerDocument,this.realWindow=this.realDocument.defaultView||this.realDocument.parentWindow,this.adParameters=JSON.parse(o),this.adParameters.agi=Math.round(1e3*Math.random()),this.adParameters.random=Math.round(1e8*Math.random()),this.adParameters.protocol="https:",this.vpaidObject=a,this.volume=-1,this.completeDispatched=this.durationChecked=!1,e={cet:0,pg:0,ulv:0,dnn:0};try{if("undefined"!==typeof this.adParameters.cp){var s=decodeURIComponent(this.adParameters.cp).split("|");for(o=0;o<s.length;o++)if(s[o]){var d=s[o].split(":");e[d[0]]=2!=d.length||("undefined"!==typeof e[d[0]]?isNaN(parseInt(d[1],10))?e[d[0]]:parseInt(d[1],10):d[1])}}}catch(l){}for(var c in this.customParams=e,0<this.customParams.pg&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:2e3,useFocus:!0,name:"70and2"},{percent:.99,duration:2e3,useFocus:!0,name:"100and2"},{percent:.75,duration:5e3,useFocus:!0,name:"MRC75Prc"}]),0<this.customParams.ulv&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.5,duration:2e3,useFocus:!0,name:"visibility_2sec"},{percent:.5,duration:4e3,useFocus:!0,name:"visibility_4sec"},{percent:.5,duration:7e3,useFocus:!0,name:"visibility_7sec"},{percent:.5,duration:1e4,useFocus:!0,name:"visibility_10sec"},{percent:.5,duration:15e3,useFocus:!0,name:"visibility_15sec"},{percent:.5,duration:2e4,useFocus:!0,name:"visibility_20sec"},{percent:.5,duration:3e4,useFocus:!0,name:"visibility_30sec"}]),0<this.customParams.dnn&&(this.observerData=[{percent:.5,duration:2e3,useFocus:!0,name:"MRC"},{percent:.7,duration:5e3,useFocus:!0,name:"MRC70"}]),n(r(i(this.getPosition()),this.adParameters)),t.eventsMap)t.eventsMap.hasOwnProperty(c)&&a.subscribe(this.onVPAIDEvent.bind(this,c),c);if(this.intersectionSupport)this.intersectionObserver=new IntersectionObserver(function(e){this.intersectionRatio=Math.round(100*e[0].intersectionRatio)/100}.bind(this),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(this.rootElement);else if(this.getPosition()==t.X_FRAME)return n(r(i(this.observerData.shift().name+t.UNDETERMINED),this.adParameters)),!1},t.prototype.checkDuration=function(){if(this.vpaidObject&&"function"==typeof this.vpaidObject.getAdDuration&&this.vpaidObject.getAdDuration()){var e=Math.round(this.vpaidObject.getAdDuration());if(0<e){this.durationChecked=!0;for(var t=0;t<this.observerData.length;t++)this.observerData[t].duration>1e3*e&&(this.observerData.splice(t,1),t--)}else setTimeout(this.checkDuration,250)}},t.prototype.onVPAIDEvent=function(e){if(0<this.customParams.ulv&&!this.durationChecked&&"AdVideoStart"==e&&this.checkDuration(),"AdVideoStart"==e){this.onVPAIDEvent("AdImpression"),this.onVPAIDEvent("AdImpressionYandex"),this.started||(this.started=!0,this.updater=setInterval(t.updateTime.bind(this),t.DELAY),this.updaterAudibility=setInterval(t.updateTimeAudibility.bind(this),t.DELAY)),this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),n(r(i(l=this.volume>0?t.INITIALLY_ON:t.INITIALLY_OFF),this.adParameters));var o=t.playerSizeParams,a=parseFloat(this.vpaidObject.getAdWidth(),10);for(var s in o)if(o.hasOwnProperty(s)){var d=o[s];(!d[0]||a>=d[0])&&(!d[1]||a<d[1])&&n(r(i(s),this.adParameters))}}if("AdVideoComplete"==e){if(this.completeDispatched)return;if(this.completeDispatched=!0,0<this.customParams.pg)(c=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS)).state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters))}if("AdClickThru"==e&&0<this.customParams.cet&&(0<(c=this.vpaidObject.getAdDuration()-this.vpaidObject.getAdRemainingTime())&&n(r(i("AdVideoClick"+parseInt(c,10)),this.adParameters))),"AdPaused"==e&&(clearInterval(this.updater),clearInterval(this.updaterAudibility)),-1!=["AdStopped","AdSkipped","AdUserClose"].indexOf(e)&&this.stop(),t.eventsMap.hasOwnProperty(e)){var c=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS);n(r(i(t.eventsMap[e]),this.adParameters)),"AdImpression"!=e&&"AdImpressionYandex"!=e&&c.state&&n(r(i(e+c.state),this.adParameters))}if("AdVideoThirdQuartile"==e&&this.checkTwoSeconds(),t.audioEventsMap.hasOwnProperty(e)){this.volume=parseFloat(this.vpaidObject.getAdVolume(),10);var l=this.volume>0?t.VOLUME_ON:t.VOLUME_OFF;n(r(i(t.eventsMap[e]+l),this.adParameters))}},t.prototype.checkTwoSeconds=function(){if(!this.completeDispatched){var e=this.vpaidObject.getAdRemainingTime();if(0<e&&1.1>e)this.completeDispatched=!0,e=this.getViewAbility(t.VISIBILITY_RATIO,t.USE_FOCUS),0<this.customParams.pg&&e.state===t.VIEWABLE&&n(r(i("AdVideoCompleteMRC"),this.adParameters)),n(r(i(t.eventsMap.AdVideoComplete),this.adParameters)),e.state&&n(r(i("AdVideoComplete"+e.state),this.adParameters)),this.stop();else{var o=this;setTimeout((function(){o.checkTwoSeconds()}),250)}}},t.prototype.stop=function(){if(clearInterval(this.updater),clearInterval(this.updaterAudibility),this.started=!1,t.updateTime.call(this),this.observerData&&this.observerData.length)for(;this.observerData.length;)n(r(i(this.observerData.shift().name+t.NOT_VIEWABLE),this.adParameters));this.updater&&clearInterval(this.updater),this.audibilityFired||(this.audibilityFired=!0,n(r(i(t.VOLUME_OFF),this.adParameters)))},t.prototype.getViewAbility=function(i,r){if(this.intersectionSupport)return t.match(this.hasFocus(),r,this.intersectionRatio,i);if(this.getPosition()==t.X_FRAME)return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1};var n=this.realWindow,o=this.rootElement.getBoundingClientRect(),a=t.calculateArea(o,n);try{for(;n!==e.top;){var s=n.name||(n.name="wb-"+Math.round(1e6*Math.random()).toString(16));o=(n=n.parent).frames[s].frameElement.getBoundingClientRect(),a=Math.min(t.calculateArea(o,n),a)}}catch(d){return{error:t.UNDETERMINED,state:t.UNDETERMINED,percent:0,focus:!1}}return t.match(this.hasFocus(),r,a,i)},t.updateTime=function(){var e=this.getViewAbility();if(!this.observerData||!this.observerData.length)return clearInterval(this.updater);for(var o=[],a=0;a<this.observerData.length;a++){var s=this.observerData[a];s.timeInView=(!s.useFocus||e.focus)&&e.percent>=s.percent?t.DELAY+(s.timeInView||0):0,s.timeInView>=s.duration?n(r(i(s.name+t.VIEWABLE),this.adParameters)):o.push(s)}this.observerData=o},t.updateTimeAudibility=function(){if(this.audibilityFired)return clearInterval(this.updaterAudibility);this.volume=parseFloat(this.vpaidObject.getAdVolume(),10),this.volume<=0||isNaN(this.volume)?this.secondsAudible=0:this.secondsAudible+=t.DELAY,this.secondsAudible>=t.FIRE_TIME&&(this.audibilityFired=!0,n(r(i(t.VOLUME_ON),this.adParameters)))},t.match=function(e,i,r,n){var o=t.NOT_VIEWABLE;return(e||!i)&&r>=n&&(o=t.VIEWABLE),{state:o,focus:e,percent:r}},t.calculateArea=function(e,t){var i=e.width*e.height,r=e.width,n=e.height;return 0>e.top&&(n+=e.top),e.bottom>t.innerHeight&&(n-=e.bottom-t.innerHeight),0>e.left&&(r+=e.left),e.right>t.innerWidth&&(r-=e.right-t.innerWidth),r*n/i},e.WBViewAbility=t}(window)},function(e,t,i){"use strict";function r(e,t,i,r,o,a){var s,d,c=document.createElement("script"),l=[],h={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:i,url:o},dispatchEvent:function(e){h.sendEvent?(l&&(l.push(e),e=l,l=!1),h.sendEvent(e)):l&&l.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{d=(s=e.ownerDocument).defaultView||s.parentWindow}catch(u){s=document,d=window}return d[t]=h,c.type="text/javascript",e&&e.insertBefore(c,e.childNodes[0]||null),c.src="https://yastatic.net/pcode-static/measurers/"+n+"/moat/"+r+"/moatvideo.js#"+t,h}i.r(t),i.d(t,"initMoatTracking",(function(){return r}));const n=56},function(e,t,i){"use strict";function r(e){for(;;)try{return n.randomBytes(e)}catch(t){continue}}var n=i(137),o=i(223);t.generate=function(e){var t,i=new o,n="";"object"===typeof e?(t=e.length||32,e.charset?i.setType(e.charset):i.setType("alphanumeric"),e.capitalization&&i.setcapitalization(e.capitalization),e.readable&&i.removeUnreadable(),i.removeDuplicates()):"number"===typeof e?(t=e,i.setType("alphanumeric")):(t=32,i.setType("alphanumeric"));for(var a=i.chars.length,s=256-256%a;t>0;)for(var d=r(Math.ceil(256*t/s)),c=0;c<d.length&&t>0;c++){var l=d.readUInt8(c);l<s&&(n+=i.chars.charAt(l%a),t--)}return n}},function(e,t,i){"use strict";t.randomBytes=t.rng=t.pseudoRandomBytes=t.prng=i(27),t.createHash=t.Hash=i(32),t.createHmac=t.Hmac=i(92);var r=i(159),n=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);t.getHashes=function(){return o};var a=i(95);t.pbkdf2=a.pbkdf2,t.pbkdf2Sync=a.pbkdf2Sync;var s=i(161);t.Cipher=s.Cipher,t.createCipher=s.createCipher,t.Cipheriv=s.Cipheriv,t.createCipheriv=s.createCipheriv,t.Decipher=s.Decipher,t.createDecipher=s.createDecipher,t.Decipheriv=s.Decipheriv,t.createDecipheriv=s.createDecipheriv,t.getCiphers=s.getCiphers,t.listCiphers=s.listCiphers;var d=i(178);t.DiffieHellmanGroup=d.DiffieHellmanGroup,t.createDiffieHellmanGroup=d.createDiffieHellmanGroup,t.getDiffieHellman=d.getDiffieHellman,t.createDiffieHellman=d.createDiffieHellman,t.DiffieHellman=d.DiffieHellman;var c=i(184);t.createSign=c.createSign,t.Sign=c.Sign,t.createVerify=c.createVerify,t.Verify=c.Verify,t.createECDH=i(218);var l=i(219);t.publicEncrypt=l.publicEncrypt,t.privateEncrypt=l.privateEncrypt,t.publicDecrypt=l.publicDecrypt,t.privateDecrypt=l.privateDecrypt;var h=i(222);t.randomFill=h.randomFill,t.randomFillSync=h.randomFillSync,t.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},t.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(e,t,i){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function n(e,t,i){for(var r,n,a=[],s=t;s<i;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(o[(n=r)>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]);return a.join("")}t.byteLength=function(e){var t=r(e),i=t[0],n=t[1];return 3*(i+n)/4-n},t.toByteArray=function(e){var t,i,n=r(e),o=n[0],d=n[1],c=new s(function(e,t,i){return 3*(t+i)/4-i}(0,o,d)),l=0,h=d>0?o-4:o;for(i=0;i<h;i+=4)t=a[e.charCodeAt(i)]<<18|a[e.charCodeAt(i+1)]<<12|a[e.charCodeAt(i+2)]<<6|a[e.charCodeAt(i+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===d&&(t=a[e.charCodeAt(i)]<<2|a[e.charCodeAt(i+1)]>>4,c[l++]=255&t),1===d&&(t=a[e.charCodeAt(i)]<<10|a[e.charCodeAt(i+1)]<<4|a[e.charCodeAt(i+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,i=e.length,r=i%3,a=[],s=0,d=i-r;s<d;s+=16383)a.push(n(e,s,s+16383>d?d:s+16383));return 1===r?(t=e[i-1],a.push(o[t>>2]+o[t<<4&63]+"==")):2===r&&(t=(e[i-2]<<8)+e[i-1],a.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"=")),a.join("")};for(var o=[],a=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,l=d.length;c<l;++c)o[c]=d[c],a[d.charCodeAt(c)]=c;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,i,r,n){var o,a,s=8*n-r-1,d=(1<<s)-1,c=d>>1,l=-7,h=i?n-1:0,u=i?-1:1,f=e[t+h];for(h+=u,o=f&(1<<-l)-1,f>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=u,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+h],h+=u,l-=8);if(0===o)o=1-c;else{if(o===d)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,i,r,n,o){var a,s,d,c=8*o-n-1,l=(1<<c)-1,h=l>>1,u=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-a))<1&&(a--,d*=2),(t+=a+h>=1?u/d:u*Math.pow(2,1-h))*d>=2&&(a++,d/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*d-1)*Math.pow(2,n),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,n),a=0));n>=8;e[i+f]=255&s,f+=p,s/=256,n-=8);for(a=a<<n|s,c+=n;c>0;e[i+f]=255&a,f+=p,a/=256,c-=8);e[i+f-p]|=128*m}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){var i={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},function(e,t){},function(e,t,i){"use strict";var r=i(53).Buffer,n=i(144);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,i,n,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,i=o,n=s,t.copy(i,n),s+=a.data.length,a=a.next;return o},e}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,i){(function(e){function r(e,t){this._id=e,this._clearFn=t}var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(146),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(11))},function(e,t,i){(function(e,t){!function(e,i){"use strict";function r(e){delete h[e]}function n(e){if(u)setTimeout(n,0,e);else{var t=h[e];if(t){u=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r)}}(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var o,a,s,d,c,l=1,h={},u=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){n(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){n(e.data)},o=function(e){s.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(a=f.documentElement,o=function(e){var t=f.createElement("script");t.onreadystatechange=function(){n(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):o=function(e){setTimeout(n,0,e)}:(d="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(d)&&n(+t.data.slice(d.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),o=function(t){e.postMessage(d+t,"*")}),p.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return h[l]=r,o(l),l++},p.clearImmediate=r}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,i(11),i(16))},function(e,t,i){(function(t){function i(e){try{if(!t.localStorage)return!1}catch(r){return!1}var i=t.localStorage[e];return null!=i&&"true"===String(i).toLowerCase()}e.exports=function(e,t){if(i("noDeprecation"))return e;var r=!1;return function(){if(!r){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,i(11))},function(e,t,i){function r(e,t){for(var i in e)t[i]=e[i]}function n(e,t,i){return a(e,t,i)}var o=i(6),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n),r(a,n),n.from=function(e,t,i){if("number"===typeof e)throw new TypeError("Argument must not be a number");return a(e,t,i)},n.alloc=function(e,t,i){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"===typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},n.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return a(e)},n.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);n.call(this,e)}e.exports=r;var n=i(89),o=i(33);o.inherits=i(1),o.inherits(r,n),r.prototype._transform=function(e,t,i){i(null,e)}},function(e,t,i){e.exports=i(54)},function(e,t,i){e.exports=i(19)},function(e,t,i){e.exports=i(52).Transform},function(e,t,i){e.exports=i(52).PassThrough},function(e,t,i){function r(){this.init(),this._w=l,s.call(this,64,56)}function n(e){return e<<30|e>>>2}function o(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}var a=i(1),s=i(28),d=i(3).Buffer,c=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);a(r,s),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,a=0|this._b,s=0|this._c,d=0|this._d,l=0|this._e,h=0;h<16;++h)i[h]=e.readInt32BE(4*h);for(;h<80;++h)i[h]=i[h-3]^i[h-8]^i[h-14]^i[h-16];for(var u=0;u<80;++u){var f=~~(u/20),p=0|((t=r)<<5|t>>>27)+o(f,a,s,d)+l+i[u]+c[f];l=d,d=s,s=n(a),a=r,r=p}this._a=r+this._a|0,this._b=a+this._b|0,this._c=s+this._c|0,this._d=d+this._d|0,this._e=l+this._e|0},r.prototype._hash=function(){var e=d.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=h,d.call(this,64,56)}function n(e){return e<<5|e>>>27}function o(e){return e<<30|e>>>2}function a(e,t,i,r){return 0===e?t&i|~t&r:2===e?t&i|t&r|i&r:t^i^r}var s=i(1),d=i(28),c=i(3).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);s(r,d),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(e){for(var t,i=this._w,r=0|this._a,s=0|this._b,d=0|this._c,c=0|this._d,h=0|this._e,u=0;u<16;++u)i[u]=e.readInt32BE(4*u);for(;u<80;++u)i[u]=(t=i[u-3]^i[u-8]^i[u-14]^i[u-16])<<1|t>>>31;for(var f=0;f<80;++f){var p=~~(f/20),m=n(r)+a(p,s,d,c)+h+i[f]+l[p]|0;h=c,c=d,d=o(s),s=r,r=m}this._a=r+this._a|0,this._b=s+this._b|0,this._c=d+this._c|0,this._d=c+this._d|0,this._e=h+this._e|0},r.prototype._hash=function(){var e=c.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=d,a.call(this,64,56)}var n=i(1),o=i(90),a=i(28),s=i(3).Buffer,d=new Array(64);n(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=r},function(e,t,i){function r(){this.init(),this._w=d,a.call(this,128,112)}var n=i(1),o=i(91),a=i(28),s=i(3).Buffer,d=new Array(160);n(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function e(e,i,r){t.writeInt32BE(e,r),t.writeInt32BE(i,r+4)}var t=s.allocUnsafe(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},e.exports=r},function(e,t,i){"use strict";function r(e,t){a.call(this,"digest"),"string"===typeof t&&(t=o.from(t)),this._alg=e,this._key=t,t.length>d?t=e(t):t.length<d&&(t=o.concat([t,s],d));for(var i=this._ipad=o.allocUnsafe(d),r=this._opad=o.allocUnsafe(d),n=0;n<d;n++)i[n]=54^t[n],r[n]=92^t[n];this._hash=[i]}var n=i(1),o=i(3).Buffer,a=i(17),s=o.alloc(128),d=64;n(r,a),r.prototype._update=function(e){this._hash.push(e)},r.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},e.exports=r},function(e,t,i){e.exports=i(94)},function(e,t,i){(function(t,r){function n(e,t,i,r,n){return l.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return l.deriveBits({name:"PBKDF2",salt:t,iterations:i,hash:{name:n}},e,r<<3)})).then((function(e){return c.from(e)}))}var o,a=i(96),s=i(97),d=i(98),c=i(3).Buffer,l=t.crypto&&t.crypto.subtle,h={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[];e.exports=function(e,i,f,p,m,g){"function"===typeof m&&(g=m,m=void 0);var v=h[(m=m||"sha1").toLowerCase()];if(!v||"function"!==typeof t.Promise)return r.nextTick((function(){var t;try{t=d(e,i,f,p,m)}catch(r){return g(r)}g(null,t)}));if(a(e,i,f,p),"function"!==typeof g)throw new Error("No callback provided to pbkdf2");c.isBuffer(e)||(e=c.from(e,s)),c.isBuffer(i)||(i=c.from(i,s)),function(e,t){e.then((function(e){r.nextTick((function(){t(null,e)}))}),(function(e){r.nextTick((function(){t(e)}))}))}(function(e){if(t.process&&!t.process.browser)return Promise.resolve(!1);if(!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(void 0!==u[e])return u[e];var i=n(o=o||c.alloc(8),o,10,128,e).then((function(){return!0})).catch((function(){return!1}));return u[e]=i,i}(v).then((function(t){return t?n(e,i,f,p,v):d(e,i,f,p,m)})),g)}}).call(this,i(11),i(16))},function(e,t,i){function r(e,t,i){if(e=e.toLowerCase(),s[e])return a.createCipheriv(e,t,i);if(d[e])return new o({key:t,iv:i,mode:e});throw new TypeError("invalid suite type")}function n(e,t,i){if(e=e.toLowerCase(),s[e])return a.createDecipheriv(e,t,i);if(d[e])return new o({key:t,iv:i,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}var o=i(162),a=i(59),s=i(60),d=i(177),c=i(44);t.createCipher=t.Cipher=function(e,t){var i,n;if(e=e.toLowerCase(),s[e])i=s[e].key,n=s[e].iv;else{if(!d[e])throw new TypeError("invalid suite type");i=8*d[e].key,n=d[e].iv}var o=c(t,!1,i,n);return r(e,o.key,o.iv)},t.createCipheriv=t.Cipheriv=r,t.createDecipher=t.Decipher=function(e,t){var i,r;if(e=e.toLowerCase(),s[e])i=s[e].key,r=s[e].iv;else{if(!d[e])throw new TypeError("invalid suite type");i=8*d[e].key,r=d[e].iv}var o=c(t,!1,i,r);return n(e,o.key,o.iv)},t.createDecipheriv=t.Decipheriv=n,t.listCiphers=t.getCiphers=function(){return Object.keys(d).concat(a.getCiphers())}},function(e,t,i){function r(e){n.call(this);var t,i=e.mode.toLowerCase(),r=d[i];t=e.decrypt?"decrypt":"encrypt";var o=e.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==i&&"des-ede-cbc"!==i||(o=s.concat([o,o.slice(0,8)]));var a=e.iv;s.isBuffer(a)||(a=s.from(a)),this._des=r.create({key:o,iv:a,type:t})}var n=i(17),o=i(58),a=i(1),s=i(3).Buffer,d={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],e.exports=r,a(r,n),r.prototype._update=function(e){return s.from(this._des.update(e))},r.prototype._final=function(){return s.from(this._des.final())}},function(e,t,i){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,i){e[0+i]=t>>>24,e[1+i]=t>>>16&255,e[2+i]=t>>>8&255,e[3+i]=255&t},t.ip=function(e,t,i,r){for(var n=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>>s+a&1;for(s=0;s<=24;s+=8)n<<=1,n|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}i[r+0]=n>>>0,i[r+1]=o>>>0},t.rip=function(e,t,i,r){for(var n=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)n<<=1,n|=t>>>s+a&1,n<<=1,n|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.pc1=function(e,t,i,r){for(var n=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(s=0;s<=24;s+=8)n<<=1,n|=e>>s+a&1}for(s=0;s<=24;s+=8)n<<=1,n|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;i[r+0]=n>>>0,i[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,i,n){for(var o=0,a=0,s=r.length>>>1,d=0;d<s;d++)o<<=1,o|=e>>>r[d]&1;for(d=s;d<r.length;d++)a<<=1,a|=t>>>r[d]&1;i[n+0]=o>>>0,i[n+1]=a>>>0},t.expand=function(e,t,i){var r=0,n=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)n|=e>>>o&63,n<<=6;n|=(31&e)<<1|e>>>31,t[i+0]=r>>>0,t[i+1]=n>>>0};var n=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var i=0,r=0;r<4;r++){i<<=4,i|=n[64*r+(e>>>18-6*r&63)]}for(r=0;r<4;r++){i<<=4,i|=n[256+64*r+(t>>>18-6*r&63)]}return i>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,i=0;i<o.length;i++)t<<=1,t|=e>>>o[i]&1;return t>>>0},t.padSplit=function(e,t,i){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var n=[],o=0;o<t;o+=i)n.push(r.slice(o,o+i));return n.join(" ")}},function(e,t,i){"use strict";function r(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var n=i(8);e.exports=r,r.prototype._init=function(){},r.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},r.prototype._buffer=function(e,t){for(var i=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<i;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=i,i},r.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(e){var t=0,i=0,r=(this.bufferOff+e.length)/this.blockSize|0,n=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(i+=this._flushBuffer(n,i)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,n,i),i+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return n},r.prototype._updateDecrypt=function(e){for(var t=0,i=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,n=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),i+=this._flushBuffer(n,i);return t+=this._buffer(e,t),n},r.prototype.final=function(e){var t,i;return e&&(t=this.update(e)),i="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(i):i},r.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},r.prototype._unpad=function(e){return e},r.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},function(e,t,i){"use strict";function r(){this.tmp=new Array(2),this.keys=null}function n(e){c.call(this,e);var t=new r;this._desState=t,this.deriveKeys(t,e.key)}var o=i(8),a=i(1),s=i(58),d=s.utils,c=s.Cipher;a(n,c),e.exports=n,n.create=function(e){return new n(e)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];n.prototype.deriveKeys=function(e,t){e.keys=new Array(32),o.equal(t.length,this.blockSize,"Invalid key length");var i=d.readUInt32BE(t,0),r=d.readUInt32BE(t,4);d.pc1(i,r,e.tmp,0),i=e.tmp[0],r=e.tmp[1];for(var n=0;n<e.keys.length;n+=2){var a=l[n>>>1];i=d.r28shl(i,a),r=d.r28shl(r,a),d.pc2(i,r,e.keys,n)}},n.prototype._update=function(e,t,i,r){var n=this._desState,o=d.readUInt32BE(e,t),a=d.readUInt32BE(e,t+4);d.ip(o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],"encrypt"===this.type?this._encrypt(n,o,a,n.tmp,0):this._decrypt(n,o,a,n.tmp,0),o=n.tmp[0],a=n.tmp[1],d.writeUInt32BE(i,o,r),d.writeUInt32BE(i,a,r+4)},n.prototype._pad=function(e,t){for(var i=e.length-t,r=t;r<e.length;r++)e[r]=i;return!0},n.prototype._unpad=function(e){for(var t=e[e.length-1],i=e.length-t;i<e.length;i++)o.equal(e[i],t);return e.slice(0,e.length-t)},n.prototype._encrypt=function(e,t,i,r,n){for(var o=t,a=i,s=0;s<e.keys.length;s+=2){var c=e.keys[s],l=e.keys[s+1];d.expand(a,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var h=d.substitute(c,l),u=a;a=(o^d.permute(h))>>>0,o=u}d.rip(a,o,r,n)},n.prototype._decrypt=function(e,t,i,r,n){for(var o=i,a=t,s=e.keys.length-2;s>=0;s-=2){var c=e.keys[s],l=e.keys[s+1];d.expand(o,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var h=d.substitute(c,l),u=o;o=(a^d.permute(h))>>>0,a=u}d.rip(o,a,r,n)}},function(e,t,i){"use strict";function r(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}var n=i(8),o=i(1),a={};t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}o(t,e);for(var i=Object.keys(a),r=0;r<i.length;r++){var n=i[r];t.prototype[n]=a[n]}return t.create=function(e){return new t(e)},t},a._cbcInit=function(){var e=new r(this.options.iv);this._cbcState=e},a._update=function(e,t,i,r){var n=this._cbcState,o=this.constructor.super_.prototype,a=n.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,i,r);for(s=0;s<this.blockSize;s++)a[s]=i[r+s]}else{o._update.call(this,e,t,i,r);for(s=0;s<this.blockSize;s++)i[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},function(e,t,i){"use strict";function r(e,t){o.equal(t.length,24,"Invalid key length");var i=t.slice(0,8),r=t.slice(8,16),n=t.slice(16,24);this.ciphers="encrypt"===e?[c.create({type:"encrypt",key:i}),c.create({type:"decrypt",key:r}),c.create({type:"encrypt",key:n})]:[c.create({type:"decrypt",key:n}),c.create({type:"encrypt",key:r}),c.create({type:"decrypt",key:i})]}function n(e){d.call(this,e);var t=new r(this.type,this.options.key);this._edeState=t}var o=i(8),a=i(1),s=i(58),d=s.Cipher,c=s.DES;a(n,d),e.exports=n,n.create=function(e){return new n(e)},n.prototype._update=function(e,t,i,r){var n=this._edeState;n.ciphers[0]._update(e,t,i,r),n.ciphers[1]._update(i,r,i,r),n.ciphers[2]._update(i,r,i,r)},n.prototype._pad=c.prototype._pad,n.prototype._unpad=c.prototype._unpad},function(e,t,i){function r(e,t,i){l.call(this),this._cache=new n,this._cipher=new h.AES(t),this._prev=d.from(i),this._mode=e,this._autopadding=!0}function n(){this.cache=d.allocUnsafe(0)}function o(e,t,i){var n=a[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=d.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof i&&(i=d.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===n.type?new c(n.module,t,i):"auth"===n.type?new s(n.module,t,i):new r(n.module,t,i)}var a=i(60),s=i(102),d=i(3).Buffer,c=i(103),l=i(17),h=i(43),u=i(44);i(1)(r,l),r.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get();)i=this._mode.encrypt(this,t),r.push(i);return d.concat(r)};var f=d.alloc(16,16);r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},n.prototype.add=function(e){this.cache=d.concat([this.cache,e])},n.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},n.prototype.flush=function(){for(var e=16-this.cache.length,t=d.allocUnsafe(e),i=-1;++i<e;)t.writeUInt8(e,i);return d.concat([this.cache,t])},t.createCipheriv=o,t.createCipher=function(e,t){var i=a[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=u(t,!1,i.key,i.iv);return o(e,r.key,r.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,i){var r=i(34);t.encrypt=function(e,t){var i=r(t,e._prev);return e._prev=e._cipher.encryptBlock(i),e._prev},t.decrypt=function(e,t){var i=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return r(n,i)}},function(e,t,i){function r(e,t,i){var r=t.length,a=o(t,e._cache);return e._cache=e._cache.slice(r),e._prev=n.concat([e._prev,i?t:a]),a}var n=i(3).Buffer,o=i(34);t.encrypt=function(e,t,i){for(var o,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,r(e,t,i)]);break}o=e._cache.length,a=n.concat([a,r(e,t.slice(0,o),i)]),t=t.slice(o)}return a}},function(e,t,i){function r(e,t,i){var r=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([i?t:r])]),r}var n=i(3).Buffer;t.encrypt=function(e,t,i){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=r(e,t[s],i);return a}},function(e,t,i){function r(e,t,i){for(var r,o,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(o=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=n(e._prev,i?r:o);return s}function n(e,t){var i=e.length,r=-1,n=o.allocUnsafe(e.length);for(e=o.concat([e,o.from([t])]);++r<i;)n[r]=e[r]<<1|e[r+1]>>7;return n}var o=i(3).Buffer;t.encrypt=function(e,t,i){for(var n=t.length,a=o.allocUnsafe(n),s=-1;++s<n;)a[s]=r(e,t[s],i);return a}},function(e,t,i){(function(e){function r(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var n=i(34);t.encrypt=function(t,i){for(;t._cache.length<i.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,i.length);return t._cache=t._cache.slice(i.length),n(i,o)}}).call(this,i(6).Buffer)},function(e,t,i){function r(e){var t=o.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function n(e){this.h=e,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}var o=i(3).Buffer,a=o.alloc(16,0);n.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},n.prototype._multiply=function(){for(var e,t,i,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],o=[0,0,0,0],a=-1;++a<128;){for(0!==(this.state[~~(a/8)]&1<<7-a%8)&&(o[0]^=n[0],o[1]^=n[1],o[2]^=n[2],o[3]^=n[3]),i=0!==(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,i&&(n[0]=n[0]^225<<24)}this.state=r(o)},n.prototype.update=function(e){var t;for(this.cache=o.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},n.prototype.final=function(e,t){return this.cache.length&&this.ghash(o.concat([this.cache,a],16)),this.ghash(r([0,e,0,t])),this.state},e.exports=n},function(e,t,i){function r(e,t,i){l.call(this),this._cache=new n,this._last=void 0,this._cipher=new h.AES(t),this._prev=s.from(i),this._mode=e,this._autopadding=!0}function n(){this.cache=s.allocUnsafe(0)}function o(e,t,i){var n=d[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if("string"===typeof i&&(i=s.from(i)),"GCM"!==n.mode&&i.length!==n.iv)throw new TypeError("invalid iv length "+i.length);if("string"===typeof t&&(t=s.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===n.type?new c(n.module,t,i,!0):"auth"===n.type?new a(n.module,t,i,!0):new r(n.module,t,i)}var a=i(102),s=i(3).Buffer,d=i(60),c=i(103),l=i(17),h=i(43),u=i(44);i(1)(r,l),r.prototype._update=function(e){var t,i;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)i=this._mode.decrypt(this,t),r.push(i);return s.concat(r)},r.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var i=-1;++i<t;)if(e[i+(16-t)]!==t)throw new Error("unable to decrypt data");if(16!==t)return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},n.prototype.add=function(e){this.cache=s.concat([this.cache,e])},n.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},n.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var i=d[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var r=u(t,!1,i.key,i.iv);return o(e,r.key,r.iv)},t.createDecipheriv=o},function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},function(e,t,i){(function(e){var r=i(104),n=i(182),o=i(183),a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var i=new e(n[t].prime,"hex"),r=new e(n[t].gen,"hex");return new o(i,r)},t.createDiffieHellman=t.DiffieHellman=function t(i,n,s,d){return e.isBuffer(n)||void 0===a[n]?t(i,"binary",n,s):(n=n||"binary",d=d||"binary",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,d)),"number"===typeof i?new o(r(i,s),s,!0):(e.isBuffer(i)||(i=new e(i,n)),new o(i,s,!0)))}}).call(this,i(6).Buffer)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){},function(e,t){},function(e){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(e,t,i){(function(t){function r(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._pub=new s(e),this}function n(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this._priv=new s(e),this}function o(e,t,i){this.setGenerator(t),this.__prime=new s(e),this._prime=s.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,i?(this.setPublicKey=r,this.setPrivateKey=n):this._primeCode=8}function a(e,i){var r=new t(e.toArray());return i?r.toString(i):r}var s=i(4),d=new(i(105)),c=new s(24),l=new s(11),h=new s(10),u=new s(3),f=new s(7),p=i(104),m=i(27);e.exports=o;var g={};Object.defineProperty(o.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var i=t.toString("hex"),r=[i,e.toString(16)].join("_");if(r in g)return g[r];var n,o=0;if(e.isEven()||!p.simpleSieve||!p.fermatTest(e)||!d.test(e))return o+=1,o+="02"===i||"05"===i?8:4,g[r]=o,o;switch(d.test(e.shrn(1))||(o+=2),i){case"02":e.mod(c).cmp(l)&&(o+=8);break;case"05":(n=e.mod(h)).cmp(u)&&n.cmp(f)&&(o+=8);break;default:o+=4}return g[r]=o,o}(this.__prime,this.__gen)),this._primeCode}}),o.prototype.generateKeys=function(){return this._priv||(this._priv=new s(m(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},o.prototype.computeSecret=function(e){var i=(e=(e=new s(e)).toRed(this._prime)).redPow(this._priv).fromRed(),r=new t(i.toArray()),n=this.getPrime();if(r.length<n.length){var o=new t(n.length-r.length);o.fill(0),r=t.concat([o,r])}return r},o.prototype.getPublicKey=function(e){return a(this._pub,e)},o.prototype.getPrivateKey=function(e){return a(this._priv,e)},o.prototype.getPrime=function(e){return a(this.__prime,e)},o.prototype.getGenerator=function(e){return a(this._gen,e)},o.prototype.setGenerator=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.__gen=e,this._gen=new s(e),this}}).call(this,i(6).Buffer)},function(e,t,i){(function(t){function r(e){d.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function n(e){d.Writable.call(this);var t=u[e];if(!t)throw new Error("Unknown message digest");this._hash=s(t.hash),this._tag=t.id,this._signType=t.sign}function o(e){return new r(e)}function a(e){return new n(e)}var s=i(32),d=i(50),c=i(1),l=i(185),h=i(217),u=i(94);Object.keys(u).forEach((function(e){u[e].id=new t(u[e].id,"hex"),u[e.toLowerCase()]=u[e]})),c(r,d.Writable),r.prototype._write=function(e,t,i){this._hash.update(e),i()},r.prototype.update=function(e,i){return"string"===typeof e&&(e=new t(e,i)),this._hash.update(e),this},r.prototype.sign=function(e,t){this.end();var i=this._hash.digest(),r=l(i,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},c(n,d.Writable),n.prototype._write=function(e,t,i){this._hash.update(e),i()},n.prototype.update=function(e,i){return"string"===typeof e&&(e=new t(e,i)),this._hash.update(e),this},n.prototype.verify=function(e,i,r){"string"===typeof i&&(i=new t(i,r)),this.end();var n=this._hash.digest();return h(i,n,e,this._signType,this._tag)},e.exports={Sign:o,Verify:a,createSign:o,createVerify:a}}).call(this,i(6).Buffer)},function(e,t,i){(function(t){function r(e,i,r,o){if((e=new t(e.toArray())).length<i.byteLength()){var a=new t(i.byteLength()-e.length);a.fill(0),e=t.concat([a,e])}var d=r.length,c=function(e,i){e=(e=n(e,i)).mod(i);var r=new t(e.toArray());if(r.length<i.byteLength()){var o=new t(i.byteLength()-r.length);o.fill(0),r=t.concat([o,r])}return r}(r,i),l=new t(d);l.fill(1);var h=new t(d);return h.fill(0),h=s(o,h).update(l).update(new t([0])).update(e).update(c).digest(),l=s(o,h).update(l).digest(),{k:h=s(o,h).update(l).update(new t([1])).update(e).update(c).digest(),v:l=s(o,h).update(l).digest()}}function n(e,t){var i=new l(e),r=(e.length<<3)-t.bitLength();return r>0&&i.ishrn(r),i}function o(e,i,r){var o,a;do{for(o=new t(0);8*o.length<e.bitLength();)i.v=s(r,i.k).update(i.v).digest(),o=t.concat([o,i.v]);a=n(o,e),i.k=s(r,i.k).update(i.v).update(new t([0])).digest(),i.v=s(r,i.k).update(i.v).digest()}while(-1!==a.cmp(e));return a}function a(e,t,i,r){return e.toRed(l.mont(i)).redPow(t).fromRed().mod(r)}var s=i(92),d=i(62),c=i(63).ec,l=i(4),h=i(46),u=i(115);e.exports=function(e,i,s,f,p){var m=h(i);if(m.curve){if("ecdsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");return function(e,i){var r=u[i.curve.join(".")];if(!r)throw new Error("unknown curve "+i.curve.join("."));var n=new c(r).keyFromPrivate(i.privateKey).sign(e);return new t(n.toDER())}(e,m)}if("dsa"===m.type){if("dsa"!==f)throw new Error("wrong private key type");return function(e,i,s){var d,c=i.params.priv_key,h=i.params.p,u=i.params.q,f=i.params.g,p=new l(0),m=n(e,u).mod(u),g=!1,v=r(c,u,e,s);for(;!1===g;)d=o(u,v,s),p=a(f,d,h,u),0===(g=d.invm(u).imul(m.add(c.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new l(0));return function(e,i){e=e.toArray(),i=i.toArray(),128&e[0]&&(e=[0].concat(e));128&i[0]&&(i=[0].concat(i));var r=[48,e.length+i.length+4,2,e.length];return r=r.concat(e,[2,i.length],i),new t(r)}(p,g)}(e,m,s)}if("rsa"!==f&&"ecdsa/rsa"!==f)throw new Error("wrong private key type");e=t.concat([p,e]);for(var g=m.modulus.byteLength(),v=[0,1];e.length+v.length+1<g;)v.push(255);v.push(0);for(var b=-1;++b<e.length;)v.push(e[b]);return d(v,m)},e.exports.getKey=r,e.exports.makeKey=o}).call(this,i(6).Buffer)},function(e){e.exports={name:"elliptic",version:"6.5.0",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"}}},function(e,t,i){"use strict";function r(e){c.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function n(e,t,i,r){c.BasePoint.call(this,e,"affine"),null===t&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(i,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(e,t,i,r){c.BasePoint.call(this,e,"jacobian"),null===t&&null===i&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(i,16),this.z=new s(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var a=i(9),s=i(4),d=i(1),c=i(45),l=a.assert;d(r,c),e.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,i;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)i=new s(e.lambda,16);else{var n=this._getEndoRoots(this.n);0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))?i=n[0]:(i=n[1],l(0===this.g.mul(i).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:i,basis:e.basis?e.basis.map((function(e){return{a:new s(e.a,16),b:new s(e.b,16)}})):this._getEndoBasis(i)}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),i=new s(2).toRed(t).redInvm(),r=i.redNeg(),n=new s(3).toRed(t).redNeg().redSqrt().redMul(i);return[r.redAdd(n).fromRed(),r.redSub(n).fromRed()]},r.prototype._getEndoBasis=function(e){for(var t,i,r,n,o,a,d,c,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,f=this.n.clone(),p=new s(1),m=new s(0),g=new s(0),v=new s(1),b=0;0!==u.cmpn(0);){var y=f.div(u);c=f.sub(y.mul(u)),l=g.sub(y.mul(p));var A=v.sub(y.mul(m));if(!r&&c.cmp(h)<0)t=d.neg(),i=p,r=c.neg(),n=l;else if(r&&2===++b)break;d=c,f=u,u=c,g=p,p=l,v=m,m=A}o=c.neg(),a=l;var _=r.sqr().add(n.sqr());return o.sqr().add(a.sqr()).cmp(_)>=0&&(o=t,a=i),r.negative&&(r=r.neg(),n=n.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:n},{a:o,b:a}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],r=t[1],n=r.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=n.mul(i.a),s=o.mul(r.a),d=n.mul(i.b),c=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:d.add(c).neg()}},r.prototype.pointFromX=function(e,t){(e=new s(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=i.redSqrt();if(0!==r.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,r=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===i.redSqr().redISub(n).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t,i){for(var r=this._endoWnafT1,n=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],d=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),d=d.neg(!0)),r[2*o]=s,r[2*o+1]=d,n[2*o]=a.k1,n[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,n,2*o,i),l=0;l<2*o;l++)r[l]=null,n[l]=null;return c},d(n,c.BasePoint),r.prototype.point=function(e,t,i){return new n(this,e,t,i)},r.prototype.pointFromJSON=function(e,t){return n.fromJSON(this,e,t)},n.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,r=function(e){return i.point(e.x.redMul(i.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(e,t,i){function r(t){return e.point(t[0],t[1],i)}"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(r))}},n},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,r)},n.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),r=e.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(r),o=n.redSqr().redISub(this.x.redAdd(this.x)),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(e){return e=new s(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n):this.curve._wnafMulAdd(1,r,n,2)},n.prototype.jmulAdd=function(e,t,i){var r=[this,t],n=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(r,n,!0):this.curve._wnafMulAdd(1,r,n,2,!0)},n.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},n.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(r)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(r)}}}return t},n.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},d(o,c.BasePoint),r.prototype.jpoint=function(e,t,i){return new o(this,e,t,i)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(i,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),r=this.x.redMul(t),n=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),s=r.redSub(n),d=o.redSub(a);if(0===s.cmpn(0))return 0!==d.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),h=r.redMul(c),u=d.redSqr().redIAdd(l).redISub(h).redISub(h),f=d.redMul(h.redISub(u)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(u,f,p)},o.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,r=e.x.redMul(t),n=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(r),s=n.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var d=a.redSqr(),c=d.redMul(a),l=i.redMul(d),h=s.redSqr().redIAdd(c).redISub(l).redISub(l),u=s.redMul(l.redISub(h)).redISub(n.redMul(c)),f=this.z.redMul(a);return this.curve.jpoint(h,u,f)},o.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}var r=this.curve.a,n=this.curve.tinv,o=this.x,a=this.y,s=this.z,d=s.redSqr().redSqr(),c=a.redAdd(a);for(i=0;i<e;i++){var l=o.redSqr(),h=c.redSqr(),u=h.redSqr(),f=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(d)),p=o.redMul(h),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),v=f.redMul(g);v=v.redIAdd(v).redISub(u);var b=c.redMul(s);i+1<e&&(d=d.redMul(u)),o=m,s=b,c=v}return this.curve.jpoint(o,c.redMul(n),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),d=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=d,t=s.redMul(a.redISub(d)).redISub(c),i=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),u=h.redSqr(),f=this.x.redAdd(h).redSqr().redISub(l).redISub(u);f=f.redIAdd(f);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=u.redIAdd(u);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),i=(i=this.y.redMul(this.z)).redIAdd(i)}return this.curve.jpoint(e,t,i)},o.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var r=this.x.redSqr(),n=this.y.redSqr(),o=n.redSqr(),a=this.x.redAdd(n).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),d=s.redSqr().redISub(a).redISub(a);e=d;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(d)).redISub(c),i=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),u=this.x.redMul(h),f=this.x.redSub(l).redMul(this.x.redAdd(l));f=f.redAdd(f).redIAdd(f);var p=u.redIAdd(u),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var g=h.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,i)},o.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,r=this.z,n=r.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(n)),d=t.redAdd(t),c=(d=d.redIAdd(d)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),u=a.redSqr();u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=s.redMul(h).redISub(u),p=i.redAdd(i).redMul(r);return this.curve.jpoint(l,f,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),r=t.redSqr(),n=e.redAdd(e).redIAdd(e),o=n.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),d=r.redIAdd(r);d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var c=n.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(d),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(s).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var u=this.y.redMul(c.redMul(d.redISub(c)).redISub(a.redMul(s)));u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var f=this.z.redAdd(a).redSqr().redISub(i).redISub(s);return this.curve.jpoint(h,u,f)},o.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},o.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(0!==this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),n=i.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(i))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),0===this.x.cmp(i))return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(e,t,i){"use strict";function r(e){s.call(this,"mont",e),this.a=new o(e.a,16).toRed(this.red),this.b=new o(e.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(e,t,i){s.BasePoint.call(this,e,"projective"),null===t&&null===i?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(t,16),this.z=new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=i(4),a=i(1),s=i(45),d=i(9);a(r,s),e.exports=r,r.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),r=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},a(n,s.BasePoint),r.prototype.decodePoint=function(e,t){return this.point(d.toArray(e,t),1)},r.prototype.point=function(e,t){return new n(this,e,t)},r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(e,t){return new n(e,t[0],t[1]||e.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},n.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),i=e.redSub(t),r=e.redMul(t),n=i.redMul(t.redAdd(this.curve.a24.redMul(i)));return this.curve.point(r,n)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),r=this.x.redSub(this.z),n=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(i),a=n.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),d=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,d)},n.prototype.mul=function(e){for(var t=e.clone(),i=this,r=this.curve.point(null,null),n=[];0!==t.cmpn(0);t.iushrn(1))n.push(t.andln(1));for(var o=n.length-1;o>=0;o--)0===n[o]?(i=i.diffAdd(r,this),r=r.dbl()):(r=i.diffAdd(r,this),i=i.dbl());return r},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(e,t,i){"use strict";function r(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,d.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function n(e,t,i,r,n){d.BasePoint.call(this,e,"projective"),null===t&&null===i&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(i,16),this.z=r?new a(r,16):this.curve.one,this.t=n&&new a(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=i(9),a=i(4),s=i(1),d=i(45),c=o.assert;s(r,d),e.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.jpoint=function(e,t,i,r){return this.point(e,t,i,r)},r.prototype.pointFromX=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=this.c2.redSub(this.a.redMul(i)),n=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=r.redMul(n.redInvm()),s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var d=s.fromRed().isOdd();return(t&&!d||!t&&d)&&(s=s.redNeg()),this.point(e,s)},r.prototype.pointFromY=function(e,t){(e=new a(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr(),r=i.redSub(this.c2),n=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(n.redInvm());if(0===o.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(0!==s.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),r=t.redMul(this.a).redAdd(i),n=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return 0===r.cmp(n)},s(n,d.BasePoint),r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},r.prototype.point=function(e,t,i,r){return new n(this,e,t,i,r)},n.fromJSON=function(e,t){return new n(e,t[0],t[1],t[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},n.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var r=this.curve._mulA(e),n=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(i),s=r.redSub(t),d=n.redMul(a),c=o.redMul(s),l=n.redMul(s),h=a.redMul(o);return this.curve.point(d,c,h,l)},n.prototype._projDbl=function(){var e,t,i,r=this.x.redAdd(this.y).redSqr(),n=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(n)).redAdd(o);if(this.zOne)e=r.redSub(n).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(c.redSub(o)),i=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),d=a.redSub(s).redISub(s);e=r.redSub(n).redISub(o).redMul(d),t=a.redMul(c.redSub(o)),i=a.redMul(d)}}else{var c=n.redAdd(o);s=this.curve._mulC(this.z).redSqr(),d=c.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(c)).redMul(d),t=this.curve._mulC(c).redMul(n.redISub(o)),i=c.redMul(d)}return this.curve.point(e,t,i)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),n=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),a=n.redSub(r),s=n.redAdd(r),d=i.redAdd(t),c=o.redMul(a),l=s.redMul(d),h=o.redMul(d),u=a.redMul(s);return this.curve.point(c,l,u,h)},n.prototype._projAdd=function(e){var t,i,r=this.z.redMul(e.z),n=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),d=n.redSub(s),c=n.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),h=r.redMul(d).redMul(l);return this.curve.twisted?(t=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),i=d.redMul(c)):(t=r.redMul(c).redMul(a.redSub(o)),i=this.curve._mulC(d).redMul(c)),this.curve.point(h,t,i)},n.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},n.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)},n.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)},n.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},n.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var i=e.clone(),r=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},function(e,t,i){"use strict";t.sha1=i(191),t.sha224=i(192),t.sha256=i(109),t.sha384=i(193),t.sha512=i(110)},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var n=i(12),o=i(35),a=i(108),s=n.rotl32,d=n.sum32,c=n.sum32_5,l=a.ft_1,h=o.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];n.inherits(r,h),e.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.W,r=0;r<16;r++)i[r]=e[t+r];for(;r<i.length;r++)i[r]=s(i[r-3]^i[r-8]^i[r-14]^i[r-16],1);var n=this.h[0],o=this.h[1],a=this.h[2],h=this.h[3],f=this.h[4];for(r=0;r<i.length;r++){var p=~~(r/20),m=c(s(n,5),l(p,o,a,h),f,i[r],u[p]);f=h,h=a,a=s(o,30),o=n,n=m}this.h[0]=d(this.h[0],n),this.h[1]=d(this.h[1],o),this.h[2]=d(this.h[2],a),this.h[3]=d(this.h[3],h),this.h[4]=d(this.h[4],f)},r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var n=i(12),o=i(109);n.inherits(r,o),e.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var n=i(12),o=i(110);n.inherits(r,o),e.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,i){"use strict";function r(){if(!(this instanceof r))return new r;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function n(e,t,i,r){return e<=15?t^i^r:e<=31?t&i|~t&r:e<=47?(t|~i)^r:e<=63?t&r|i&~r:t^(i|~r)}function o(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function a(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var s=i(12),d=i(35),c=s.rotl32,l=s.sum32,h=s.sum32_3,u=s.sum32_4,f=d.BlockHash;s.inherits(r,f),t.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(e,t){for(var i=this.h[0],r=this.h[1],s=this.h[2],d=this.h[3],f=this.h[4],b=i,y=r,A=s,_=d,w=f,S=0;S<80;S++){var E=l(c(u(i,n(S,r,s,d),e[p[S]+t],o(S)),g[S]),f);i=f,f=d,d=c(s,10),s=r,r=E,E=l(c(u(b,n(79-S,y,A,_),e[m[S]+t],a(S)),v[S]),w),b=w,w=_,_=c(A,10),A=y,y=E}E=h(this.h[1],s,_),this.h[1]=h(this.h[2],d,w),this.h[2]=h(this.h[3],f,b),this.h[3]=h(this.h[4],i,y),this.h[4]=h(this.h[0],r,A),this.h[0]=E},r.prototype._digest=function(e){return"hex"===e?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,i){"use strict";function r(e,t,i){if(!(this instanceof r))return new r(e,t,i);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,i))}var n=i(12),o=i(8);e.exports=r,r.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),o(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},r.prototype.update=function(e,t){return this.inner.update(e,t),this},r.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);"string"===typeof e&&(c(s.hasOwnProperty(e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var n=i(4),o=i(198),a=i(9),s=i(64),d=i(61),c=a.assert,l=i(199),h=i(200);e.exports=r,r.prototype.keyPair=function(e){return new l(this,e)},r.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},r.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new o({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||d(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),r=this.n.sub(new n(2));;){var a=new n(t.generate(i));if(!(a.cmp(r)>0))return a.iaddn(1),this.keyFromPrivate(a)}},r.prototype._truncateToN=function(e,t){var i=8*e.byteLength()-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,i,r){"object"===typeof i&&(r=i,i=null),r||(r={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new n(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),d=e.toArray("be",a),c=new o({hash:this.hash,entropy:s,nonce:d,pers:r.pers,persEnc:r.persEnc||"utf8"}),l=this.n.sub(new n(1)),u=0;;u++){var f=r.k?r.k(u):new n(c.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(l)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(0!==g.cmpn(0)){var v=f.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(0!==(v=v.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==m.cmp(g)?2:0);return r.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),b^=1),new h({r:g,s:v,recoveryParam:b})}}}}}},r.prototype.verify=function(e,t,i,r){e=this._truncateToN(new n(e,16)),i=this.keyFromPublic(i,r);var o=(t=new h(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,d=a.invm(this.n),c=d.mul(e).umod(this.n),l=d.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,i.getPublic(),l)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,i.getPublic(),l)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},r.prototype.recoverPubKey=function(e,t,i,r){c((3&i)===i,"The recovery param is more than two bits"),t=new h(t,r);var o=this.n,a=new n(e),s=t.r,d=t.s,l=1&i,u=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var f=t.r.invm(o),p=o.sub(a).mul(f).umod(o),m=d.mul(f).umod(o);return this.g.mulAdd(p,s,m)},r.prototype.getKeyRecoveryParam=function(e,t,i,r){if(null!==(t=new h(t,r)).recoveryParam)return t.recoveryParam;for(var n=0;n<4;n++){var o;try{o=this.recoverPubKey(e,t,n)}catch(e){continue}if(o.eq(i))return n}throw new Error("Unable to find valid recovery factor")}},function(e,t,i){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),i=o.toArray(e.nonce,e.nonceEnc||"hex"),n=o.toArray(e.pers,e.persEnc||"hex");a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,i,n)}var n=i(65),o=i(106),a=i(8);e.exports=r,r.prototype._init=function(e,t,i){var r=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,i,r){"string"!==typeof t&&(r=i,i=t,t=null),e=o.toArray(e,t),i=o.toArray(i,r),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},r.prototype.generate=function(e,t,i,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=i,i=t,t=null),i&&(i=o.toArray(i,r||"hex"),this._update(i));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(i),this._reseed++,o.encode(a,t)}},function(e,t,i){"use strict";function r(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var n=i(4),o=i(9).assert;e.exports=r,r.fromPublic=function(e,t,i){return t instanceof r?t:new r(e,{pub:t,pubEnc:i})},r.fromPrivate=function(e,t,i){return t instanceof r?t:new r(e,{priv:t,privEnc:i})},r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?o(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||o(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},r.prototype.derive=function(e){return e.mul(this.priv).getX()},r.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(e,t,i){"use strict";function r(e,t){if(e instanceof r)return e;this._importDER(e,t)||(l(e.r&&e.s,"Signature without r or s"),this.r=new d(e.r,16),this.s=new d(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function n(){this.place=0}function o(e,t){var i=e[t.place++];if(!(128&i))return i;for(var r=15&i,n=0,o=0,a=t.place;o<r;o++,a++)n<<=8,n|=e[a];return t.place=a,n}function a(e){for(var t=0,i=e.length-1;!e[t]&&!(128&e[t+1])&&t<i;)t++;return 0===t?e:e.slice(t)}function s(e,t){if(t<128)e.push(t);else{var i=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|i);--i;)e.push(t>>>(i<<3)&255);e.push(t)}}var d=i(4),c=i(9),l=c.assert;e.exports=r,r.prototype._importDER=function(e,t){e=c.toArray(e,t);var i=new n;if(48!==e[i.place++])return!1;if(o(e,i)+i.place!==e.length)return!1;if(2!==e[i.place++])return!1;var r=o(e,i),a=e.slice(i.place,r+i.place);if(i.place+=r,2!==e[i.place++])return!1;var s=o(e,i);if(e.length!==s+i.place)return!1;var l=e.slice(i.place,s+i.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new d(a),this.s=new d(l),this.recoveryParam=null,!0},r.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&i[0]&&(i=[0].concat(i)),t=a(t),i=a(i);!i[0]&&!(128&i[1]);)i=i.slice(1);var r=[2];s(r,t.length),(r=r.concat(t)).push(2),s(r,i.length);var n=r.concat(i),o=[48];return s(o,n.length),o=o.concat(n),c.encode(o,e)}},function(e,t,i){"use strict";function r(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof r))return new r(e);e=o[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}var n=i(65),o=i(64),a=i(9),s=a.assert,d=a.parseBytes,c=i(202),l=i(203);e.exports=r,r.prototype.sign=function(e,t){e=d(e);var i=this.keyFromSecret(t),r=this.hashInt(i.messagePrefix(),e),n=this.g.mul(r),o=this.encodePoint(n),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:n,S:s,Rencoded:o})},r.prototype.verify=function(e,t,i){e=d(e),t=this.makeSignature(t);var r=this.keyFromPublic(i),n=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(n)).eq(o)},r.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return a.intFromLE(e.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},r.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},r.prototype.makeSignature=function(e){return e instanceof l?e:new l(this,e)},r.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},r.prototype.decodePoint=function(e){var t=(e=a.parseBytes(e)).length-1,i=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),n=a.intFromLE(i);return this.curve.pointFromY(n,r)},r.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(e){return a.intFromLE(e)},r.prototype.isPoint=function(e){return e instanceof this.pointClass}},function(e,t,i){"use strict";function r(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}var n=i(9),o=n.assert,a=n.parseBytes,s=n.cachedProperty;r.fromPublic=function(e,t){return t instanceof r?t:new r(e,{pub:t})},r.fromSecret=function(e,t){return t instanceof r?t:new r(e,{secret:t})},r.prototype.secret=function(){return this._secret},s(r,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(r,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(r,"privBytes",(function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[i]&=127,r[i]|=64,r})),s(r,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(r,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(r,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),r.prototype.sign=function(e){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},r.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},r.prototype.getSecret=function(e){return o(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},r.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=r},function(e,t,i){"use strict";function r(e,t){this.eddsa=e,"object"!==typeof t&&(t=d(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var n=i(4),o=i(9),a=o.assert,s=o.cachedProperty,d=o.parseBytes;s(r,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(r,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(r,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(r,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},e.exports=r},function(e,t,i){"use strict";var r=i(36);t.certificate=i(214);var n=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=n;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),d=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=d;var c=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var h=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=h;var u=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(e,t,i){function r(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var n=i(36),o=i(1);t.define=function(e,t){return new r(e,t)},r.prototype._createNamed=function(e){var t;try{t=i(206).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(r){t=function(e){this._initNamed(e)}}return o(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},r.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(n.decoders[e])),this.decoders[e]},r.prototype.decode=function(e,t,i){return this._getDecoder(t).decode(e,i)},r.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n.encoders[e])),this.encoders[e]},r.prototype.encode=function(e,t,i){return this._getEncoder(t).encode(e,i)}},function(module,exports){function Context(){}var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var i in e)t.push(i);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var i=0;i<e.length;i++)t(e[i],i,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,i){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:i})}}catch(e){return function(e,t,i){e[t]=i}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var i=t.contentWindow,r=i.eval,n=i.execScript;!r&&n&&(n.call(i,"null"),r=i.eval),forEach(Object_keys(e),(function(t){i[t]=e[t]})),forEach(globals,(function(t){e[t]&&(i[t]=e[t])}));var o=Object_keys(i),a=r.call(i,this.code);return forEach(Object_keys(i),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=i[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,i[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),i=this.runInContext(t);return e&&forEach(Object_keys(t),(function(i){e[i]=t[i]})),i},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var i=Script(t);return i[e].apply(i,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(i){t[i]=e[i]})),t}},function(e,t,i){function r(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function n(e,t){this.path=e,this.rethrow(t)}var o=i(1);t.Reporter=r,r.prototype.isError=function(e){return e instanceof n},r.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},r.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},r.prototype.enterKey=function(e){return this._reporterState.path.push(e)},r.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},r.prototype.leaveKey=function(e,t,i){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=i)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},r.prototype.leaveObject=function(e){var t=this._reporterState,i=t.obj;return t.obj=e,i},r.prototype.error=function(e){var t,i=this._reporterState,r=e instanceof n;if(t=r?e:new n(i.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!i.options.partial)throw t;return r||i.errors.push(t),t},r.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},o(n,Error),n.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,n),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(e,t,i){function r(e,t){var i={};this._baseState=i,i.enc=e,i.parent=t||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}var n=i(37).Reporter,o=i(37).EncoderBuffer,a=i(37).DecoderBuffer,s=i(8),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d);e.exports=r;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(i){t[i]=e[i]}));var i=new this.constructor(t.parent);return i._baseState=t,i},r.prototype._wrap=function(){var e=this._baseState;c.forEach((function(t){this[t]=function(){var i=new this.constructor(this);return e.children.push(i),i[t].apply(i,arguments)}}),this)},r.prototype._init=function(e){var t=this._baseState;s(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),s.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,i=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==i.length&&(s(null===t.children),t.children=i,i.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(s(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(i){i==(0|i)&&(i|=0);var r=e[i];t[r]=i})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),d.forEach((function(e){r.prototype[e]=function(){var t=this._baseState,i=Array.prototype.slice.call(arguments);return s(null===t.tag),t.tag=e,this._useArgs(i),this}})),r.prototype.use=function(e){s(e);var t=this._baseState;return s(null===t.use),t.use=e,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return s(null===t.default),t.default=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return s(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return s(null===t.key),t.key=e,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return s(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},r.prototype.contains=function(e){var t=this._baseState;return s(null===t.use),t.contains=e,this},r.prototype._decode=function(e,t){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,t));var r,n=i.default,o=!0,s=null;if(null!==i.key&&(s=e.enterKey(i.key)),i.optional){var d=null;if(null!==i.explicit?d=i.explicit:null!==i.implicit?d=i.implicit:null!==i.tag&&(d=i.tag),null!==d||i.any){if(o=this._peekTag(e,d,i.any),e.isError(o))return o}else{var c=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),o=!0}catch(p){o=!1}e.restore(c)}}if(i.obj&&o&&(r=e.enterObject()),o){if(null!==i.explicit){var l=this._decodeTag(e,i.explicit);if(e.isError(l))return l;e=l}var h=e.offset;if(null===i.use&&null===i.choice){if(i.any)c=e.save();var u=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(u))return u;i.any?n=e.raw(c):e=u}if(t&&t.track&&null!==i.tag&&t.track(e.path(),h,e.length,"tagged"),t&&t.track&&null!==i.tag&&t.track(e.path(),e.offset,e.length,"content"),n=i.any?n:null===i.choice?this._decodeGeneric(i.tag,e,t):this._decodeChoice(e,t),e.isError(n))return n;if(i.any||null!==i.choice||null===i.children||i.children.forEach((function(i){i._decode(e,t)})),i.contains&&("octstr"===i.tag||"bitstr"===i.tag)){var f=new a(n);n=this._getUse(i.contains,e._reporterState.obj)._decode(f,t)}}return i.obj&&o&&(n=e.leaveObject(r)),null===i.key||null===n&&!0!==o?null!==s&&e.exitKey(s):e.leaveKey(s,i.key,n),n},r.prototype._decodeGeneric=function(e,t,i){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],i):/str$/.test(e)?this._decodeStr(t,e,i):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],i):"objid"===e?this._decodeObjid(t,null,null,i):"gentime"===e||"utctime"===e?this._decodeTime(t,e,i):"null_"===e?this._decodeNull(t,i):"bool"===e?this._decodeBool(t,i):"objDesc"===e?this._decodeStr(t,e,i):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],i):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,i):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var i=this._baseState;return i.useDecoder=this._use(e,t),s(null===i.useDecoder._baseState.parent),i.useDecoder=i.useDecoder._baseState.children[0],i.implicit!==i.useDecoder._baseState.implicit&&(i.useDecoder=i.useDecoder.clone(),i.useDecoder._baseState.implicit=i.implicit),i.useDecoder},r.prototype._decodeChoice=function(e,t){var i=this._baseState,r=null,n=!1;return Object.keys(i.choice).some((function(o){var a=e.save(),s=i.choice[o];try{var d=s._decode(e,t);if(e.isError(d))return!1;r={type:o,value:d},n=!0}catch(c){return e.restore(a),!1}return!0}),this),n?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new o(e,this.reporter)},r.prototype._encode=function(e,t,i){var r=this._baseState;if(null===r.default||r.default!==e){var n=this._encodeValue(e,t,i);if(void 0!==n&&!this._skipDefault(n,t,i))return n}},r.prototype._encodeValue=function(e,t,i){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,r.optional&&void 0===e){if(null===r.default)return;e=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(e);else if(r.choice)o=this._encodeChoice(e,t);else if(r.contains)a=this._getUse(r.contains,i)._encode(e,t),s=!0;else if(r.children)a=r.children.map((function(i){if("null_"===i._baseState.tag)return i._encode(null,t,e);if(null===i._baseState.key)return t.error("Child should have a key");var r=t.enterKey(i._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var n=i._encode(e[i._baseState.key],t,e);return t.leaveKey(r),n}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return t.error("Too many args for : "+r.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var d=this.clone();d._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(i){var r=this._baseState;return this._getUse(r.args[0],e)._encode(i,t)}),d))}else null!==r.use?o=this._getUse(r.use,i)._encode(e,t):(a=this._encodePrimitive(r.tag,e),s=!0);if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,l=null===r.implicit?"universal":"context";null===c?null===r.use&&t.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(c,s,l,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(e,t){var i=this._baseState,r=i.choice[e.type];return r||s(!1,e.type+" not found in "+JSON.stringify(Object.keys(i.choice))),r._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var i=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&i.args)return this._encodeObjid(t,i.reverseArgs[0],i.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,i.args&&i.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},r.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},r.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},function(e,t,i){var r=i(112);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},function(e,t,i){var r=t;r.der=i(113),r.pem=i(211)},function(e,t,i){function r(e){a.call(this,e),this.enc="pem"}var n=i(1),o=i(6).Buffer,a=i(113);n(r,a),e.exports=r,r.prototype.decode=function(e,t){for(var i=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),n=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,d=-1,c=0;c<i.length;c++){var l=i[c].match(n);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;d=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===d)throw new Error("PEM section not found for: "+r);var h=i.slice(s+1,d).join("");h.replace(/[^a-z0-9\+\/=]+/gi,"");var u=new o(h,"base64");return a.prototype.decode.call(this,u,t)}},function(e,t,i){var r=t;r.der=i(114),r.pem=i(213)},function(e,t,i){function r(e){o.call(this,e),this.enc="pem"}var n=i(1),o=i(114);n(r,o),e.exports=r,r.prototype.encode=function(e,t){for(var i=o.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],n=0;n<i.length;n+=64)r.push(i.slice(n,n+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},function(e,t,i){"use strict";var r=i(36),n=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),d=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=r.define("RDNSequence",(function(){this.seqof(d)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),h=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))})),u=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),f=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(h),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(u).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},function(e){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(e,t,i){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,n=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=i(44),s=i(59),d=i(3).Buffer;e.exports=function(e,t){var i,c=e.toString(),l=c.match(r);if(l){var h="aes"+l[1],u=d.from(l[2],"hex"),f=d.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,u.slice(0,8),parseInt(l[1],10)).key,m=[],g=s.createDecipheriv(h,p,u);m.push(g.update(f)),m.push(g.final()),i=d.concat(m)}else{var v=c.match(o);i=new d(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(n)[1],data:i}}},function(e,t,i){(function(t){function r(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var n=i(4),o=i(63).ec,a=i(46),s=i(115);e.exports=function(e,i,d,c,l){var h=a(d);if("ec"===h.type){if("ecdsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");return function(e,t,i){var r=s[i.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+i.data.algorithm.curve.join("."));var n=new o(r),a=i.data.subjectPrivateKey.data;return n.verify(t,e,a)}(e,i,h)}if("dsa"===h.type){if("dsa"!==c)throw new Error("wrong public key type");return function(e,t,i){var o=i.data.p,s=i.data.q,d=i.data.g,c=i.data.pub_key,l=a.signature.decode(e,"der"),h=l.s,u=l.r;r(h,s),r(u,s);var f=n.mont(o),p=h.invm(s);return 0===d.toRed(f).redPow(new n(t).mul(p).mod(s)).fromRed().mul(c.toRed(f).redPow(u.mul(p).mod(s)).fromRed()).mod(o).mod(s).cmp(u)}(e,i,h)}if("rsa"!==c&&"ecdsa/rsa"!==c)throw new Error("wrong public key type");i=t.concat([l,i]);for(var u=h.modulus.byteLength(),f=[1],p=0;i.length+f.length+2<u;)f.push(255),p++;f.push(0);for(var m=-1;++m<i.length;)f.push(i[m]);f=new t(f);var g=n.mont(h.modulus);e=(e=new n(e).toRed(g)).redPow(new n(h.publicExponent)),e=new t(e.fromRed().toArray());var v=p<8?1:0;for(u=Math.min(e.length,f.length),e.length!==f.length&&(v=1),m=-1;++m<u;)v|=e[m]^f[m];return 0===v}}).call(this,i(6).Buffer)},function(e,t,i){(function(t){function r(e){this.curveType=s[e],this.curveType||(this.curveType={name:e}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function n(e,i,r){Array.isArray(e)||(e=e.toArray());var n=new t(e);if(r&&n.length<r){var o=new t(r-n.length);o.fill(0),n=t.concat([o,n])}return i?n.toString(i):n}var o=i(63),a=i(4);e.exports=function(e){return new r(e)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},r.prototype.computeSecret=function(e,i,r){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),n(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(e,t){var i=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(i[i.length-1]%2?i[0]=7:i[0]=6),n(i,e)},r.prototype.getPrivateKey=function(e){return n(this.keys.getPrivate(),e)},r.prototype.setPublicKey=function(e,i){return i=i||"utf8",t.isBuffer(e)||(e=new t(e,i)),this.keys._importPublic(e),this},r.prototype.setPrivateKey=function(e,i){i=i||"utf8",t.isBuffer(e)||(e=new t(e,i));var r=new a(e);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,i(6).Buffer)},function(e,t,i){t.publicEncrypt=i(220),t.privateDecrypt=i(221),t.privateEncrypt=function(e,i){return t.publicEncrypt(e,i,!0)},t.publicDecrypt=function(e,i){return t.privateDecrypt(e,i,!0)}},function(e,t,i){function r(e,t,i){var r,n=t.length,a=e.modulus.byteLength();if(n>a-11)throw new Error("message too long");return r=i?u.alloc(a-n-3,255):function(e){var t,i=u.allocUnsafe(e),r=0,n=o(2*e),a=0;for(;r<e;)a===n.length&&(n=o(2*e),a=0),(t=n[a++])&&(i[r++]=t);return i}(a-n-3),new c(u.concat([u.from([0,i?1:2]),r,u.alloc(1),t],a))}var n=i(46),o=i(27),a=i(32),s=i(116),d=i(117),c=i(4),l=i(118),h=i(62),u=i(3).Buffer;e.exports=function(e,t,i){var f;f=e.padding?e.padding:i?1:4;var p,m=n(e);if(4===f)p=function(e,t){var i=e.modulus.byteLength(),r=t.length,n=a("sha1").update(u.alloc(0)).digest(),l=n.length,h=2*l;if(r>i-h-2)throw new Error("message too long");var f=u.alloc(i-r-h-2),p=i-l-1,m=o(l),g=d(u.concat([n,f,u.alloc(1,1),t],p),s(m,p)),v=d(m,s(g,l));return new c(u.concat([u.alloc(1),v,g],i))}(m,t);else if(1===f)p=r(m,t,i);else{if(3!==f)throw new Error("unknown padding");if((p=new c(t)).cmp(m.modulus)>=0)throw new Error("data too long for modulus")}return i?h(p,m):l(p,m)}},function(e,t,i){function r(e,t){var i=e.modulus.byteLength(),r=c("sha1").update(h.alloc(0)).digest(),n=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,n+1),d=t.slice(n+1),l=a(s,o(d,n)),u=a(d,o(l,i-n-1));if(function(e,t){e=h.from(e),t=h.from(t);var i=0,r=e.length;e.length!==t.length&&(i++,r=Math.min(e.length,t.length));var n=-1;for(;++n<r;)i+=e[n]^t[n];return i}(r,u.slice(0,n)))throw new Error("decryption error");for(var f=n;0===u[f];)f++;if(1!==u[f++])throw new Error("decryption error");return u.slice(f)}var n=i(46),o=i(116),a=i(117),s=i(4),d=i(62),c=i(32),l=i(118),h=i(3).Buffer;e.exports=function(e,t,i){var o;o=e.padding?e.padding:i?1:4;var a,c=n(e),u=c.modulus.byteLength();if(t.length>u||new s(t).cmp(c.modulus)>=0)throw new Error("decryption error");a=i?l(new s(t),c):d(t,c);var f=h.alloc(u-a.length);if(a=h.concat([f,a],u),4===o)return r(c,a);if(1===o)return function(e,t,i){for(var r=t.slice(0,2),n=2,o=0;0!==t[n++];)if(n>=t.length){o++;break}var a=t.slice(2,n-1);if(("0002"!==r.toString("hex")&&!i||"0001"!==r.toString("hex")&&i)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return t.slice(n)}(0,a,i);if(3===o)return a;throw new Error("unknown padding")}},function(e,t,i){"use strict";(function(e,r){function n(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>f||e<0)throw new TypeError("offset must be a uint32");if(e>h||e>t)throw new RangeError("offset out of range")}function a(e,t,i){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>f||e<0)throw new TypeError("size must be a uint32");if(e+t>i||e>h)throw new RangeError("buffer too small")}function s(e,t,i,n){if(r.browser){var o=e.buffer,a=new Uint8Array(o,t,i);return u.getRandomValues(a),n?void r.nextTick((function(){n(null,e)})):e}if(!n)return c(i).copy(e,t),e;c(i,(function(i,r){if(i)return n(i);r.copy(e,t),n(null,e)}))}var d=i(3),c=i(27),l=d.Buffer,h=d.kMaxLength,u=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;u&&u.getRandomValues||!r.browser?(t.randomFill=function(t,i,r,n){if(!l.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof i)n=i,i=0,r=t.length;else if("function"===typeof r)n=r,r=t.length-i;else if("function"!==typeof n)throw new TypeError('"cb" argument must be a function');return o(i,t.length),a(r,i,t.length),s(t,i,r,n)},t.randomFillSync=function(t,i,r){if("undefined"===typeof i&&(i=0),!l.isBuffer(t)&&!(t instanceof e.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(i,t.length),void 0===r&&(r=t.length-i),a(r,i,t.length),s(t,i,r)}):(t.randomFill=n,t.randomFillSync=n)}).call(this,i(11),i(16))},function(e,t,i){function r(){this.chars=""}var n=i(224);r.prototype.setType=function(e){var t,i="abcdefghijklmnopqrstuvwxyz",r=i.toUpperCase();t="alphanumeric"===e?"0123456789"+i+r:"numeric"===e?"0123456789":"alphabetic"===e?i+r:"hex"===e?"0123456789abcdef":e,this.chars=t},r.prototype.removeUnreadable=function(){this.chars=this.chars.replace(/[0OIl]/g,"")},r.prototype.setcapitalization=function(e){"uppercase"===e?this.chars=this.chars.toUpperCase():"lowercase"===e&&(this.chars=this.chars.toLowerCase())},r.prototype.removeDuplicates=function(){var e=this.chars.split("");e=n(e),this.chars=e.join("")},e.exports=r},function(e,t,i){"use strict";(function(t){var i;"Set"in t?"function"===typeof Set.prototype.forEach&&(i=!1,new Set([!0]).forEach((function(e){i=e})),!0===i)?e.exports=function(e){var t=[];return new Set(e).forEach((function(e){t.push(e)})),t}:e.exports=function(e){var t=new Set;return e.filter((function(e){if(!t.has(e))return t.add(e),!0}))}:e.exports=function(e){for(var t=[],i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i]);return t}}).call(this,i(11))},function(e,t){e.exports='<svg width=\'100%\' height=\'100%\' viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M1 1L13 13" stroke="#AFC5CF" stroke-width="2"/>\n<path d="M1 13L13 1" stroke="#AFC5CF" stroke-width="2"/>\n</svg>\n'},function(e,t,i){"use strict";function r(){}function n(e){if(!e)return;const{parentElement:t}=e;t&&t.removeChild(e)}function o(e){if(!e||!e.toString)return!1;const t=e.toString();return/\[native code\]/.test(t)||/\/\* source code not available \*\//.test(t)}function a(e){return"function"===typeof e||"Function"===Us(e)}function s(e){if(!e)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t}function d(e){const t=typeof e;return Boolean(e)&&("object"===t||"function"===t)}function c(e){return ld<e}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t,i){for(const r in e)l(e,r)&&t.call(i,e[r],r,e)}function u(e){if(e&&e.location){const{location:t}=e;return"function"===typeof t.toString?t.toString():t.href||""}return""}function f(e){return"ontouchstart"in e}function p(e){return function(e){return Boolean(e.PointerEvent)}(e)&&function(e){const t=e.navigator||{},{msMaxTouchPoints:i,maxTouchPoints:r}=t;return i||r||0}(e)>0&&!pd(e)}function m(e,t){if(!a(e.matchMedia))return!1;const i=e.matchMedia(t);return d(i)&&Boolean(i.matches)}function g(e){return void 0===e&&(e=window),p(e)||function(e){return m(e,bd)}(e)||function(e){return m(e,yd)}(e)||function(e){const{DocumentTouch:t}=e;return Boolean(t)&&e.document instanceof t}(e)||f(e)}function v(e){void 0===e&&(e=window);const t=e.navigator.userAgent.toLowerCase();return/ipad|iphone|ipod/.test(t)&&!e.MSStream&&!Ad(e)}function b(e){void 0===e&&(e=window);try{return(e.navigator||{}).userAgent||""}catch(t){return""}}function y(e,t){if(void 0===t&&(t=!0),wd&&t)return[];{const t=[];let r=e;for(;;)try{if(!(r=r.ownerDocument.defaultView.frameElement))return t;t.push(r)}catch(i){return t}}}function A(e){const t=y(e.documentElement).map(e=>e.ownerDocument);return t.unshift(e),t.map(e=>({location:u(e.defaultView),referrer:e.referrer}))}function _(e){if("function"===typeof Object.keys)return Object.keys(e);{const t=[];for(const i in e)l(e,i)&&t.push(i);return t}}function w(e){return"function"===typeof Object.entries?Object.entries(e):_(e).map(t=>[t,e[t]])}function S(e){return"string"===typeof e}function E(e){return S(e)&&e.length>0}function T(e,t){try{return e()}catch(i){"function"===typeof t&&t(i)}}function C(e,t){let i=e[t];if(!o(i)){const n=i;try{delete e[t];const r=e[t];"function"===typeof r&&(i=r),e[t]=n}catch(r){}}return i}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function k(e){kd.href=e;let t=kd.pathname||"";"/"!==t.charAt(0)&&(t="/"+t);const i=(kd.search||"")+(kd.hash||""),r=e.lastIndexOf(i),n=-1===r?e:e.slice(0,r);if(Pd.test(e)){const t=k(e.replace(Pd,"https:"));return kd.href=e,I({},t,{originalPath:n,protocol:e.slice(0,e.indexOf(":")+1),href:kd.href})}const o=kd.protocol&&/^[a-z\-]+:/i.test(kd.protocol)?kd.protocol:"";return{originalPath:n,href:kd.href,protocol:o,host:kd.host,hostname:kd.hostname,port:kd.port,pathname:t,search:kd.search,hash:kd.hash}}function P(e,t){if(void 0===t&&(t=!1),t){const t=e.originalPath,i="/"===e.pathname&&"/"!==t[t.length-1];return e.originalPath+(i?"/":"")+e.search+e.hash}const i="443"===e.port||"80"===e.port?e.hostname:e.host;return e.protocol+"//"+i+e.pathname+e.search+e.hash}function O(e){const t={},i=e.replace(/^[?#]+/,"").replace(/#.*$/,"").split("&");for(let r=0;r<i.length;r++){const e=i[r].indexOf("=");let n,o;if(-1===e?(n=Od(i[r]),o=""):(n=Od(i[r].slice(0,e)),o=i[r].slice(e+1)),n){const e=Boolean(/(\[\])$/.exec(n));n=n.replace(/\[\]$/,""),e?void 0===t[n]?t[n]=[Od(o)]:t[n]=[].concat(t[n],Od(o)):t[n]=Od(o)}}return t}function D(e){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Td(r)?t.push(Dd(i,r)):void 0!==r&&t.push(i+"="+encodeURIComponent(r))}return"?"+t.join("&")}function R(e,t,i){let{override:r=!0,saveOriginalPath:n=!1}=void 0===i?{}:i;const o=k(e),a=O(o.search);return h(t,(e,t)=>{(void 0===a[t]||r)&&(a[t]=e)}),P(I({},o,{search:D(a)}),n)}function N(e){d(console)&&a(console.warn)&&console.warn(e)}function M(e,t){const i={UrlParams:()=>Nd[t],SessionStorage:()=>e.sessionStorage.getItem(t),LocalStorage:()=>e.localStorage.getItem(t),GlobalVariable:()=>{for(const n of hd(e)){var i,r;const e=null===(i=n.Ya)||void 0===i?void 0:null===(r=i.hardcodedParams)||void 0===r?void 0:r[t];if(e)return String(e)}}};for(const[r,n]of w(i)){const e=T(n);if(E(e))return N("VAS WARNING! Hardcoded parameter=["+t+"] with value=["+e+"] found in ["+r+"]"),e}}function V(e,t){let{content:i,size:r}=void 0===t?{}:t;const n=e.ownerDocument.createElement("iframe");n.scrolling="no",n.setAttribute("allowfullscreen",""),n.style.display="block",r&&(n.height=r.height,n.width=r.width),e.appendChild(n);const o=n.contentDocument;return o.open(),i&&o.write(i),o.close(),o.body.style.margin="0",n.style.borderWidth="0",n}function B(e){return void 0===e&&(e=window),void 0===zd&&(zd=function(e){void 0===e&&(e=window);return e.JSON&&o(e.JSON.stringify)&&o(e.JSON.parse)}(e)?e.JSON:{stringify:Yd("stringify"),parse:Yd("parse")}),zd}function x(e){return B().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Zs(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(a(r))return S(r.name)?r.name:"[Function]";if(!d(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:o,value:r}),t.set(r,o),r}}())}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function U(e){setTimeout(()=>{throw e},0)}function F(e){let t=function(){let i;return t=()=>i,i=e.apply(this,arguments)};return function(){return t.apply(this,arguments)}}function H(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];Td(e)&&e.forEach(e=>{"function"===typeof e&&e(...i)})}function j(e){let t="";for(let i=0;i<e;i++)t+=(16*Qs()|0).toString(16);return t}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function W(e){let t=e;const i=[e],{top:r}=e;for(;t!==r;)t=t.parent,i.push(t);return i}function Y(e){var t,i;if(!Bd||void 0===console)return;const r="AdSDKJS["+ac+"]:";null===(t=(i=console).log)||void 0===t||t.call(i,r,e)}function G(e,t){void 0===t&&(t=!0);const i=Ac(e);return i?!e[i]:t}function q(){if(Sc&&Sc.document&&"function"===typeof Sc.document.hasFocus)try{return Sc.document.hasFocus()}catch(e){}}function K(e){return Ec?s(e.location.ancestorOrigins):[]}function X(e){let t="",i="";if(e){A(e).reverse().forEach(e=>{let{location:r,referrer:n}=e;t=t||r,i=i||n})}return{location:t,referrer:i}}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function J(e){const{method:t,url:i,async:n=!0,data:o,responseType:a="text",onBeforeSend:s=r,onRetry:d=r,checkStatus:c=(e=>Dc===e),headers:l={},xhrConstructor:u=XMLHttpRequest,retries:f=0,timeout:p=0,withCredentials:m,onAbort:g,onSetup:v}=e;if(!u)return;const b=e.onSuccess?F(e.onSuccess):r,y=e.onError?F(e.onError):r;let A,_=!1,w=0,S=e=>{_=!0,S=r,A=e,E(new Error("Abort request")),"function"===typeof g&&g(e)};const E=t=>{if(T.onerror=null,T.onreadystatechange=null,w&&clearTimeout(w),w&&T.readyState!==Rc||_)try{T.abort()}catch(t){}if(!_)if(f>0){const i=d(t,T);if("boolean"!==typeof i||Boolean(i)||S(),_)return;J(Q({},e,{onSetup:e=>{let{abort:t}=e;S=e=>t(e),_&&t(A)},retries:f-1}))}else S=r,y(t,T)},T=new u;try{T.open(t,i,n)}catch(C){return void E(C)}if(T.responseType=a,T.withCredentials=Boolean(m),h(l,(e,t)=>{try{T.setRequestHeader(t,e)}catch(C){}}),p>0&&isFinite(p)&&(w=window.setTimeout(()=>{E(new Error("Request timeout, "+i))},p)),T.onerror=E,T.onreadystatechange=()=>{if(T.readyState===Rc){const{status:e}=T;c(e)?(S=r,clearTimeout(w),b(T)):E(new Error("Invalid request status "+e+", "+i))}},("function"!==typeof v||(v({abort:e=>S(e)}),!_))&&(s(T,e),!_))try{T.send(o)}catch(C){E(C)}}function Z(e){const t={};return e.forEach(e=>{let[i,r]=e;t[i]=r}),t}function $(e,t){return!!Mc&&window.navigator.sendBeacon(e,t)}function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function te(e){return B().stringify(e,function(){const e=[],t=function(){const e="undefined"!==typeof WeakMap?new WeakMap:void 0,t=[];return{set:(i,r)=>{if(void 0!==e)try{e.set(i,r)}catch(n){t.push({path:r,value:i})}else t.push({path:r,value:i})},get:i=>{const r=Zs(t,e=>e.value===i);return void 0!==e&&void 0===r?e.get(i):r?r.path:void 0}}}();return(i,r)=>{if(a(r))return S(r.name)?r.name:"[Function]";if(Kc(r))return Xc(r);if(!d(r))return r;const n=t.get(r);if(n)return"[Circular "+n+"]";for(;e.length>0&&e[e.length-1].value[i]!==r;)e.pop();const o=(e.length>0?e[e.length-1].path:"")+(i?"/"+i:"~");return e.push({path:o,value:r}),t.set(r,o),r}}())}function ie(e,t,i){void 0===i&&(i=" ");const r=t-e.length;if(r>0){let t=i;for(;t.length<r;)t+=t;return(t.length>r?t.substr(0,r):t)+e}return e}function re(e){const t=[];for(const[i,r]of e){const e=ne(r,i);t.push(e)}return function(e){if(e.length>53)throw new Error("bitUtils.toDecimal: \u0431\u043e\u043b\u044c\u0448\u0435 53 \u0431\u0438\u0442 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0439 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u0438, \u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u0430 \u0441\u0442\u0440\u043e\u043a\u0430 \u0434\u043b\u0438\u043d\u043e\u0439 "+e.length+" \u0431\u0438\u0442.");return parseInt(e,2)}(t.reverse().join(""))}function ne(e,t){return oe(function(e,t){return Number(e)&Math.pow(2,t)-1}(e,t).toString(2),t)}function oe(e,t){return ie(e,t,"0")}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function se(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ce(e,t){return function(){try{e(...arguments)}catch(i){hl.error({error:new Qd(i,{code:t})}),U(i)}}}function le(e){return"number"===typeof e&&isFinite(e)}function he(e){return"number"===typeof e&&isFinite(e)&&e>0}function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fe(e){const t=function(e){if("function"===typeof e.getVideoPlaybackQuality){const t=e.getVideoPlaybackQuality();if(d(t)){const{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}=t;return{droppedVideoFrames:e,corruptedVideoFrames:i,totalVideoFrames:r}}}const t=e;return"number"===typeof t.webkitDroppedFrameCount&&"number"===typeof t.webkitDecodedFrameCount?ue({},fl,{droppedVideoFrames:t.webkitDroppedFrameCount,totalVideoFrames:t.webkitDecodedFrameCount}):fl}(e),{droppedVideoFrames:i,totalVideoFrames:r}=t;let n=pl.droppedVideoFramesRatio;return he(r)&&le(i)&&(n=i/r),ue({},t,{droppedVideoFramesRatio:n})}function pe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.join("")}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ge(e,t){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ve(e){return e.createElement("video")}function be(e,t){return t===e.substring(e.length-t.length)}function ye(e){const{hostname:t}=k(e);return t===$l||be(t,"."+$l)}function Ae(e){if(!e)return!1;const{hostname:t}=k(e);return!(!t||0===t.length)&&eh(ih,e=>e===t||be(t,"."+e))}function _e(e){let{url:t,options:i,ignoreAbd:r=!1}=e;if(a(bc)&&!r)return t;if(!Ae(t)&&!ye(t))return t;const n=Math.round(100*i.visibility),o=Math.round(i.size.width),s=Math.round(i.size.height),d=Math.round(100*i.videoVolume),c=Math.round(i.videoAvatarSize.width),l=Math.round(i.videoAvatarSize.height);return R(t,{[wl]:String(hc),[Sl]:ac,[El]:String(n),[Tl]:String(o),[Cl]:String(s),[Il]:String(c),[kl]:String(l),[Yc]:String(el.serialize()),[Pl]:Jl(),[Ol]:sc,[Rl]:Pc,[Nl]:Oc?"0":"1",[Al]:String(Date.now()),[_l]:String((new Date).getTimezoneOffset()),[Dl]:yl?"0":"1",[Ml]:String(d),[Vl]:i.videoMuted?"1":"0"},{override:!1})}function we(e){(new Image).src=e}function Se(e){if(Ae(e)){if($(e,""))return}else Ae(e)&&hl.event({name:"TrackYandexUrlWithImage",data:{url:e},probability:Fd});we(e)}function Ee(e){let{error:t,trackingUrls:i}=e;Y("Track error=["+t+"]"),function(e){if(!Array.isArray(e))return;const t=md(e,e=>_e({url:e,options:vl}));yc(t,Se)}(i)}function Te(e,t){void 0===t&&(t=[]),hl.errorToStats(e),Ee({error:e,trackingUrls:t})}function Ce(e,t){const i=e.style;for(const r in t)if(t.hasOwnProperty(r)){i[sh(r)]=t[r]}}function Ie(e,t,i,r){const n=function(e){let t=!1,i=!1,r=!1;return!0===e?t=!0:"object"===typeof e&&(t=Boolean(e.capture),i=Boolean(e.passive),r=Boolean(e.once)),{capture:t,passive:i,once:r}}(r),o=uh?n:n.capture,a=n.once&&!lh?function(e){s(),i.call(this,e)}:i,s=()=>{ch(e,t,a,o)};return dh(e,t,a,o),s}function ke(e,t){const i=function(e){const t=Ac(e);if(t)return t.replace(/hidden/i,"visibilitychange")}(e);return i?Ie(e,i,()=>{t(G(e))}):r}function Pe(e){const t={};for(const i in e)l(e,i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function Oe(e,t){const i={};return _(e).forEach(r=>{i[r]=t(e[r],r)}),i}function De(e,t){!function(e){return"function"===typeof e.dispatch}(e)?e(t):e.dispatch(t)}function Re(e,t){e.forEach(e=>{De(e,t)})}function Ne(e,t,i){const r=()=>e.map(e=>e.getValue());let n=t(...r());i(n);const o=()=>{const e=t(...r());n!==e&&(n=e,i(e))},a=e.map(e=>e.add(o));return()=>{H(a)}}function Me(e,t){return void 0===t&&(t=1e6),Ve(function(e,t){e=e.replace(/\r\n/g,"\n");let i="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);let o;if(n<128?o=String.fromCharCode(n):n>127&&n<2048?(o=String.fromCharCode(n>>6|192),o+=String.fromCharCode(63&n|128)):(o=String.fromCharCode(n>>12|224),o+=String.fromCharCode(n>>6&63|128),o+=String.fromCharCode(63&n|128)),i.length+o.length>t)break;i+=o}return i}(e,3*t/4|0))}function Ve(e){let t="",i=0;for(;i<e.length;){const r=e.charCodeAt(i++),n=e.charCodeAt(i++),o=e.charCodeAt(i++),a=r>>2,s=(3&r)<<4|n>>4;let d=(15&n)<<2|o>>6,c=63&o;isNaN(n)?d=c=64:isNaN(o)&&(c=64),t=t+Th.charAt(a)+Th.charAt(s)+Th.charAt(d)+Th.charAt(c)}return t}function Be(e){return function(e){const t=[];let i=0;for(;i<e.length;){const r=e.charCodeAt(i);if(r<128)t.push(String.fromCharCode(r)),i++;else if(r>191&&r<224){const n=e.charCodeAt(i+1);t.push(String.fromCharCode((31&r)<<6|63&n)),i+=2}else{const n=e.charCodeAt(i+1),o=e.charCodeAt(i+2);t.push(String.fromCharCode((15&r)<<12|(63&n)<<6|63&o)),i+=3}}return t.join("")}(function(e){const t=[];let i=0;e=e.replace(/[^A-Za-z0-9\-_=]/g,"");for(;i<e.length;){const r=Th.indexOf(e.charAt(i++)),n=Th.indexOf(e.charAt(i++)),o=Th.indexOf(e.charAt(i++)),a=Th.indexOf(e.charAt(i++)),s=r<<2|n>>4,d=(15&n)<<4|o>>2,c=(3&o)<<6|a;t.push(String.fromCharCode(s)),64!==o&&t.push(String.fromCharCode(d)),64!==a&&t.push(String.fromCharCode(c))}return t.join("")}(e))}function xe(e){return Kc(e)&&Boolean(e.code)}function Le(e,t){return-1!==Dh(e,t)}function Ue(e){return void 0===e&&(e=uc),oc||function(e){return qh+"1.0-"+e+"/"}(e)}function Fe(e,t){_(t).forEach(i=>{const r=t[i];null===r?e.removeAttribute(i):e.setAttribute(i,r)})}function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ye(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ge(){return(Ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function qe(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ke(e){return[].concat.apply([],e)}function Xe(e,t){const i=[],r=[];return yc(e,(n,o)=>{t(n,o,e)?i.push(n):r.push(n)}),[i,r]}function Qe(e){if(!e)return null;try{const t=(new DOMParser).parseFromString(e,"application/xml");return null===t.querySelector("parsererror")?t:null}catch(t){return null}}function Je(e){if(void 0===e||null===e)return"";const{localName:t,name:i,documentElement:r}=e;if("string"===typeof t)return t;if("string"===typeof i)return i;if(r){const{tagName:e}=r;if("string"===typeof e)return e}return""}function Ze(e,t,i){if(void 0===i&&(i=null),e.hasAttribute(t)){var r;const i=e.getAttribute(t);return null!==(r=null===i||void 0===i?void 0:i.trim())&&void 0!==r?r:""}return i}function $e(e){var t,i;return null!==(t=null===e||void 0===e?void 0:null===(i=e.textContent)||void 0===i?void 0:i.trim())&&void 0!==t?t:""}function et(e){return Boolean(e&&$e(e).length)}function tt(e){try{return S(e)?JSON.parse(e):void 0}catch(t){return}}function it(e){const t=parseInt(Ze(e,"width",0),10),i=parseInt(Ze(e,"height",0),10),r=parseInt(Ze(e,"bitrate",0),10),n=Ze(e,"minBitrate",""),o=n?parseInt(n,10):void 0,a=Ze(e,"maxBitrate",""),s=a?parseInt(a,10):void 0,d={width:t,height:i,bitrate:r,type:Ze(e,"type"),url:$e(e)};return he(o)&&(d.minBitrate=o),he(s)&&(d.maxBitrate=s),he(o)&&he(s)&&o>s&&hl.error({error:new Qd({code:"MIN_BITRATE_GREATER_THAN_MAX_BITRATE",details:{adMediaFile:d}})}),d.url?d.type?d:(hl.error({error:new Qd({code:"INVALID_MEDIA_FILE_TYPE",details:{adMediaFile:d}})}),null):(hl.error({error:new Qd({code:"INVALID_MEDIA_FILE_URL",details:{adMediaFile:d}})}),null)}function rt(e){const t=e.querySelector("StaticResource");return{width:parseInt(Ze(e,"width",0),10),height:parseInt(Ze(e,"height",0),10),type:t?Ze(t,"creativeType"):null,url:t?$e(t):"",bitrate:0,minBitrate:void 0,maxBitrate:void 0}}function nt(e){const t={};return d(e)&&yc(_(e),i=>{const r=e[i];Array.isArray(r)&&(t[i]=jd(r,e=>"string"===typeof e))}),t}function ot(){const e={};for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return yc(i,t=>{yc(_(t),i=>{const r=e[i]||[],n=t[i]||[];e[i]=[...r,...n]})}),e}function at(e){if(void 0===e)return;const t=Number(e);return he(t)?t:void 0}function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function dt(e){const t=Cu(xu);if(!d(e))return t;const i=(e,i)=>{void 0===t.controlsVisibility[i]&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)};if(i(e.showSoundButton,"mute"),i(e.showSkipButton,"skip"),d(e.controlsSettings))if(d(e.controlsSettings.controlsVisibility)&&h(e.controlsSettings.controlsVisibility,(e,i)=>{Vu.indexOf(i)>-1&&"boolean"===typeof e&&(t.controlsVisibility[i]=e)}),d(!1===e.controlsSettings.visibility)&&(t.controlsVisibility=st({},Bu)),E(e.controlsSettings.controlsVariant)){const{controlsVariant:i}=e.controlsSettings;"regular"===i?t.controlsVariant="regular":"banner"===i?t.controlsVariant="banner":hl.error({error:new Qd({code:"INCORRECT_CONTROLS_VARIANT",details:{variant:i}})})}else t.controlsVariant="regular";return delete t.visibility,t}function ct(e){const t=d(e)?e:{},i=[],r="number"===typeof t.bufferFullTimeout?Math.min(t.bufferFullTimeout,Ru):void 0;let n;return void 0!==t.skipDelay&&(le(t.skipDelay)&&t.skipDelay>=0?n=t.skipDelay:i.push(new Qd({code:"INCORRECT_SKIP_DELAY_FORMAT",details:{value:t.skipDelay,stringValue:String(t.skipDelay),type:typeof t.skipDelay}}))),{config:{autoplay:void 0===t.autoplay?void 0:Boolean(t.autoplay),pauseOnClickThrough:void 0===t.pauseOnClickThrough||Boolean(t.pauseOnClickThrough),showGuiForVpaid:"showGuiForVpaid"in t?Boolean(t.showGuiForVpaid):void 0,backgroundBlur:void 0===t.backgroundBlur?void 0:Boolean(t.backgroundBlur),isClickable:"isClickable"in t?Boolean(t.isClickable):void 0,description:"string"===typeof t.description?t.description:void 0,skipDelay:n,videoTimeout:he(t.videoTimeout)?t.videoTimeout:void 0,vpaidTimeout:he(t.vpaidTimeout)?t.vpaidTimeout:void 0,bufferFullTimeout:r,bufferEmptyLimit:he(t.bufferEmptyLimit)?t.bufferEmptyLimit:void 0,clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:void 0,trackingEvents:t.trackingEvents?nt(t.trackingEvents):{},controlsSettings:dt(t),videoSlotCanAutoPlay:void 0===t.videoSlotCanAutoPlay?void 0:Boolean(t.videoSlotCanAutoPlay),desiredBitrate:at(t.desiredBitrate),lang:"string"===typeof t.lang?t.lang:vh},errors:i}}function lt(e){const t=Object.values;if("function"===typeof t)return t(e);{const t=[];for(const i in e)l(e,i)&&t.push(e[i]);return t}}function ht(e){return"string"!==typeof e?NaN:wh(e.split(":").reverse(),(e,t,i)=>e+parseFloat(t)*60**i,0)}function ut(e){if(e.indexOf("%")>-1){const t=parseFloat(e);return le(t)?{unit:Lu.portion,value:t/100}:void 0}const t=ht(e);if(le(t))return{unit:Lu.seconds,value:t}}function ft(e){return"number"===typeof e&&isFinite(e)&&e>=0}function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vt(e){let{url:t,data:i,timeout:r,doRequest:n=qu,withCredentials:o}=e;return new Promise(async(e,a)=>{"https:"===window.location.protocol&&(t=function(e){return kd.href=e,kd.protocol="https:",kd.href}(t));const s=Gu(r),d=n({url:t,data:i,withCredentials:o});try{const t=await Promise.race([d,s]);if(t){return e(gt({},t,{xml:Qe(t.responseText)}))}return a({reason:"timeout",error:new Error("XHR Timeout")})}catch(c){return a(c)}})}function bt(e,t){let i=!1;const r=function(){const r=i?t:e;return i=!0,r.apply(this,arguments)};return function(){return r.apply(this,arguments)}}function yt(e){yc(e,e=>hl.error({error:e}))}function At(e){let{win:t,methodName:i,data:r,id:n}=e;t.postMessage({methodName:i,data:r,id:n},"*")}function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function St(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Et(e){return e.top!==e.self}function Tt(e,t,i){const r=function(e){return'{"grab_version":1,"is_async":'+function(){try{return Boolean(Ya.Context._asyncModeOn)}catch(e){return!0}}()+',"old_grab_size":'+e.length+"}"}(t);let n=Ct(r,t+e);if(n.length<i)return n;let o=i,a="";for(;a.length<i;){n=a,a=Ct(r,(t+e).substr(0,o)),o+=512}return n}function Ct(e,t){return Ve(e+"\n"+df.deflate(t,{level:9,to:"string"}))}function It(e){const t=e.document.head,i=e.document.title;if(!t)return"<head></head>";const r=t.getElementsByTagName("meta"),n=["<head>"];i&&n.push("<title>"+i+"</title>");for(let o=0;o<r.length;o++){const e=(r[o].getAttribute("name")||"").toLowerCase();"description"!==e&&"keywords"!==e||(n.push("<meta"),kt(r[o],"name",n),kt(r[o],"content",n),n.push("/>"))}return n.push("</head>"),n.join("")}function kt(e,t,i){e.hasAttribute(t)&&i.push(" "+t+'="'+e.getAttribute(t)+'"')}function Pt(e,t,i){const r=e.document.getElementsByTagName(t)[0]||e.document.getElementsByClassName(t)[0],n=[];return r&&function(e,t,i){const r=[e],n=Number(new Date);let o=0,a=0;for(;r.length>0&&o<1e4&&Number(new Date)-n<100;){const e=r.pop();if(e instanceof lf)e.textContentLength===a?(i.length=e.resultLength,o=e.textContentLength):(i.push(e.name),o+=e.name.length);else if(Nt(e)){const t=e.textContent||"";i.push(t),o+=t.length,a+=t.length}else if(Mt(e)&&Ot(e)){const n=new lf("</"+e.tagName.toLowerCase()+">",a,i.length);Dt(e,t,i),o+=i[i.length-1].length,r.push(n);for(let t=e.lastChild;t;t=t.previousSibling)if(Rt(t))if(Nt(t))r.push(t);else if(Mt(t)){const e=t.nodeName.toLowerCase();if("select"===e){const e=t.childNodes.length,r=t.selectedIndex;if(0!==e&&-1!==r){const e=t.options[r],n="<select><option>"+(e.textContent||e.innerText)+"</option></select>";i.push(n),a+=n.length}break}-1===cf.indexOf(e)&&r.push(t)}}}}(r,i,n),n.join("").replace(/\s{2,}/g," ").replace(/>\s*</g,"><")}function Ot(e){const t=Boolean(e.offsetWidth||e.offsetHeight);return e&&e.getClientRects?Boolean(t||e.getClientRects().length):e&&e.currentStyle?t&&"hidden"!==e.currentStyle.visibility:t}function Dt(e,t,i){const r=[],n=e.tagName.toLowerCase();if(r.push("<"+n),function(e){for(let t=e.lastChild;t;t=t.previousSibling)if(Nt(t)&&Rt(t))return!0;return!1}(e))for(let o=0;o<t.length;o++)e.hasAttribute(t[o])&&r.push(" "+t[o]+'="'+e.getAttribute(t[o])+'"');r.push(">"),i.push(r.join(""))}function Rt(e){if(!e.lastChild)return hf.test(e.innerText);for(let t=e.lastChild;t;t=t.previousSibling){if(!t.lastChild&&hf.test(t.innerText))return!0;for(let e=t.lastChild;e;e=e.previousSibling)if(hf.test(e.innerText))return!0}return!1}function Nt(e){return 3===e.nodeType}function Mt(e){return 1===e.nodeType}function Vt(e,t){const i=window,r=i.document;if(t){const e=function(e){return e.location.host}(r);if((" "+uf+" ").indexOf(" "+e+" ")>-1)return t}let n=Bt(e,r);if("t\n"===n&&i.top!==i.self)try{n=Bt(e,i.parent.document)}catch(o){}return Me(n,e)}function Bt(e,t){const i=[];let r=0;i.push("t"+(t.title||"")),r+=i[0].length;for(let n=1;n<4&&r<e;n++){const e=t.getElementsByTagName("h"+n),o=e.length;for(let t=0;t<o;t++){const o=xt(e[t]);r+=o.length,i.push(""+n+o)}}return i.join("\n")+"\n"}function xt(e){const t=[];let i="";if(!e)return i;for(t.push(e);t.length>0;){if(3===(e=t.pop()).nodeType)i+=e.nodeValue+" ";else if(e.childNodes&&e.childNodes.length>0){const i=e.childNodes;for(let e=i.length-1;e>=0;e--)t.push(i[e])}}return i.replace(/\s+/g," ")}function Lt(e,t){const i=window;let r,n;if(t&&((o=function(e){return e.location.host}(i))&&o&&0!==o.length&&eh(sf,e=>e===o||function(e,t){return t===e.substring(e.length-t.length)}(o,"."+e))))return t;var o;if(pf&&pf+ff>Number(new Date))return mf;if(Et(i))if(n=It(i),""!==(r=Pt(i,"body",["class"])))n=It(i),r=Pt(i,"body",["class"]);else try{n=It(i.parent),r=Pt(i.parent,"body",["class"])}catch(d){}else n=It(i),r=Pt(i,"body",["class"]);const a=["<html>",n,r,"</html>"].join(""),s=function(e,t){return Be(Vt(e,t))}(Math.min(e/2,1800),t);return mf=Tt(a,s,e),pf=Number(new Date),mf}function Ut(e){let t;try{t=JSON.stringify(e)}catch(i){}return t}function Ft(e){return Boolean(e.YA_TURBO_PAGES)}function Ht(e){return void 0===e&&(e=window),Boolean(e.ampSeen)}function jt(e){void 0===e&&(e=window);let t="";const i=e.context,r=e.Ya;return Ht(e)&&i&&i.master.Ya&&i.master.Ya.getSkipToken?t=i.master.Ya.getSkipToken():r&&r.Context&&r.Context.AdvManager&&r.Context.AdvManager.getSkipToken&&(t=r.Context.AdvManager.getSkipToken()),t}function zt(e,t){return void 0===t&&(t=window),("function"===typeof t.getComputedStyle?t.getComputedStyle(e,null):e.currentStyle)||{}}function Wt(e){const t=zt(e);if("inline"===t.getPropertyValue("display"))return{width:0,height:0};let{width:i,height:r}=e.getBoundingClientRect();Math.abs(i-e.offsetWidth)>=1&&(i=e.offsetWidth),Math.abs(r-e.offsetHeight)>=1&&(r=e.offsetHeight);const n=Yt(t,"padding-top")+Yt(t,"padding-bottom"),o=Yt(t,"padding-left")+Yt(t,"padding-right"),a=Yt(t,"border-top-width")+Yt(t,"border-bottom-width"),s=Yt(t,"border-left-width")+Yt(t,"border-right-width"),d=Math.max(0,i-o-s),c=Math.max(0,r-n-a);return{width:d>1?d:0,height:c>1?c:0}}function Yt(e,t){const i=e.getPropertyValue(t)||"0";return parseFloat(i)}function Gt(e,t,i,r){"undefined"!==typeof i&&"undefined"!==typeof t&&(i+=!vf.test(t)&&i>>>0?"px":"",e.style.setProperty?e.style.setProperty(t,i,r?"important":""):e.style.cssText+=";"+t+": "+i+(r?"!important":""))}function qt(e){const t=function(){const e=document.createElement("div");bf(e,{display:"table","table-layout":"fixed",width:"100%",height:Af+"px",visibility:"hidden"});const t=document.createElement("div");t.style.display="table-row";const i=document.createElement("div");return i.style.display="table-cell",t.appendChild(i),e.appendChild(t),e}(),i={inner:Wt(e),rect:Nh(e)};e.appendChild(t);const r=function(e){const t=e.parentElement,i={inner:Wt(e),rect:Nh(e)};if(!t)return i;const r=Wt(t);if(r.width<i.inner.width||r.height<i.inner.height)return{inner:r,rect:Nh(t)};return i}(e);e.removeChild(t);let n=!1;return i.inner.height===r.inner.height&&i.inner.width===r.inner.width&&(n=!0),{isFixed:n,origin:i,max:r}}function Kt(){return(Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Xt(){const e=function(){const e=window;let t=0;return e.Ya&&e.Ya.Context&&e.Ya.Context.AdvManager&&e.Ya.Context.AdvManager.getCapturedCount&&(t=e.Ya.Context.AdvManager.getCapturedCount()),t}();return Pf()+e}function Qt(e,t){let i=e+Qs()*(t+1-e);return i=Math.floor(i)}function Jt(e){return void 0===e&&(e=window),String(e.location)}function Zt(e){return void 0===e&&(e=window),Me(Nf(e.document,"_ym_uid")||"")}function $t(e){return void 0===e&&(e=window),e.location.hostname}function ei(){return(ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ti(){return(ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ii(e,t){void 0===t&&(t="");const{params:i,bids:r,matchIdDirect:n=!1,reloadCounter:o}=e,a=ti({},function(e){const t=e.win||window,i=void 0===e.isTurbo?Ft(t):e.isTurbo,r=eh(xf,e=>e.test(t.location.hostname));return Vf(ti({},e,{win:t,isTurbo:i,addsSsSkipToken:r}))}(e),i||{},n?{"matchid-direct":1}:{},{"enable-page-options":65536});if(yc(Lf,e=>{a[e]=void 0}),a.pk)try{a.pk=decodeURIComponent(a.pk)}catch(s){}if(r){const e=r.map(e=>ti({},e,{placement_id:e.placement_id?String(e.placement_id):void 0}));e.toJSON&&(e.toJSON=void 0),a.bids=Me(Ut(e)||"")}return a.grab=Lt(Bf-t.length),a.utf8="\u2713",o&&(a.adf_refresh=o),a}function ri(e){!function(e){const{ownerId:t}=e;if(!t)throw new Error("there is no `ownerId` for getAdfoxBulkUrl()")}(e);const t=function(e){let t,{adblock:i,useXhr:r,ownerId:n,domain:o=Uf}=e;return"https://"+o+("/"+n+"/"+(t=r?"getBulk/v2":i?"getCodeTest":"prepareCode"))}(e);return{base:t,queryParams:ii(e,t)}}function ni(e){const t=e.trim();return"//"===t.substr(0,2)||"http://"===t.substr(0,7)||"https://"===t.substr(0,8)}function oi(){return(oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ai(e,t){const i=vc(window);let r;try{r=function(e){const{base:t,queryParams:i}=ri(e);return R(t,i)}(oi({},e,{layoutConfig:new If,useXhr:!0,domain:Ff}))}catch(o){throw new Qd(o,{code:"CREATE_ADFOX_URL_ERROR",details:{adFoxParameters:e}})}if(!ni(r))throw new Qd({code:"CANNOT_CREATE_ADFOX_URL",details:{adFoxParameters:e}});const n=_e({url:r,options:t,ignoreAbd:!0});return i?i(n):n}async function si(e){let{adFoxParameters:t,adPlacementOptions:i,secureMode:r}=e;const n=ai(t,i),o=af({secureMode:r,url:n})?Su:qu;try{const e=await o({url:n,withCredentials:!0});if(200!==e.responseStatus)throw new Error("Invalid status ["+e.responseStatus+"]");const{creative:t,errors:i}=function(e){const t=tt(e),i=[];if(!d(t))throw new Qd({code:"ADFOX_AD_DATA_IS_NOT_VALID_JSON_OBJECT",details:{adFoxDataString:e}});const{error:r,data:n}=t;if(Array.isArray(r)&&r.length>0)throw new Qd({code:"ADFOX_AD_DATA_ERROR",details:{adFoxData:t}});if(!Array.isArray(n))throw new Qd({code:"INVALID_ADFOX_DATA_FORMAT",details:{adFoxData:t}});const o=jd(n,(e,r)=>{if(!d(e)||!d(e.attributes))return i.push(new Qd({code:"INVALID_ADFOX_CREATIVE_DATA",details:{adFoxData:t,index:r}})),!1;const{campaignId:n,vastBase64:o}=e.attributes;return"string"===typeof o&&o.length>0||("string"===typeof n&&n.length>0||(i.push(new Qd({code:"NO_REQUIRED_PARAMETERS_IN_ADFOX_CREATIVE",details:{adFoxData:t,index:r}})),!1))});if(0===o.length)throw new Qd({code:"NO_ADS_IN_ADFOX_DATA",details:{adFoxData:t}});return o.length>1&&i.push(new Qd({code:"EXTRA_ADFOX_DATA",details:{adFoxData:t}})),{creative:o[0].attributes,errors:i}}(e.responseText);return yt(i),t}catch(a){if(xe(a))throw a;throw new Qd(a,{code:"ADFOX_AD_DATA_LOADING_ERROR",details:{adFoxParameters:t,adFoxUrl:n}})}}function di(){return(di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ci(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function li(e){return e.split("?")[0].split("#")[0]===zf}function hi(e){return!!d(e)&&("string"===typeof e.url&&(!!e.url.trim()&&("string"===typeof e.type&&!!e.type.trim())))}function ui(){return(ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fi(){return(fi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function pi(){return(pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mi(e){let t;try{t=JSON.parse(e)}catch(s){throw new Qd({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_INVALID_JSON",details:{adParametersString:e}})}if(!d(t))throw new Qd({code:"CANNOT_DETECT_VAS_MEDIA_FILE_BY_NON_OBJECT_JSON",details:{adParametersString:e}});const{mediaFiles:i}=t;if(!Td(i)||0===i.length)return{url:ip,isNonLinear:!1,adFormatType:"motion",isOldVastFormat:!0};const[r]=i;if(!hi(r))throw new Qd({code:"FIRST_MEDIA_FILE_IN_AD_PARAMETERS_IS_INVALID",details:{adParametersString:e}});const n=function(e){const{type:t}=e;return t===Kf.Overlay?"OverlayTGO":t===Kf.Motion?"MotionTGO":t===Kf.VpaidCreative?"ThemeEmpty":void 0}(r);if(n)return{url:qf[n],isNonLinear:"OverlayTGO"===n,adFormatType:tp[n],isOldVastFormat:!1};const{theme:o}=t,a="video-banner_theme_empty"===o;if(E(o)){const e={url:a?ap:op,isNonLinear:!1,adFormatType:"vpaidCreative",isOldVastFormat:!0};return a&&(e.adFormatSubtype="empty"),e}return{url:zf,isNonLinear:!1,adFormatType:"interactiveViewer",isOldVastFormat:$u(i,e=>e.url!==ep.url)}}function gi(){return(gi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vi(){return(vi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function bi(){return(bi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function yi(){return(yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ai(){return(Ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function _i(){return(_i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function wi(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Si(e){const{adParametersObject:t,description:i}=e;if(!d(t))throw new Qd({code:"CANNOT_CONVERT_IV_INTO_AD_CREATE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{tickerData:r,interactiveElements:n,mediaFiles:o}=t,a=_i({},wi(t,["tickerData","interactiveElements","mediaFiles"]),{adParameters:{description:i,tickerData:r,interactiveElements:n},mediaFiles:[...o,ep]});return _i({},e,{mediaFiles:[lp],adParametersObject:a,adParameters:JSON.stringify(a)})}function Ei(e){const{adParametersObject:t}=e;if(!d(t))throw new Qd({code:"CANNOT_CONVERT_MOTION_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});const{AUCTION_DC_PARAMS:i,HAS_BUTTON:r,HAS_DOMAIN:n,HAS_AGE:o}=t,a=_i({},wi(t,["AUCTION_DC_PARAMS","HAS_BUTTON","HAS_DOMAIN","HAS_AGE"]),{adParameters:_i({AUCTION_DC_PARAMS:i},"HAS_BUTTON"in t?{HAS_BUTTON:r}:{},"HAS_DOMAIN"in t?{HAS_DOMAIN:n}:{},"HAS_AGE"in t?{HAS_AGE:o}:{}),mediaFiles:[hp]});return _i({},e,{mediaFiles:[lp],adParametersObject:a,adParameters:JSON.stringify(a)})}function Ti(e){var t;if(e.packshotParameters)return _i({},e,{mediaFiles:[pp]});const{adParametersObject:i}=e;if(!d(i))throw new Qd({code:"CANNOT_CONVERT_EMPTY_INTO_AD_CREATIVE_WITHOUT_AD_PARAMETERS",details:{vastAd:e}});if(function(e,t){if(!("video-banner_theme_empty"===e||"video-banner_theme_caucasus"===e||"video-banner_theme_moroz"===e||"video-banner_theme_lake"===e))return!1;if(!d(t))return!1;const{AUCTION_DC_PARAMS:i}=t;if(!d(i))return!1;const{data_params:r}=i;if(!d(r))return!1;const{misc:n}=r;if(!d(n))return!1;const{layout_type:o}=n;return"clickable_video"===o}(i.theme,i)){const t=function(e){if(!d(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!d(t))return;const{data_params:i}=t;if(!d(i))return;const{misc:r}=i;if(!d(r))return;const{object_id:n}=r;if(!S(n))return;const o=i[n];if(!d(o))return;const{click_url:a}=o;if(!d(a))return;const{action_button:s}=a;return S(s)?s:void 0}(i),r=_i({},i,{adParameters:i});return _i({},e,{mediaFiles:[lp],adParametersObject:r,adParameters:JSON.stringify(r),playbackAdParameters:_i({clickThroughUrl:t},i.playbackParameters)})}const r=_i({},i,{mediaFiles:[up,...null!==(t=i.mediaFiles)&&void 0!==t?t:[]],adParameters:i}),{duration:n}=i,o=he(n)?n:fp;return _i({},e,{mediaFiles:[lp],adParametersObject:r,adParameters:JSON.stringify(r),durationLimit:o})}function Ci(e){if(void 0===e.mediaFiles[0])return{vastAd:e,reason:void 0};let t;try{t=mi(e.adParameters)}catch(o){return hl.event({name:"PrepareYandexVastDetectionError",data:o}),{vastAd:e,reason:void 0}}const i="motion"===t.adFormatType,r="vpaidCreative"===t.adFormatType&&"empty"===t.adFormatSubtype,n="interactiveViewer"===t.adFormatType;if(e.adParametersObject){const{theme:t,mediaFiles:r}=e.adParametersObject;n&&t&&hl.error({error:new Qd({code:"IV_THEME_SET_IN_AD_PARAMETERS",details:{vastAd:e}})}),i&&Array.isArray(r)&&r.length>0&&hl.error({error:new Qd({code:"MOTION_MEDIA_FILES_IS_NOT_EMPTY_IN_AD_PARAMETERS",details:{vastAd:e}})})}if(t.isOldVastFormat&&!Wf){if(r)return{vastAd:Ti(e),reason:"ConvertVideoBannerThemeEmpty"};if(n)return{vastAd:Si(e),reason:"ConvertInteractiveViewerVpaidIntoAdCreative"};if(i)return{vastAd:Ei(e),reason:"ConvertMotionVpaidIntoAdCreative"}}return{vastAd:e,reason:void 0}}function Ii(e){const t=e.split("?")[0].split("#")[0];return Le(np,t)}function ki(e){const{adParametersObject:t,mediaFiles:i}=e,r=(null===t||void 0===t?void 0:t.theme)===mp,n=Array.isArray(i)&&eh(i,e=>Le(sp,e.url));return r&&n}function Pi(){return(Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Oi(){return(Oi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Di(e){return new Promise((t,i)=>{J(Oi({},e,{onSuccess:t,onError:i}))})}function Ri(e,t){void 0===t&&(t=window);const{hostname:i}=k(e),r=vc(t);return r?-1===th.indexOf(i)?e:r(e):e}function Ni(e){const{src:t,win:i,onBeforeLoad:o=r}=e,a=new Kd({});let s=r;return{promise:new Promise((e,r)=>{const d=i.document.createElement("script");let c=!1;s=()=>{c=!0,n(d)};d.type="text/javascript",d.async=!0,d.onload=()=>{c||e()},d.onerror=e=>{c||(r(new Kd(a,{message:"Failed to load script ["+t+"]",details:{src:t,isSelfWindow:i===window,event:e}})),s())},d.src=t,d.charset=Ep,o(d),function(e){const t=e.document;let i=t.getElementsByTagName("head")[0];return i||(i=t.createElement("head"),t.documentElement.appendChild(i)),i}(i).appendChild(d)}),teardown:s}}function Mi(){return(Mi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Vi(e){const{src:t,win:i}=e;return Ni(Mi({},Tp,e,{src:Ri(t,i)}))}function Bi(e,t,i){var r,n,o,a,s,d,c;const l=null===(r=i.ya)||void 0===r?void 0:null===(n=r.videoAd)||void 0===n?void 0:null===(o=n.loadedModules)||void 0===o?void 0:o[e];return l||(null===(a=i.ya)||void 0===a?void 0:null===(s=a.videoAd)||void 0===s?void 0:null===(d=s.modules)||void 0===d?void 0:null===(c=d[t])||void 0===c?void 0:c[e])}function xi(e){let{moduleName:t,version:i=uc,onSuccess:n,onError:o,win:a,timeout:s}=e,d="loading";const c=Date.now(),l=F(ce(e=>{d="success";const r=Date.now()-c;hl.values({name:"ModuleLoaded",labels:{bundleName:t},data:{loaderVersion:hc,bundleVersion:i},values:{timeSpent:r}}),n(e)},"LOAD_MODULE_CALLBACK_ERROR")),h=F(ce(e=>{d="error",hl.error({error:e}),o(e)},"LOAD_MODULE_CALLBACK_ERROR")),u=Bi(t,i,a);if(u)return l(u),r;const f=Gh[Pp],p=vc(a),m=Jf[t]+".bundle.js",g=""+Ue(i)+f+"/"+m,v="function"===typeof p?p(g):g,{promise:b,teardown:y}=Vi({src:v,onBeforeLoad:e=>{var t;e.crossOrigin="anonymous",null===(t=Tp.onBeforeLoad)||void 0===t||t.call(Tp,e)},win:a}),{promise:A,clear:_}=Eh(s),w=Ie(a,"unload",()=>{h(new Qd({code:"LOAD_MODULE_REJECTED_BY_WINDOW_UNLOAD",details:{moduleName:t,version:i,timeout:s}}))}),S=()=>{w(),_()};return A.then(()=>{h(new Qd({code:"LOAD_MODULE_TIMEOUT",details:{moduleName:t,version:i,timeout:s}}))}),b.then(()=>{S();const e=Bi(t,i,a);e?(Uh.logBundleTiming(m,v),l(e)):h(new Qd({code:"CANNOT_INIT_MODULE",details:{moduleName:t,version:i}}))}).catch(e=>{S(),h(new Qd(e,{code:"CANNOT_LOAD_MODULE",details:{moduleName:t,version:i}}))}),()=>{S(),y(),"loading"===d&&hl.event({name:"LoadModuleTeardownCalled",data:void 0})}}function Li(){return(Li=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ui(e,t){Np.ya||(Np.ya={}),Np.ya.isDeploying=!0,function e(t,i){const r=i.split(".");let n=window;for(let a=0;a<r.length-1;a++)n=n[r[a]];const o=r[r.length-1];if(void 0===n[o])n[o]=t;else if("object"===typeof n[o])for(const a in t)t.hasOwnProperty(a)&&e(t[a],i+"."+a)}(e,t),delete Np.ya.isDeploying}function Fi(e){return void 0===e?e:Array.isArray(e)?e.join("\n"):String(e)}function Hi(e){if(!e)return;const t={},i=["string","number","boolean"];for(const r in e)e.hasOwnProperty(r)&&i.indexOf(typeof e[r])>=0&&(t[r]=e[r]);return t}function ji(){return(ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function zi(e){return"number"===typeof e.repeatNumber}function Wi(){return(Wi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Yi(e){const{adBreak:t}=e;return a(bc)?t.adTagURI:function(e){const{adBreak:t,adPlacementOptions:i}=e,{adTagURI:r}=t;return Ae(r)?_e({url:R(r,xp(e)),options:i}):r}(e)}function Gi(e){return function(e,t){let i=e;return yc(w(t),r=>{let[n,o]=r;if(void 0===o)return;const a="["+n+"]";if(o!==a)for(;i.indexOf(a)>-1;)Math.random()<Ld&&hl.event({name:"ReplaceVastMacro",data:{macroName:n,macroValue:o,stringToReplace:e,macros:t}}),i=i.replace(a,o)}),i}(e,zp)}function qi(e){let{trackingUrls:t,options:i}=e;if(!Array.isArray(t))return;const r=jd(t,ni),n=md(r,Gi),o=md(n,e=>_e({url:e,options:i}));yc(o,Se)}function Ki(){return(Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Xi(e){let{eventName:t,trackingEventDetails:i,trackingUrls:r,options:{devicePixelRatio:n,downlink:o,relativeSizeRatio:a,screenSize:s,size:d,visibility:c,videoContentSize:l,videoSlotSize:h,videoAvatarSize:u,videoPixelRatio:f,videoFramesInfo:p,videoSrc:m,videoCurrentSrc:g,videoMuted:v,videoVolume:b,bufferingTime:y,bufferingTimeRatio:A,currentTime:_,remainingBufferedTime:w,adBreakType:S,adFormatType:E}}=e;const T=Gp[t],C=void 0===T?1:T+1;Gp[t]=C;const I={videoSlotSize:h,videoContentSize:l,videoAvatarSize:{width:Math.round(u.width),height:Math.round(u.height)},videoPixelRatio:f,videoFramesInfo:p,videoSrc:m,bufferingTime:y,bufferingTimeRatio:A,currentTime:_,remainingBufferedTime:w},k=Ki({trackingUrls:r,trackingEventDetails:i,isVisibilityReliable:yl,counterInBundle:C},I,{devicePixelRatio:n,downlink:o,relativeSizeRatio:a,screenSize:s,size:d,visibility:c,videoCurrentSrc:g,videoMuted:v,videoVolume:b,adBreakType:S,adFormatType:E});C===qp&&hl.error({error:new Qd({code:"NORMAL_EVENT_TRACKING_COUNT_EXCEEDED",details:Ki({eventName:t,eventTrackingsCounts:Gp},k)})}),hl.event({name:Yp(t),probability:Le(Wp,t)?xd:Ud,data:k,labels:{}})}function Qi(){return(Qi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ji(e){try{Xi(e=Qi({},e,{options:Zi(e.options)})),qi(e)}catch(t){hl.error({error:new Qd({code:"TRACK_EVENT_WITH_STATS_ERROR",details:{trackingUrlsParams:e}})})}}function Zi(e){const{size:t,screenSize:i,videoContentSize:r}=e;return Qi({},e,{size:Oe(t,Math.round),screenSize:Oe(i,Math.round),videoContentSize:r&&Oe(r,Math.round)})}function $i(e){let{type:t}=e;return dp.indexOf(t)>-1?Fp.js:Fp.video}function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function tr(e,t){let i=e;return"OnlyYandexCreatives"===t&&(i=jd(i,e=>$i(e)===Fp.video||Ae(e.url))),i=md(i,e=>$i(e)!==Fp.video?e:Jp(e))}function ir(e,t){return Zs(tr(e,t),e=>$i(e)===Fp.js)}function rr(e){let{vastAd:t,secureMode:i}=e;const{skipTime:r,skipOffset:n,playbackAdParameters:o,mediaFiles:a}=t;return o&&le(o.skipDelay)?{skipDelay:o.skipDelay,eventName:void 0}:function(e,t){const i=ir(e,t);return!!i&&li(i.url)}(a,i)?{skipDelay:Xp,eventName:"UsingDefaultInteractiveViewerSkipDelay"}:le(n)?le(r)?{skipDelay:r,eventName:"UsingSkipTimeExtensionValue"}:{skipDelay:n,eventName:void 0}:{skipDelay:Kp,eventName:void 0}}function nr(e){const{text:t,textColor:i,isVisible:r}=e||em;return{text:E(t)?t:em.text,textColor:i||em.textColor,isVisible:"boolean"===typeof r?r:em.isVisible}}function or(e){const t=[];if(!Array.isArray(e))throw new Qd({code:"INVALID_MEDIA_FILES_PARAMETER_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});if(0===e.length)throw new Qd({code:"NO_MEDIA_FILES_IN_AD_PARAMETERS",details:{rawMediaFiles:e}});const i=jd(e,hi);if(i.length!==e.length&&t.push("AD_PARAMETERS_CONTAINS_INVALID_MEDIA_FILES"),0===i.length)throw new Qd({code:"NO_VALID_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});const r=[],n=[],o=[];let a;if(yc(i,e=>{const{type:t}=e;switch(t){case Kf.Overlay:r.push(e);break;case Kf.Motion:case Kf.VpaidCreative:n.push(e);break;default:o.push(e)}}),r.length>0){if(i.length>1)throw new Qd({code:"OVERLAY_HAS_TOO_MANY_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});a=r[0]}else{if(n.length>1)throw new Qd({code:"LINEAR_AD_CREATIVE_HAS_TOO_MANY_ANIMATION_MEDIA_FILES_IN_AD_PARAMETERS",details:{mediaFiles:e}});a=n[0]}return{errorCodes:t,videoMediaFiles:o,animationMediaFile:a}}function ar(e){const t=[];let i={};if("string"!==typeof e)throw new Qd({code:"NO_INTERACTIVE_AD_PARAMETERS",details:{}});try{i=JSON.parse(e)}catch(f){throw new Qd(f,{code:"INVALID_INTERACTIVE_AD_PARAMETERS",details:{adParametersString:e}})}if(!d(i))throw new Qd({code:"CANNOT_PARSE_NON_OBJECT_AD_PARAMETERS",details:{adParametersJson:i}});const{tickerData:r,adParameters:n,interactiveElements:o=[],mediaFiles:a}=i;i.videoStates&&t.push(new Qd({code:"USING_VIDEO_STATES_IN_IV_AD_PARAMETERS",details:{adParametersString:e}}));const{errorCodes:s,animationMediaFile:c,videoMediaFiles:l}=or(a),h=md(s,t=>new Qd({code:t,details:{adParametersString:e}}));return t.push(...h),{raw:i,parsed:{tickerData:nr(r),animationMediaFile:c,videoMediaFiles:l,adParameters:(u=n,"string"===typeof u?u:d(u)?Ut(u):void 0),interactiveElements:o},errors:t};var u}function sr(e){for(const{width:t,height:i}of e)if(he(t)&&he(i))return{width:t,height:i}}function dr(e){let{url:t}=e;return t===Yf}function cr(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&dr(r)}function lr(e){return nm.indexOf(e.toLowerCase())>-1}function hr(e){void 0===e&&(e=window);const t=b(e).match(/Tizen ([\d]+)\.([\d]+)/);if(!t)return{major:-1,minor:-1};const[,i,r]=t;return{major:parseInt(i,10),minor:parseInt(r,10)}}function ur(e){let{animationMediaFile:t,win:i}=e;const{url:n}=t,o=$f[n];if(void 0!==o){0;let e=r;const t=new Promise((t,r)=>{e=xi({moduleName:o,version:void 0,onSuccess:e=>{t(e.initAdCreative)},onError:e=>{r(e)},win:i,timeout:Op})});return{teardown:e,promise:t}}const{promise:a,teardown:s}=Vi({src:n,win:i});return{promise:a.then(()=>i.initAdCreative),teardown:s}}function fr(e){let{videoContentSize:t,slotSize:i}=e;if(!t)return{reason:"unknownVideoContentSize",value:vl.videoPixelRatio};if(!le(t.width)||!le(t.height))return{reason:"hasIncorrectWidthAndOrHeight",value:bm};if(t.width<0||t.height<0)return{reason:"incorrect",value:vl.videoPixelRatio};if(0===t.height||0===i.height)return{reason:"incorrect",value:vl.videoPixelRatio};if(0===t.width||0===i.width)return{reason:"incorrect",value:vl.videoPixelRatio};const r=t.width/t.height;return i.width/i.height>r?{reason:"normal",value:t.height/i.height}:{reason:"normal",value:t.width/i.width}}function pr(){return(pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function mr(e){const t=function(e){const t=e-ym;return 0===t?0:t<0?-t:t*Am}(e.videoPixelRatio),i=function(e){if(!Boolean(e))return Em;if(!S(e))return Em;const t=e.toLowerCase();return t===_m?1:t===Sm?2:3}(e.type);return pr({},e,{prioritySolution:t+Tm*i})}function gr(){return(gr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vr(e){return"number"===typeof e&&e>0}function br(e,t){let{desiredBitrate:i}=t;if(function(e){return lr(e.type)&&$u(Cm,t=>!vr(e[t]))}(e))return 0;if(function(e){const{minBitrate:t,maxBitrate:i}=e;return vr(t)&&vr(i)}(e)){const{minBitrate:t,maxBitrate:r}=e;return i<t?t-i:i>r?i-r:0}const{bitrate:r}=e;return he(r)?Math.abs(r-i):Im}function yr(){return(yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ar(e,t){let{desiredBitrate:i}=t;const r=md(e,e=>{let{bitrate:t}=e;return yr({},function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["bitrate"]),{bitrate:he(t)?t:Im})}),n=md(r,e=>yr({},e,{prioritySolution:br(e,{desiredBitrate:i})})),o=[...n].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});return md(n,e=>yr({},e,{rating:vm(o,t=>{let{url:i}=t;return e.url===i})}))}function _r(){return(_r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function wr(e){void 0===e&&(e=window);const t=e.MediaSource||e.WebKitMediaSource;return t&&a(t.isTypeSupported)&&!function(e){void 0===e&&(e=window);const t=e.SourceBuffer||e.WebKitSourceBuffer;return!!t&&!(t.prototype&&a(t.prototype.appendBuffer)&&a(t.prototype.remove))}(e)?t:void 0}function Sr(){return(Sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Er(e){return Rm||Mm?!Rm&&Mm?Sr({},e,{mseAvailability:"noMse"}):Rm&&!Mm?Sr({},e,{mseAvailability:"noFetch"}):S(e.type)?-1===e.type.toLowerCase().indexOf(_m)?Sr({},e,{mseAvailability:"isNotWebm"}):Sr({},e,Dm?Nm?{mseAvailability:"canPlayMseForAbd"}:{mseAvailability:"isNotAbd"}:{mseAvailability:"cannotPlayWebmWithMse"}):Sr({},e,{mseAvailability:"noType"}):Sr({},e,{mseAvailability:"noMseAndFetch"})}function Tr(){return(Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Cr(e){if(!Array.isArray(e))return[];return md(e,e=>{return function(e){return S(e.type)?rm(e.type)?Tr({},e,{playability:"canPlay"}):Tr({},e,{playability:"cannotPlay"}):Tr({},e,{playability:"noType"})}(Er(function(e){if(!d(e))return{validationType:"invalidObject"};const{type:t,url:i,width:r,height:n,bitrate:o,maxBitrate:a,minBitrate:s}=e,c={type:t,url:i,width:r,height:n,bitrate:o,maxBitrate:a,minBitrate:s};return"string"!==typeof i?_r({},c,{validationType:"invalidUrl"}):i.trim()?"string"!==typeof t?_r({},c,{validationType:"invalidType"}):t.trim()?_r({},c,{validationType:"correct"}):_r({},c,{validationType:"emptyType"}):_r({},c,{validationType:"emptyUrl"})}(e)))})}function Ir(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Pr(e,t){const i=Date.now(),r=Cr(e);let n,o;const{desiredBitrate:a}=t;if(he(a)){n=Ar(r,{desiredBitrate:a}),o="desiredBitrate"}else{n=function(e,t){if(0===e.length)return[];const i=md(e,i=>{if(!Boolean(i))throw new Qd({code:"CANNOT_PRIORITISE_INVALID_MEDIA_FILE",details:{mediaFiles:e,opts:t}});const{value:r,reason:n}=fr({videoContentSize:i,slotSize:t.container});return mr(gr({},i,{videoPixelRatio:r,videoPixelRatioReason:n}))}),r=[...i].sort((e,t)=>{let{prioritySolution:i}=e,{prioritySolution:r}=t;return i-r});return md(i,e=>gr({},e,{rating:vm(r,t=>e===t)}))}(r,t),o="videoPixelRatio"}const s=jd(n,e=>{let{validationType:t,playability:i,mseAvailability:r}=e;return"correct"===t&&"canPlay"===i&&"canPlayMseForAbd"===r});let c;if(s.length>0)c=s;else{c=jd(n,e=>{let{validationType:t,playability:i}=e;return"correct"===t&&"canPlay"===i})}const l=function(e,t,i){if(e.length<1)return;let[r]=e,n=t(r);for(let o=1;o<e.length;o++){const a=e[o],s=t(a);i(s,n)<0&&(r=a,n=s)}return r}(c,e=>{let{rating:t}=e;return t},(e,t)=>e-t);return hl.values({name:"PrioritiseMediaFiles",data:{input:kr({mediaFiles:md(e,e=>d(e)?kr({},e):e)},t),output:{mediaFiles:n,mediaFile:l?kr({},l):void 0,methodType:o}},probability:Ud,labels:{},values:{timeSpent:Date.now()-i}}),{validatedMediaFiles:md(c,e=>{if("videoPixelRatio"===o){return Ir(e,["rating","prioritySolution","videoPixelRatio","videoPixelRatioReason"])}return Ir(e,["rating","prioritySolution"])}),prioritisedMediaFiles:n,prioritisedMediaFile:l}}function Or(e){let{scope:t,errorType:i,error:r,details:n}=e;return new Qd(r,{code:Bm(t,i),details:n})}function Dr(e,t){const i=[];i.push(Ie(e,"unhandledrejection",e=>{t(new Error,"UNHANDLED_PROMISE_REJECTION",{})})),i.push(Ie(e,"error",(e,i,r,n,o)=>{t(e.error||new Error,"UNHANDLED_GLOBAL_ERROR",{event:e,src:i,line:r,column:n,error:o,filename:null===e||void 0===e?void 0:e.filename,message:null===e||void 0===e?void 0:e.message})})),i.push(Ie(window,"securitypolicyviolation",e=>{let{blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:d,sourceFile:c,statusCode:l,violatedDirective:h}=e;const u={blockedURI:i,columnNumber:r,documentURI:n,effectiveDirective:o,lineNumber:a,originalPolicy:s,referrer:d,sourceFile:c,statusCode:l,violatedDirective:h};t(new Error,"SECURITY_POLICY_VIOLATION",{securityPolicyViolationEventData:u})}));const r=new xm({win:e,onReport:e=>{const{reportSourceEvent:i,reports:r,records:n}=e,o=new Error;0===r.length&&0===n.length&&t(o,"EMPTY_REPORT",{reportSourceEvent:i,reportSource:"empty",report:void 0}),yc(w({reports:r,records:n}),e=>{let[r,n]=e;return yc(n,e=>{t(o,function(e){if(!d(e))return"EMPTY_REPORT_ITEM";const{type:t,body:i}=e;if(!E(t))return"EMPTY_REPORT_TYPE";if("csp-violation"===t)return"CSP_VIOLATION_REPORT";if("intervention"===t){if(d(i)&&E(i.message)){const e=i.message.toLowerCase();if(e.indexOf("network usage")>-1)return"NETWORK_USAGE_INTERVENTION_REPORT";if(e.indexOf("peak cpu")>-1)return"PEAK_CPU_INTERVENTION_REPORT";if(e.indexOf("total cpu")>-1)return"TOTAL_CPU_INTERVENTION_REPORT";if(e.indexOf("cpu usage")>-1)return"CPU_USAGE_INTERVENTION_REPORT";if(e.indexOf("touchmove")>-1)return"TOUCHMOVE_INTERVENTION_REPORT"}return"UNKNOWN_INTERVENTION_REPORT"}return"deprecation"===t?"DEPRECATION_REPORT":"feature-policy-violation"===t?"FEATURE_POLICY_VIOLATION_REPORT":"UNKNOWN_REPORT_TYPE"}(e),{reportSourceEvent:i,reportSource:r,report:e})})})}});return i.push(()=>{r.destroy()}),()=>H(i)}function Rr(e,t){return Dr(e,(e,i,r)=>{if("SECURITY_POLICY_VIOLATION"===i){const{securityPolicyViolationEventData:e}=r;if(void 0!==e){const{blockedURI:t}=e;if(t&&t.indexOf(ll)>-1)return}}t(e,i,r)})}function Nr(e){return 0===Fm.length&&(Um=window.setInterval(()=>{Fm.forEach(e=>e())},Lm)),Fm.push(e),()=>{const t=Fm.indexOf(e);t>-1&&Fm.splice(t,1),0===Fm.length&&clearInterval(Um)}}function Mr(e,t){const i=e.ownerDocument.createElement("iframe");if(t&&Fe(i,t),i.scrolling="no",i.setAttribute("allowfullscreen",""),i.style.display="block",e.appendChild(i),void 0!==i.contentDocument&&null!==i.contentDocument)return i.contentDocument.open(),i.contentDocument.close(),i.contentDocument.body.style.margin="0",i.style.borderWidth="0",i.contentDocument.body.style.width="100%",i.contentDocument.body.style.height="100%",i;n(i)}function Vr(){return(Vr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Br(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function xr(e){if(Bd&&console&&console.error){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];console.error(e,...i)}}function Lr(e){let{mediaFiles:t,isNonLinear:i}=e;const[r]=t;return void 0!==r&&(!!i||dr(r))}function Ur(){return(Ur=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Hr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function jr(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function zr(e){return"overlay"===e.adType||"inroll-overlay"===e.adType}function Wr(){return(Wr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Yr(e){let t,{adBreak:{vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n},isAdFox:o,url:a,adPlacementOptions:s,adConfig:d}=e;return{adPlacementOptions:s,vastSourceType:t=o||a&&ye(a)?"AD_FOX":a&&Ae(a)?"YANDEX":"EXTERNAL",vastTimeout:i,wrapperMaxCount:r,wrapperTimeout:n,requestMethod:af({secureMode:d.secureMode,url:a})?"VASFrame":"XMLHttpRequest"}}function Gr(e){let{adConfig:t,adBreak:i,adPlacementOptions:r,win:n}=e;const o=i.adFoxParameters||t.adFoxParameters;if(o)return async function(e){return new Hf(e).loadVastPromise}({adConfig:Wr({},t,{adFoxParameters:o}),adBreak:i,adPlacementOptions:r});const{loadHarmlessVastCallback:a}=t,s=t.hasOwnProperty("vast")?t.vast:void 0;if(s)return Yu(s,Yr({adConfig:t,adBreak:i,isAdFox:!1,adPlacementOptions:r})).then(e=>(a&&0===e.children.length&&a({adPods:md(e.ads,e=>{let{clickThrough:t}=e;return{clickThroughUrl:t}})}),e));const d=t.vastUrl?t.vastUrl:Yi({adConfig:t,adBreak:i,random:Math.random(),adPlacementOptions:r,win:n});return Qu({url:d,loadParameters:Yr({adConfig:t,adBreak:i,isAdFox:!1,url:d,adPlacementOptions:r})})}async function qr(e){const{adConfig:t,adBreak:i}=e;let r;try{r=await Gr(e)}catch(c){throw c.details||(c.details={}),c.details.adConfig=t,Te(c),c}const n=[];for(const l of r.ads)try{var o;const e=l.mediaFiles[0],t=null!==(o=null===e||void 0===e?void 0:e.url)&&void 0!==o?o:"",i=li(t)||Ii(t)||ki(l);if(Boolean(e)&&i){const{vastAd:e,reason:t}=Ci(l);t&&hl.event({name:t,data:{previous:l,next:e},probability:Ud}),n.push(e)}else n.push(l)}catch(c){hl.error({error:c})}const a=md(n,e=>(e.vast=r,new Gm(i,e,t))),s=function(e,t,i){const r=zr(i);return jd(e,e=>{const{isNonLinear:n}=e.vastAd;return n===r||(e.trackError(new Qd({code:n?"CANNOT_PLAY_NONLINEAR_IN_LINEAR_AD_BREAK":"CANNOT_PLAY_LINEAR_IN_NONLINEAR_AD_BREAK",details:{adConfig:t,adBreak:i}})),!1)})}(a,t,i),d=new qm(s);if(0===d.mediaAds.length)throw new Qd({code:"NO_AD_SECTION",details:void 0});if(jd(d.mediaAds,e=>e.hasMediaFiles()).length>0)return{mediaAds:d,vast:r};if(d.hasFilteredOutMediaFiles()){const e=Sh(md(a,e=>e.vastAd.mediaFiles));throw new Qd({code:"ALL_MEDIA_FILES_FILTERED_OUT",details:{adConfig:t,unfilteredMediaFiles:e}})}throw new Qd({code:"NO_AD_TO_DISPLAY",details:void 0})}function Kr(e,t){return jd(e,e=>e.adType===t)}function Xr(e,t){const i=Oe(t,(t,i)=>e.style[i]);return Ce(e,t),F(()=>{Ce(e,i)})}function Qr(e){const t=e.getRootNode;if(a(t))return t.call(e);let i=e;for(;i.parentNode;)i=i.parentNode;return i}function Jr(e){return!!e&&"ShadowRoot"===Us(e)}function Zr(e){const t=e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;let i=e;for(;i;){if(i&&t.document.body.contains(i))return!0;const e=Qr(i);if(!Jr(e)||!Km(e.host))return!1;i=e.host}return!1}function $r(e,t,i){return e>i?i:e<t?t:e}function en(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:Xm?Math.max(r.clientWidth,i.innerWidth||0):i.innerWidth||r.clientWidth||t.body.clientWidth,winHeight:Xm?Math.max(r.clientHeight,i.innerHeight||0):i.innerHeight||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function tn(e){let{width:t,height:i,top:r,left:n,winWidth:o,winHeight:a}=e;const s=n+t,d=r+i,c=$r(n,0,o),l=$r(r,0,a);return{winWidth:o,winHeight:a,left:c,top:l,width:$r(s,c,o)-c,height:$r(d,l,a)-l}}function rn(e,t){return e.width*e.height/(t.width*t.height)}function nn(e,t){const i={};return _(t).forEach(t=>{i[t]=e.getAttribute(t)}),Fe(e,t),F(()=>{Fe(e,i)})}function on(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function an(e,t){if(void 0===t&&(t=window),!t||!t[e]||!t[e].prototype)return;const{play:i}=t[e].prototype;return i&&o(i)?i:void 0}function sn(e){if(!im)return Promise.reject();const t=(i=e.play)[rg]||i;var i;if(o(t))return t.call(e);const r=an("HTMLVideoElement")||an("HTMLMediaElement");if(r)return r.call(e);const a=document.createElement("div");a.style.display="none",document.body.appendChild(a);const s=an("HTMLMediaElement",V(a).contentWindow);if(s){const t=s.call(e);return n(a),t}return e.play()}function dn(e,t){void 0===t&&(t={});let i=0;const r=[],n=(t,n)=>{r.push(Ie(e,t,n,ug)),clearTimeout(i)},o=()=>H(r),a=new Promise((r,o)=>{const a=t=>{e.paused&&o(t)},s=sn(e);if(a(hg.VideoTagPaused),n("durationchange",()=>a(hg.VideoTagPausedAfterDurationChange)),n("error",()=>a(hg.VideoTagPausedAfterError)),n("pause",()=>o(hg.PauseEvent)),n("playing",()=>{r(hg.PlayingEvent)}),s)t.useProgressEvent&&n("progress",()=>{r(hg.ProgressEvent)}),s.then(()=>r(hg.PromiseResolve)).catch(e=>o(function(e){return e?hg.PromiseReject+"["+e.code+"]["+e.name+"]["+e.message+"]":hg.PromiseReject}(e)));else{const{timeoutForNonPromisePlay:e}=t;"number"===typeof e&&e>0&&(i=window.setTimeout(()=>{o(hg.Timeout)},t.timeoutForNonPromisePlay))}});return a.then(o,o),a}function cn(e,t){const{paused:i}=e,r=t();return i||on(sn(e)),r}function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function hn(e){let{canPlayUnMuted:t,canPlayMuted:i,detectionMethod:r}=e;return{canPlayUnMuted:t,canPlayMuted:i,requireMute:!t&&i,requireUserGesture:!t&&!i,detectionMethod:r}}function un(e){if("boolean"===typeof e.allowedToPlay)return Promise.resolve(function(e){const t=ng(e);return e.muted=!1,e.volume=1,e.allowedToPlay?(t(),hn({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:dg.YaBroAllowedToPlay})):(e.muted=!0,e.volume=0,e.allowedToPlay?(t(),hn({canPlayUnMuted:!1,canPlayMuted:!0,detectionMethod:dg.YaBroAllowedToPlay})):(t(),hn({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:dg.YaBroAllowedToPlay})))}(e));const t=function(e){if(void 0===e&&(e=window),lg(e))return hn({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:dg.WebOSSmartTV})}();if(void 0!==t)return Promise.resolve(t);const i=function(e){if(void 0===e&&(e=window),sg(e))return hn({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:dg.OrsaySmartTV})}();if(void 0!==i)return Promise.resolve(i);const r=function(e){if(void 0===e&&(e=window),cg(e))return hn({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:dg.PlayStationSmartTV})}();if(void 0!==r)return Promise.resolve(r);if(e.isAVPlay)return Promise.resolve(ln({},gg,{detectionMethod:dg.TizenAVPlay}));const n=function(e){if(void 0===e&&(e=window),dm(e))return cm(e)?hn({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:dg.Tizen23SmartTV}):hn({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:dg.TizenSmartTVModern})}();return void 0!==n?Promise.resolve(n):Zl&&tg<=9||fg?Promise.resolve(ln({},mg,{detectionMethod:dg.IOS9OrLess})):im?pg?Promise.resolve(ln({},gg,{detectionMethod:dg.OldIE})):void 0:Promise.resolve(ln({},mg,{detectionMethod:dg.HTML5VideoIsNotSupported}))}function fn(){return(fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function pn(){const e=Cu(xu);for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];const n=jd(i,e=>Boolean(e));return wh(n,(e,t)=>(function(e,t){const i=Cu(xu);!1===t.visibility?i.visibility=!1:i.visibility=e.visibility,void 0!==t.controlsVariant?i.controlsVariant=t.controlsVariant:i.controlsVariant=e.controlsVariant;for(const r of wg)!1===i.visibility?i.controlsVisibility[r]=!1:"boolean"===typeof t.controlsVisibility[r]?i.controlsVisibility[r]=t.controlsVisibility[r]:i.controlsVisibility[r]=e.controlsVisibility[r];return i})(e,t),e)}function mn(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&function(e){const t=e.split("?")[0].split("#")[0];return Le(Tg,t)}(i.url)}function gn(e){const{imhoParams:t,isNonLinear:i}=e;if(i)return!1;if(function(e){let{mediaFiles:t}=e;const[i]=t;return void 0!==i&&Ii(i.url)}(e))return!1;if(mn(e))return!1;if(Lr(e)){const{adParametersObject:t}=e;if(!t)return!1;const i=T(()=>or(t.mediaFiles));if(!i)return!1;if(0===i.videoMediaFiles.length)return!1}return t?t.showSoundButton:Eg}function vn(e){if(mn(e))return!1}function bn(e){const{imhoParams:t,playbackAdParameters:i}=e,r={controlsVisibility:{adLabel:null===t||void 0===t?void 0:t.showLabel,mute:gn(e),skip:Sg,play:vn(e)}};let n;return i&&(n=i.controlsSettings),pn(r,n)}function yn(e){if("error"===e.reason)return e.details}function An(e){return!!d(e)&&Km(e)}function _n(e){let{videoNodeController:t,bufferEmptyLimit:i,callback:n}=e;if(!he(i))return r;let o=0;const a=t.onBufferingAfterPlay.add(()=>{Y("bufferEmptyCount=["+ ++o+"] limit=["+i+"]"),o<=i||(a(),n())});return a}function wn(e){let{videoNodeController:t,bufferFullTimeout:i,callback:n}=e,o=r;const a=t.isBuffering.add(async e=>{if(o(),!e)return;const{promise:t,clear:r}=Eh(i);o=r,await t,o(),a(),n()});return()=>{o(),a()}}function Sn(e,t){const i=Ie(e,"timeupdate",()=>{e.currentTime>0&&!e.paused&&(n(),t())}),r=Ie(e,"playing",()=>{e.duration>0&&(n(),t())}),n=()=>{i(),r()};return n}function En(e){function t(){let e=i.getDuration();return he(e)||(e=r()),he(n)?Math.min(e,n):e}let{videoNodeController:i,durationFallback:r,durationLimit:n,callbacks:{AdStarted:o,AdVideoFirstQuartile:a,AdVideoMidpoint:s,AdVideoThirdQuartile:d,AdVideoBeforeComplete:c,AdVideoComplete:l}}=e;const h=F(a),u=F(s),f=F(d),p=F(c);let m=0;const g=()=>{const e=t();if(!he(e))return;const r=(i.getCurrentTime()-m)/e;r>=.25&&h(),r>=.5&&u(),r>=.75&&f()},v=F(()=>{g(),l()}),b=[Sn(i.videoNode,()=>{m=i.getCurrentTime(),o()}),i.currentPosition.add(e=>{let{currentTime:i}=e;const{isBeforeEnd:r,isEnd:o}=function(e){let{currentTime:t,duration:i}=e;return t>=i?{isBeforeEnd:!1,isEnd:!0}:t+Pg>=i?{isBeforeEnd:!0,isEnd:!1}:{isBeforeEnd:!1,isEnd:!1}}({currentTime:i,duration:t()});r&&p(),o&&he(n)&&v()}),i.currentPosition.add(g),i.onEnd.add(v)];return()=>H(b)}function Tn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Cn(e){var t;if(!Ae(e)&&!ye(e)||!Cc)return e;const i=_c[_c.length-1];return function(e,t,i){if(void 0===i)return e;const r=k(e),n=O(r.search);return n[t]=i,P(I({},r,{search:D(n)}))}(e,"target_ref",(null!==(t=null===i||void 0===i?void 0:i.ownerDocument)&&void 0!==t?t:document).referrer)}function In(e,t){if(e===t)return!0;if(!d(e)||!d(t))return!1;if(Td(e)!==Td(t))return!1;const i=_(e),r=_(t);if(i.length!==r.length)return!1;for(const n of r){if(!(n in e))return!1;if(!In(e[n],t[n]))return!1}return!0}function kn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Pn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function On(e,t){const i={};return _(e).forEach(r=>{t(e[r],r)&&(i[r]=e[r])}),i}function Dn(){return(Dn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Nn(e){let{width:t,height:i}=e;const r=md([t,i],e=>Math.round(e)),n=Math.min(...r),o=Math.max(...r);return kg?n>=lv&&o*n>=hv:n>=dv&&o*n>=cv}function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Vn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Bn(e){let{slotSize:t,videoSlotSize:i,videoContentSize:r}=e;const n=void 0===r?t.width/t.height:r.width/r.height,o=i.width/i.height>n,a=o?i.height*n:i.width/n,s=o?i.height:i.width,d={width:o?a:s,height:o?s:a},c=Math.min(t.width,d.width)/Math.min(t.height,d.height),l=t.width/t.height>c;return{adjacentSize:l?t.height*c:t.width/c,innerSize:l?t.height:t.width,extraHorizontalSpace:l}}function xn(e){const{videoWidth:t,videoHeight:i}=e;if(he(t)&&he(i))return{width:t,height:i}}function Ln(e){let{win:t=window,slotSize:i,slotVisibilityRatio:r,videoSlotSize:n,videoNode:o,bufferingTime:s,adBreakType:d,adFormatType:c}=e;const l=pv(t),h=l.width*l.height,u=i.width*i.height,f=0===h?0:u/h,p=function(e){let t;void 0===e&&(e=window);try{t=e.devicePixelRatio}catch(i){}return t||1}(t),m=function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;const r=i.type;if("string"===typeof r||"number"===typeof r)switch(r){case gv.BLUETOOTH:return 3;case mv.CELL_2G:return.384;case mv.CELL_3G:case gv.CELLULAR:return 2;case gv.WIMAX:return 37;case gv.NONE:return 0;case mv.ETHERNET:case gv.ETHERNET:case mv.WIFI:case gv.WIFI:case gv.MIXED:return 10;case mv.UNKNOWN:case gv.UNKNOWN:case gv.OTHER:}return-1}(t),g=o?xn(o):vl.videoContentSize;let v=vl.videoAvatarSize,b=vl.videoFramesInfo,y=vl.videoSrc,A=vl.videoCurrentSrc,_=vl.videoMuted,w=vl.videoVolume,S=vl.currentTime,E=vl.bufferingTimeRatio,T=vl.remainingBufferedTime;if(o){const{innerSize:e,adjacentSize:t,extraHorizontalSpace:r}=Bn({slotSize:i,videoContentSize:g,videoSlotSize:n});v={width:r?t:e,height:r?e:t},b=fe(o),y=o.src,A=o.currentSrc,_=o.muted,w=o.volume;const d=function(e){const t=[];if(!e)return t;if(!e.buffered)return t;if(!le(e.buffered.length)||!a(e.buffered.start)||!a(e.buffered.end))return t;for(let i=0;i<e.buffered.length;i++)t.push({start:e.buffered.start(i),end:e.buffered.end(i)});return function(e){if(e.length<=1)return e;const t=e.map(e=>{let{start:t,end:i}=e;return{start:t,end:i}}).sort((e,t)=>e.start-t.start),i=[t[0]];for(let r=1;r<t.length;r++){const e=t[r],n=i[i.length-1];n.end<e.start?i.push(e):n.end<e.end&&(n.end=e.end)}return i}(t)}(o);S=o.currentTime;const c=(C=S,Zs(d,e=>{let{start:t,end:i}=e;return t<=C&&C<=i}));c&&(T=c.end-S),le(S)&&le(s)&&s+S>0&&(E=s/(s+S))}var C;const{value:I}=fr({videoContentSize:g,slotSize:i});return{visibility:r,size:i,relativeSizeRatio:f,screenSize:l,devicePixelRatio:p,downlink:m,videoContentSize:g,videoSlotSize:n,videoAvatarSize:v,videoPixelRatio:I,videoFramesInfo:b,videoSrc:y,videoCurrentSrc:A===y?void 0:A,videoMuted:_,videoVolume:w,bufferingTime:s,currentTime:S,bufferingTimeRatio:E,remainingBufferedTime:T,adBreakType:d,adFormatType:c}}function Un(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Hn(){return(Hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function jn(){return(jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function zn(){return(zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Wn(e){return Array.isArray(e)?jd(e,e=>"string"===typeof e&&e.length>0):[]}function Yn(e){const t=[];return d(e)?{measurers:On(e,(i,r)=>d(i)?-1!==Rv.indexOf(r)||(t.push(new Qd({code:"UNSUPPORTED_MEASURER",details:{measurerName:r,measurersParameters:e}})),!1):(t.push(new Qd({code:"MEASURER_PARAMS_IN_NOT_AN_OBJECT",details:{measurerName:r,measurersParameters:e}})),!1)),errors:t}:(void 0!==e&&t.push(new Qd({code:"INVALID_MEASURERS_PARAMETERS",details:{measurersParameters:e}})),{measurers:{},errors:t})}function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function qn(e){const t=[],{measurers:i,AUCTION_DC_PARAMS:r}=e;let n={},o={};const{bannerParameters:a,errors:s}=function(e){const t=[];if(!d(e))return{bannerParameters:void 0,errors:t};const{data_params:i}=e;if(!d(i))return{bannerParameters:void 0,errors:t};const{misc:r}=i;if(!d(r))return{bannerParameters:void 0,errors:t};const{object_id:n}=r,o=i[n];return d(o)?{bannerParameters:o,errors:t}:{bannerParameters:void 0,errors:t}}(r);if(t.push(...s),d(a)){const{measurers:i,unmoderated:r}=a,{measurers:s,errors:c}=Yn(i);if(t.push(...c),n=s,d(r)){const{measurers:i}=r;i&&t.push(new Qd({code:"AUCTION_DC_PARAMS_UNMODERATED_MEASURERS_ARE_USED",details:{rawAdParameters:e}}));const{measurers:n,errors:a}=Yn(i);t.push(...a),o=n}}const{measurers:c,errors:l}=Yn(i);t.push(...l);const h=_(o).length>0,u=_(n).length>0,f=_(c).length>0;return Number(h)+Number(u)+Number(f)>1&&t.push(new Qd({code:"USING_MULTIPLE_MEASURERS_OBJECTS",details:{rawAdParameters:e}})),{measurers:Gn({},o,n,c),errors:t}}function Kn(e){return d(e)?Oe(Nv,(t,i)=>Wn(e[i])):Cu(Nv)}function Xn(e){const{sad:t,AUCTION_DC_PARAMS:i}=e;return"sad"===t||!!d(i)&&"sad"===i.sad}function Qn(e){if(!d(e))return;const{ids:t,partnerCode:i}=e;return"string"===typeof i?d(t)?{partnerCode:i,ids:On(t,e=>"string"===typeof e)}:{partnerCode:i,ids:{}}:void 0}function Jn(e){return e<2?1e3:2===e?3e3:5e3}function Zn(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $n(e,t,i){return void 0===t&&(t={}),void 0===i&&(i={}),()=>{const n=e(),{onStop:o=r,onInitMeasurer:a=r,onTrackEvent:s=r,onExecutionError:d=r,onAdError:c=r,onPlayingStateChange:l=r,onSlotHoverStateChange:h=r,onSlotVisibilityStateChange:u=r,onSlotSizeChange:f=r}=i,{getAdditionalTrackingParameters:p=r}=t;return function(e,t){let{vpaidWillCallMethod:i,vpaidWillSetProperty:r,measurableVpaidDidCreate:n}=t;const o=Rn({},Oe(Qg,(e,t)=>{return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return i(t,r)}}),Oe(On(ev,(t,i)=>"function"===typeof e[i]),(t,i)=>()=>e[i]()));return yc(_(Jg),t=>{Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:()=>e[t],set:e=>{r(t,e)}})}),n(o),o}(n,new Mv(n,{getAdditionalTrackingParameters:p},{onStop:o,onInitMeasurer:a,onTrackEvent:s,onExecutionError:d,onAdError:c,onPlayingStateChange:l,onSlotVisibilityStateChange:u,onSlotHoverStateChange:h,onSlotSizeChange:f}))}}function eo(e){return yc(_(Zg),t=>{const i=Zg[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:()=>{if("function"===typeof e[i])try{return e[i]()}catch(r){hl.error({error:new Qd({code:"VPAID_METHOD_FOR_GETTER_ERROR",details:{propertyName:t}})})}else hl.error({error:new Qd({code:"VPAID_HAS_NO_METHOD_FOR_GETTER",details:{propertyName:t}})})}})}),yc(_($g),t=>{const i=$g[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!0,set:r=>{if("function"===typeof e[i])try{return e[i](r)}catch(n){hl.error({error:new Qd({code:"VPAID_METHOD_FOR_SETTER_ERROR",details:{propertyName:t,value:r}})})}else hl.error({error:new Qd({code:"VPAID_HAS_NO_METHOD_FOR_SETTER",details:{propertyName:t,value:r}})})}})}),e}function to(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function io(){return(io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ro(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function no(e){const t="undefined"!==typeof Object.getOwnPropertyDescriptor(e.document,"hidden"),i="undefined"!==typeof Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e.document),"hidden");return t||i}function oo(e){return!o(e.IntersectionObserver)}function ao(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;const t=e.ownerDocument.defaultView,i=function(e,t){try{if(o(e.attachShadow))return e.attachShadow(t);if(o(e.createShadowRoot))return e.createShadowRoot();if(o(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(i){}return null}(e,{mode:"open"});if(!i)return null;const r=t.document.createElement("div");return i.appendChild(r),r}function so(){return(so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function co(){return(co=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function lo(e){let{creative:t,isYandexCreative:i,getLogDetails:r}=e;return function(e,t){let{methodCallError:i,methodAbsent:r,workaroundMethodCallError:n,getterError:o,setterError:a}=t;const s=so({},Oe(Qg,(t,n)=>(function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];if("function"===typeof e[n])try{return e[n].apply(e,o)}catch(s){i({methodName:n,args:o,error:s})}else r({methodName:n,args:o})})),Oe(On(ev,(t,i)=>"function"===typeof e[i]),(t,i)=>(function(){try{return e[i]()}catch(a){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];n({methodName:i,args:r,error:a})}})));return h(Jg,(t,i)=>{Object.defineProperty(s,i,{configurable:!0,enumerable:!0,get:()=>{try{return e[i]}catch(t){o({propertyName:i,error:t})}},set:t=>{try{e[i]=t}catch(r){a({propertyName:i,error:r,value:t})}}})}),s}(t,{methodCallError:e=>{let{methodName:t,args:n,error:o}=e;hl.error({error:new Qd(o,{code:i?"YANDEX_VPAID_METHOD_CALL_ERROR":"VPAID_METHOD_CALL_ERROR",details:co({methodName:t,args:n},r())})}),U(o)},methodAbsent:e=>{let{methodName:t,args:n}=e;hl.error({error:new Qd({code:i?"YANDEX_VPAID_METHOD_ABSENT":"VPAID_METHOD_ABSENT",details:co({methodName:t,args:n},r())})})},workaroundMethodCallError:e=>{let{methodName:t,args:n,error:o}=e;hl.error({error:new Qd(o,{code:i?"YANDEX_VPAID_WORKAROUND_METHOD_CALL_ERROR":"VPAID_WORKAROUND_METHOD_CALL_ERROR",details:co({methodName:t,args:n},r())})}),U(o)},getterError:e=>{let{propertyName:t,error:n}=e;hl.error({error:new Qd(n,{code:i?"YANDEX_VPAID_GETTER_ERROR":"VPAID_GETTER_ERROR",details:co({propertyName:t},r())})}),U(n)},setterError:e=>{let{propertyName:t,value:n,error:o}=e;hl.error({error:new Qd(o,{code:i?"YANDEX_VPAID_SETTER_ERROR":"VPAID_SETTER_ERROR",details:co({propertyName:t,value:n},r())})}),U(o)}})}function ho(e){e&&"function"===typeof e.catch&&e.catch(e=>void 0)}function uo(){return(uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function fo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function po(e,t){return rb.indexOf(e)>=rb.indexOf(t)}function mo(e,t){return po(e,"start")?t?"YANDEX_VPAID_START_TIMEOUT":"VPAID_START_TIMEOUT":po(e,"init")?t?"YANDEX_VPAID_INIT_TIMEOUT":"VPAID_INIT_TIMEOUT":t?"YANDEX_VPAID_LOAD_TIMEOUT":"VPAID_LOAD_TIMEOUT"}function go(){return(go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function vo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function bo(){return(bo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function yo(e){const{config:t,errors:i}=ct(e);return{config:bo({},function(e){const t=d(e)?e:{};return{backgroundSlot:Km(t.backgroundSlot)?t.backgroundSlot:void 0,clickThroughCallback:a(t.clickThroughCallback)?t.clickThroughCallback:void 0,clickThroughConfirmation:"boolean"===typeof t.clickThroughConfirmation?t.clickThroughConfirmation:void 0,renderSkin:a(t.renderSkin)?t.renderSkin:void 0,retainLastMediaAfterPlayback:"boolean"===typeof t.retainLastMediaAfterPlayback?t.retainLastMediaAfterPlayback:void 0}}(e),t),errors:i}}function Ao(e,t){const i=(e.ownerDocument||document).createElement("style");return i.type="text/css",i.textContent=t,e.appendChild(i),i}function _o(e){const t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||(t=>e.setTimeout(t,fb)),i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame||(t=>e.clearTimeout(t));return{requestAnimationFrame:t.bind(e),cancelAnimationFrame:i.bind(e)}}function wo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function So(e){const{ownerDocument:t}=e;return t?"false"===e.getAttribute("pip")?r:function(e,t){const{pictureInPictureElement:i}=e;if(i)return i;if(t){if(t.webkitPresentationMode===Ob.pictureInPicture)return t;if(t.broughtOut)return t}return null}(t,e)===e?r:nn(e,{pip:"false"}):r}function Eo(e,t,i){function r(){0!==a&&(clearTimeout(a),a=0)}let{threshold:n=Mb,delay:o=Vb}=void 0===i?{}:i,a=0,s=0,c=0;const l=Ie(e,"click",(function(e){0!==a&&(r(),t(e))}),{passive:!0}),h=Ie(e,"touchstart",(function(e){1===e.touches.length&&(s=e.changedTouches[0].screenX,c=e.changedTouches[0].screenY,r(),a=window.setTimeout(r,o))}),{passive:!0}),u=Ie(e,"touchend",(function(e){0!==a&&(r(),t(e))}),{passive:!0}),f=Ie(e,"touchmove",(function(e){if(0===a||!d(e.touches)||1!==e.touches.length)return void r();const{screenX:t,screenY:i}=e.changedTouches[0];if(o=t,l=i,Math.abs(s-o)>n||Math.abs(c-l)>n)r();else var o,l}),{passive:!0});return()=>{l(),h(),u(),f()}}function To(e,t){const i=function(e){void 0===e&&(e=window);const{document:t={}}=e;return Bb.filter(e=>{let{enabled:i}=e;return i in t})}(e);if(i.length>0)return i[0];const r=function(e,t){return void 0===e&&(e=window),void 0===t&&(t=e.HTMLVideoElement&&e.HTMLVideoElement.prototype||{}),Bb.filter(e=>{let{enabled:i}=e;return i in t})}(e,t);return r.length>0?r[0]:void 0}function Co(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Io(){return(Io=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ko(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Po(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Oo(e,t,i){if(!e)return ay;const r=oy(e.controlsVisibility),n=Boolean(t.abuseUrl);return{isCloseAvailable:r&&n,isCloseDialogActive:"selection"===i}}function Do(){return(Do=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ro(){return(Ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function No(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Mo(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vo(e,t){for(var i in t)e[i]=t[i];return e}function Bo(e){var t=e.parentNode;t&&t.removeChild(e)}function xo(e,t,i){var r,n=arguments,o={};for(r in t)"key"!==r&&"ref"!==r&&(o[r]=t[r]);if(arguments.length>3)for(i=[i],r=3;r<arguments.length;r++)i.push(n[r]);if(null!=i&&(o.children=i),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===o[r]&&(o[r]=e.defaultProps[r]);return Lo(e,o,t&&t.key,t&&t.ref)}function Lo(e,t,i,r){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0};return py.vnode&&py.vnode(n),n}function Uo(e){return e.children}function Fo(e,t){this.props=e,this.context=t}function Ho(e,t){if(null==t)return e.__?Ho(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?Ho(e):null}function jo(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return jo(e)}}function zo(e){(!e.__d&&(e.__d=!0)&&1===my.push(e)||vy!==py.debounceRendering)&&((vy=py.debounceRendering)||gy)(Wo)}function Wo(){var e,t,i,r,n,o,a;for(my.sort((function(e,t){return t.__v.__b-e.__v.__b}));e=my.pop();)e.__d&&(i=void 0,r=void 0,o=(n=(t=e).__v).__e,(a=t.__P)&&(i=[],r=Qo(a,n,Vo({},n),t.__n,void 0!==a.ownerSVGElement,null,i,null==o?Ho(n):o),Jo(i,n),r!=o&&jo(n)))}function Yo(e,t,i,r,n,o,a,s,d){var c,l,h,u,f,p,m,g=i&&i.__k||_y,v=g.length;if(s==Ay&&(s=null!=o?o[0]:v?Ho(i,0):null),c=0,t.__k=Go(t.__k,(function(i){if(null!=i){if(i.__=t,i.__b=t.__b+1,null===(h=g[c])||h&&i.key==h.key&&i.type===h.type)g[c]=void 0;else for(l=0;l<v;l++){if((h=g[l])&&i.key==h.key&&i.type===h.type){g[l]=void 0;break}h=null}if(u=Qo(e,i,h=h||Ay,r,n,o,a,s,d),(l=i.ref)&&h.ref!=l&&(m||(m=[]),h.ref&&m.push(h.ref,null,i),m.push(l,i.__c||u,i)),null!=u){var b;if(null==p&&(p=u),void 0!==i.__d)b=i.__d,i.__d=void 0;else if(o==h||u!=s||null==u.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(u),b=null;else{for(f=s,l=0;(f=f.nextSibling)&&l<v;l+=2)if(f==u)break e;e.insertBefore(u,s),b=s}"option"==t.type&&(e.value="")}s=void 0!==b?b:u.nextSibling,"function"==typeof t.type&&(t.__d=s)}}return c++,i})),t.__e=p,null!=o&&"function"!=typeof t.type)for(c=o.length;c--;)null!=o[c]&&Bo(o[c]);for(c=v;c--;)null!=g[c]&&ea(g[c],g[c]);if(m)for(c=0;c<m.length;c++)$o(m[c],m[++c],m[++c])}function Go(e,t,i){if(null==i&&(i=[]),null==e||"boolean"==typeof e)t&&i.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)Go(e[r],t,i);else i.push(t?t("string"==typeof e||"number"==typeof e?Lo(null,e,null,null):null!=e.__e||null!=e.__c?Lo(e.type,e.props,e.key,null):e):e);return i}function qo(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]="number"==typeof i&&!1===wy.test(t)?i+"px":null==i?"":i}function Ko(e,t,i,r,n){var o,a,s,d,c;if(n?"className"===t&&(t="class"):"class"===t&&(t="className"),"key"===t||"children"===t);else if("style"===t)if(o=e.style,"string"==typeof i)o.cssText=i;else{if("string"==typeof r&&(o.cssText="",r=null),r)for(a in r)i&&a in i||qo(o,a,"");if(i)for(s in i)r&&i[s]===r[s]||qo(o,s,i[s])}else"o"===t[0]&&"n"===t[1]?(d=t!==(t=t.replace(/Capture$/,"")),c=t.toLowerCase(),t=(c in e?c:t).slice(2),i?(r||e.addEventListener(t,Xo,d),(e.l||(e.l={}))[t]=i):e.removeEventListener(t,Xo,d)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!n&&t in e?e[t]=null==i?"":i:"function"!=typeof i&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==i||!1===i?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):null==i||!1===i?e.removeAttribute(t):e.setAttribute(t,i))}function Xo(e){this.l[e.type](py.event?py.event(e):e)}function Qo(e,t,i,r,n,o,a,s,d){var c,l,h,u,f,p,m,g,v,b,y=t.type;if(void 0!==t.constructor)return null;(c=py.__b)&&c(t);try{e:if("function"==typeof y){if(g=t.props,v=(c=y.contextType)&&r[c.__c],b=c?v?v.props.value:c.__:r,i.__c?m=(l=t.__c=i.__c).__=l.__E:("prototype"in y&&y.prototype.render?t.__c=l=new y(g,b):(t.__c=l=new Fo(g,b),l.constructor=y,l.render=ta),v&&v.sub(l),l.props=g,l.state||(l.state={}),l.context=b,l.__n=r,h=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=y.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=Vo({},l.__s)),Vo(l.__s,y.getDerivedStateFromProps(g,l.__s))),u=l.props,f=l.state,h)null==y.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==y.getDerivedStateFromProps&&g!==u&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(g,b),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(g,l.__s,b)){for(l.props=g,l.state=l.__s,l.__d=!1,l.__v=t,t.__e=i.__e,t.__k=i.__k,l.__h.length&&a.push(l),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(g,l.__s,b),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(u,f,p)}))}l.context=b,l.props=g,l.state=l.__s,(c=py.__r)&&c(t),l.__d=!1,l.__v=t,l.__P=e,c=l.render(l.props,l.state,l.context),t.__k=null!=c&&c.type==Uo&&null==c.key?c.props.children:c,null!=l.getChildContext&&(r=Vo(Vo({},r),l.getChildContext())),h||null==l.getSnapshotBeforeUpdate||(p=l.getSnapshotBeforeUpdate(u,f)),Yo(e,t,i,r,n,o,a,s,d),l.base=t.__e,l.__h.length&&a.push(l),m&&(l.__E=l.__=null),l.__e=!1}else t.__e=Zo(i.__e,t,i,r,n,o,a,d);(c=py.diffed)&&c(t)}catch(e){py.__e(e,t,i)}return t.__e}function Jo(e,t){py.__c&&py.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){py.__e(e,t.__v)}}))}function Zo(e,t,i,r,n,o,a,s){var d,c,l,h,u,f=i.props,p=t.props;if(n="svg"===t.type||n,null==e&&null!=o)for(d=0;d<o.length;d++)if(null!=(c=o[d])&&(null===t.type?3===c.nodeType:c.localName===t.type)){e=c,o[d]=null;break}if(null==e){if(null===t.type)return document.createTextNode(p);e=n?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,p.is&&{is:p.is}),o=null}if(null===t.type)null!=o&&(o[o.indexOf(e)]=null),f!==p&&e.data!=p&&(e.data=p);else if(t!==i){if(null!=o&&(o[o.indexOf(e)]=null,o=_y.slice.call(e.childNodes)),l=(f=i.props||Ay).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!s){if(f===Ay)for(f={},u=0;u<e.attributes.length;u++)f[e.attributes[u].name]=e.attributes[u].value;(h||l)&&(h&&l&&h.__html==l.__html||(e.innerHTML=h&&h.__html||""))}(function(e,t,i,r,n){var o;for(o in i)o in t||Ko(e,o,null,i[o],r);for(o in t)n&&"function"!=typeof t[o]||"value"===o||"checked"===o||i[o]===t[o]||Ko(e,o,t[o],i[o],r)})(e,p,f,n,s),t.__k=t.props.children,h||Yo(e,t,i,r,"foreignObject"!==t.type&&n,o,a,Ay,s),s||("value"in p&&void 0!==p.value&&p.value!==e.value&&(e.value=null==p.value?"":p.value),"checked"in p&&void 0!==p.checked&&p.checked!==e.checked&&(e.checked=p.checked))}return e}function $o(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){py.__e(e,i)}}function ea(e,t,i){var r,n,o;if(py.unmount&&py.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||$o(r,null,t)),i||"function"==typeof e.type||(i=null!=(n=e.__e)),e.__e=e.__d=void 0,null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){py.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&ea(r[o],t,i);null!=n&&Bo(n)}function ta(e,t,i){return this.constructor(e,i)}function ia(e,t,i){var r,n,o;py.__&&py.__(e,t),n=(r=i===by)?null:i&&i.__k||t.__k,e=xo(Uo,null,[e]),o=[],Qo(t,(r?t:i||t).__k=e,n||Ay,Ay,void 0!==t.ownerSVGElement,i&&!r?[i]:n?null:_y.slice.call(t.childNodes),o,i||Ay,r),Jo(o,e)}function ra(e){var t={},i={__c:"__cC"+yy++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,n=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[i.__c]=n,t},this.shouldComponentUpdate=function(t){e.value!==t.value&&r.some((function(e){e.context=t.value,zo(e)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return i.Consumer.contextType=i,i}function na(){return(na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function oa(e){py.__h&&py.__h(Cy);var t=Cy.__H||(Cy.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function aa(e){return function(e,t,i){var r=oa(Ty++);return r.__c||(r.__c=Cy,r.__=[i?i(t):ga(void 0,t),function(t){var i=e(r.__[0],t);r.__[0]!==i&&(r.__[0]=i,r.__c.setState({}))}]),r.__}(ga,e)}function sa(e,t){var i=oa(Ty++);ma(i.__H,t)&&(i.__=e,i.__H=t,Cy.__H.__h.push(i))}function da(e,t){var i=oa(Ty++);ma(i.__H,t)&&(i.__=e,i.__H=t,Cy.__h.push(i))}function ca(e,t){var i=oa(Ty++);return ma(i.__H,t)?(i.__H=t,i.__h=e,i.__=e()):i.__}function la(e,t){return ca((function(){return e}),t)}function ha(e){var t=Cy.context[e.__c];if(!t)return e.__;var i=oa(Ty++);return null==i.__&&(i.__=!0,t.sub(Cy)),t.props.value}function ua(){ky.some((function(e){if(e.__P)try{e.__H.__h.forEach(fa),e.__H.__h.forEach(pa),e.__H.__h=[]}catch(t){return py.__e(t,e.__v),!0}})),ky=[]}function fa(e){e.t&&e.t()}function pa(e){var t=e.__();"function"==typeof t&&(e.t=t)}function ma(e,t){return!e||t.some((function(t,i){return t!==e[i]}))}function ga(e,t){return"function"==typeof t?t(e):t}function va(e){const[t,i]=aa(e.getValue());return sa(()=>(i(e.getValue()),e.add(i)),[e]),t}function ba(e){var t,i,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(i=ba(e[t]))&&(r&&(r+=" "),r+=i);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Aa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _a(e){const t=Gy();da(()=>Ky.useStyleModule(t.element,e),[e])}function wa(e){let{width:t}=e;return t<tA?"small":"middle"}function Sa(e){let{abuseScreenWidth:t,hasDescription:i}=e;return i&&t>=400?"middle":t>=500?"middle":"small"}function Ea(e){let{isShortDescription:t,abuseScreenWidth:i}=e;return t?19:i<400?27:33}function Ta(e){let{adVolume:t,adVolumeAvailability:i,adHasBeenUnmuted:r}=e;return i?0!==t?"unmuted":r?"muted":"mutedStart":"unavailable"}function Ca(){return(Ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ia(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ka(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Pa(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function Oa(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Da(e,t){var i=t.get(e);if(!i)throw new TypeError("attempted to get private field on non-instance");return i.get?i.get.call(e):i.value}function Ra(e,t,i){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,i);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=i}return i}function Na(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ma(e){return he(e)&&function(e){return le(e)&&Math.floor(e)===e}(e)}function Va(e){if(!d(e))return{};const{stickTo:t,stickyColorScheme:i}=e;return Pe({stickTo:Ba(t,Ww),stickyColorScheme:Ba(i,zw)})}function Ba(e,t){if("string"!==typeof e)return;const i=e.toLowerCase();return lt(t).indexOf(i)>-1?i:void 0}function xa(e,t){const i=t.querySelector('Extension[type="'+e+'"]');return i?$e(i):void 0}function La(e,t){return"true"===xa(e,t)}function Ua(){return(Ua=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ha(e,t,i){const r=[],n=i.querySelector("AdSource");if(!n)throw new Qd({code:"VMAP_AD_BREAK_WITHOUT_AD_SOURCE",details:t});let o=Fw;if(n.hasAttribute("id")){if(!Ma(o=Number(n.getAttribute("id"))))throw new Qd({code:"INVALID_AD_BREAK_IMP_ID_ATTRIBUTE",details:t})}else r.push(new Qd({code:"NO_AD_BREAK_IMP_ID_ATTRIBUTE",details:t}));const a=i.querySelector("Extensions");if(!a)throw new Qd({code:"NO_AD_BREAK_EXTENSIONS",details:t});const s=n.querySelector("AdTagURI"),d=$e(s);if(!s||!d)throw new Qd({code:"VMAP_AD_SOURCE_WITHOUT_AD_TAG_URI",details:t});const c={adTagURI:d,adFoxParameters:void 0},l=i.getAttribute("breakType"),h=Ze(i,"breakId"),u=Ze(i,"timeOffset","start"),f=()=>new Qd({code:"VMAP_INCORRECT_TIME_OFFSET",details:Fa({},t,{timeOffset:u,breakIdAttribute:h})});if(-1===Bw.indexOf(h))throw new Qd({code:"VMAP_UNSUPPORTED_AD_BREAK_TYPE",details:Fa({},t,{breakIdAttribute:h})});const p=l===Uw,m=function(e,t){switch(e){case xw:return[new Qd({code:"LINEAR_AND_NON_LINEAR_ALLOWED_IN_AD_BREAK",details:t})];case Lw:case Uw:return[];default:throw new Qd({code:"INVALID_BREAK_TYPE_ATTRIBUTE",details:t})}}(l,t);if(r.push(...m),p!==zr({adType:h})){if("inroll-overlay"!==h)throw new Qd({code:"INCOMPATIBLE_BREAK_TYPE_ATTRIBUTE",details:t});r.push(new Qd({code:"INCORRECT_BREAK_TYPE_ATTRIBUTE",details:{adBreakType:h,adBreakTypeAttribute:l}}))}let g;if("inpage"===h)g=function(e){const t=xa("Stick",e),i=Va({stickTo:xa("StickTo",e),stickyColorScheme:xa("ColorScheme",e)});return Ua({stick:"true"===t,adType:"inpage",replayMode:Gw(e)},i)}(a);else if("inroll"===h)g={adType:"inroll"};else if("inroll-overlay"===h)g={adType:"inroll-overlay"};else if(u===Mw.start){if(Vw[u]!==h)throw f();g={adType:"preroll"}}else if(u===Mw.end){if(Vw[u]!==h)throw f();g={adType:"postroll"}}else{if(!/^\d{2}:\d{2}:\d{2}(\.\d+)?/.test(u))throw f();{if(["midroll","overlay"].indexOf(h)<0)throw f();const e=function(e,t){return Number(xa(e,t))}("MaxRepeatCount",a),t=ht(Ze(i,"repeatAfter")),r={timeOffset:ht(u),repeatAfter:isNaN(t)?jw:t,maxRepeatCount:isNaN(e)?Hw:e,repeatNumber:0};g=Fa("midroll"===h?{adType:"midroll",broadcastReplace:La("BroadcastReplace",a)}:{adType:"overlay"},r)}}return{adBreak:Fa({impId:o},g,e,c),errors:r,events:[]}}function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function za(e){if(!d(e))return{config:{},errors:[]};const t={},i=[];if(void 0!==e.adFoxParameters){const n=d(r=e.adFoxParameters)?Ut(r)?void 0===r.containerId||E(r.containerId)?E(r.ownerId)?void 0:"ADFOX_PARAMETERS_OWNER_ID_IS_EMPTY":"ADFOX_PARAMETERS_CONTAINER_ID_IS_INVALID":"ADFOX_PARAMETERS_IS_NOT_SERIALIZABLE":"ADFOX_PARAMETERS_IS_NOT_AN_OBJECT";n?i.push(new Qd({code:n,details:{adConfig:e}})):t.adFoxParameters=e.adFoxParameters}var r;return{config:t,errors:i}}function Wa(){return(Wa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ga(e){if(!d(e))return{};const{partnerId:t,category:i,vmapId:r,impId:n,videoContentId:o,startWatchedTime:a,additionalParams:s}=e;if(void 0!==n&&!Ma(n))throw new Qd({code:"INVALID_CONFIG_IMP_ID_VALUE",details:{config:e}});if(void 0!==r&&!Ma(r))throw new Qd({code:"INVALID_CONFIG_VMAP_ID_VALUE",details:{config:e}});return Wa({},function(e){const t=d(e)?e:{};return Pe({vmapLoadTimeout:void 0===t.vmapLoadTimeout?void 0:Number(t.vmapLoadTimeout)})}(e),{partnerId:void 0===t?void 0:Number(t),category:void 0===i?void 0:Number(i),impId:n,vmapId:r,videoContentId:"string"===typeof o?o:void 0,startWatchedTime:le(a)?a:void 0,additionalParams:Hi(s)})}function qa(){return(qa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ka(e){if(!d(e))return{config:{},errors:[]};const{config:t,errors:i}=za(e);return{config:qa({},t,Ga(e),function(e){return{width:void 0===e.width?void 0:String(e.width),height:void 0===e.height?void 0:String(e.height),videoContentId:void 0===e.videoContentId?void 0:String(e.videoContentId),videoContentName:void 0===e.videoContentName?void 0:String(e.videoContentName),videoPublisherId:void 0===e.videoPublisherId?void 0:String(e.videoPublisherId),videoPublisherName:void 0===e.videoPublisherName?void 0:String(e.videoPublisherName),videoGenreId:Array.isArray(e.videoGenreId)?md(e.videoGenreId,String):void 0===e.videoGenreId?void 0:String(e.videoGenreId),videoGenreName:Array.isArray(e.videoGenreName)?md(e.videoGenreName,String):void 0===e.videoGenreName?void 0:String(e.videoGenreName),musicArtistId:void 0===e.musicArtistId?void 0:String(e.musicArtistId),musicGenreId:"string"===typeof e.musicGenreId?e.musicGenreId:void 0,musicGenreName:"string"===typeof e.musicGenreName?e.musicGenreName:void 0,tagsList:Array.isArray(e.tagsList)?md(e.tagsList,String):void 0,extParam:void 0===e.extParam?void 0:String(e.extParam),charset:void 0===e.charset?void 0:String(e.charset),targetRef:void 0===e.targetRef?void 0:String(e.targetRef),distrId:void 0===e.distrId?void 0:String(e.distrId)}}(e),{vastUrl:void 0===e.vastUrl?void 0:String(e.vastUrl),vast:e.hasOwnProperty("vast")&&E(e.vast)?String(e.vast):void 0,desiredBitrate:at(e.desiredBitrate),secureMode:Xw(e),preferableAdSize:qw(e),loadHarmlessVastCallback:a(e.loadHarmlessVastCallback)?e.loadHarmlessVastCallback:void 0}),errors:i}}function Xa(){return(Xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Qa(e){const t=d(e)?e:{};return Pe(Xa({},Va(t),{repeat:void 0===t.repeat?void 0:Boolean(t.repeat),vastTimeout:void 0===t.vastTimeout?void 0:Number(t.vastTimeout),wrapperTimeout:void 0===t.wrapperTimeout?void 0:Number(t.wrapperTimeout),wrapperMaxCount:void 0===t.wrapperMaxCount?void 0:Number(t.wrapperMaxCount),bufferFullTimeout:void 0===t.bufferFullTimeout?void 0:Number(t.bufferFullTimeout),bufferEmptyLimit:void 0===t.bufferEmptyLimit?void 0:Number(t.bufferEmptyLimit),videoTimeout:void 0===t.videoTimeout?void 0:Number(t.videoTimeout),vpaidTimeout:void 0===t.vpaidTimeout?void 0:Number(t.vpaidTimeout)}))}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Za(e){let t={};try{const i=e.getItem($w);null!==i&&(t=JSON.parse(i))}catch(r){}const i={};return h(t,(e,t)=>{he(e)&&(i[t]=e)}),i}function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function es(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ts(){return(ts=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function is(e){return E(e)?e:dS}function rs(){return(rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ns(){return(ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function os(){return(os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function as(){return(as=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ss(e){return!!S(e)&&mS.indexOf(e)>-1}function ds(){return(ds=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function cs(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}function ls(e,t){e[vS]=t}function hs(e){return e[vS]}function us(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function fs(e){let{descriptionText:t,buttonText:i,onButtonClick:r,animationProgress:n}=e;return{descriptionText:t,buttonText:i,onButtonClick:r,progress:va(n)}}function ps(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ms(e){const t=e.ownerDocument,i=t.defaultView,r=t.documentElement,n=e.getBoundingClientRect();return{winWidth:VS?Math.max(r.clientWidth,i.innerWidth||0):i.innerWidth||r.clientWidth||t.body.clientWidth,winHeight:VS?Math.max(r.clientHeight,i.innerHeight||0):i.innerHeight||r.clientHeight||t.body.clientHeight,left:n.left,top:n.top,width:n.width,height:n.height}}function gs(e){let{width:t,height:i,top:r,left:n,winWidth:o,winHeight:a}=e;const s=n+t,d=r+i,c=$r(n,0,o),l=$r(r,0,a);return{winWidth:o,winHeight:a,left:c,top:l,width:$r(s,c,o)-c,height:$r(d,l,a)-l}}function vs(e,t){return e.width*e.height/(t.width*t.height)}function bs(e){const t=function(e){return[ms(e),...md(y(e),ms)]}(e);let i=gs(t[0]),r=vs(i,t[0]);for(let a=1;a<t.length;a++){const e=t[a];r=vs(i=gs((n=i,{winWidth:(o=e).winWidth,winHeight:o.winHeight,left:n.left+o.left,top:n.top+o.top,width:n.width,height:n.height})),t[0])}var n,o;return r}function ys(e){return e.getBoundingClientRect().bottom>e.ownerDocument.body.getBoundingClientRect().bottom}function As(e){var t;if(!e)return!1;const i=null!==(t=(e.ownerDocument||document).defaultView)&&void 0!==t?t:window;return Boolean(i.Element)&&e instanceof i.Element}function _s(e,t){void 0===t&&(t=xS);const i=e.ownerDocument,{body:r}=i,n=i.documentElement,o=i.defaultView,a=Math.max(r.scrollHeight,r.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);if(e===n||e===r){return a-((o.pageYOffset||n.scrollTop)-(n.clientTop||0)+o.innerHeight)<t}return!(e.clientHeight>0&&e.scrollHeight>e.clientHeight&&e.scrollHeight-(e.scrollTop+e.clientHeight)>t)}function ws(e){const{parentElement:t}=e;if(!t)return!1;const i=t.parentElement;if(!i)return!1;let r=i;for(;Boolean(r);){if(As(r)&&!_s(r))return!1;r=r.parentNode||r.host}return!0}function Ss(e,t,i){const n={promise:Promise.resolve(void 0),unsubscribe:()=>void 0};if(Y("whenCanShow: start logic with threshold=["+i+"]"),function(e,t){return!!G(e.ownerDocument)&&bs(e)>=t}(t,i))return Y("whenCanShow: element is already visible"),n;if(ws(t)&&ys(t))return Y("whenCanShow: element is at the end of the <body>"),n;const o=[],a=()=>{Y("whenCanShow: stop logic"),H(md(o,e=>()=>T(e)))};let s=r;if(bl&&!Et(window)){Y("whenCanShow: use intersection observer");const r=e,n=t.getBoundingClientRect().height*i,{promise:a,teardown:d}=BS(r,"-"+n+"px",0);o.push(()=>d()),a.then(()=>{Y("whenCanShow: waitTillVisibleWithOffset complete with thresholdBoundary=["+n+"]"),s()}).catch(U)}return o.push(Nr(()=>{const e=G(document),r=bs(t),n=e&&r>=i,o=ws(t)&&ys(t);n||o?(Y("whenCanShow: visibility detected by interval isVisible=["+n+"] isAtTheEndOfTheBody=["+o+"]"),s(),a()):Y("whenCanShow: element visibility is NOT detected by interval documentVisibility=["+e+"}] elementVisibilityRatio=["+r+"] threshold=["+i+"]")})),{promise:new Promise(e=>{s=e}),unsubscribe:a}}function Es(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ts(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Cs(){return(Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Is(){return(Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function ks(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ps(e){let{placeholderElement:t,placeholderWidth:i,adContentSize:r}=e;const n=function(e){let{placeholderWidth:t,adContentSize:i}=e;if(!i)return;const{width:r,height:n}=i;if(!he(r)||!he(n))return;const o=n/r;return Math.floor(t*o)}({placeholderWidth:i,adContentSize:r});void 0!==n?r&&(Y("inPage: adjust ad height to adContentSize=["+JSON.stringify(r)+"] nextHeight=["+n+"]"),Ce(t,{height:n+"px"})):Y("inPage: skip adjust placeholder to unknown ad size")}function Os(){return(Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function Ds(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Rs(e,t){if(yE)return!1;const{left:i,right:r,top:n,bottom:o}=Nh(e),s=r-i,d=o-n,c=e.ownerDocument||document;return!eh(t,t=>{let[r,o]=t;const l=i+(s-1)*(1+r)/2,h=n+(d-1)*(1+o)/2,u=c.elementFromPoint(l,h);if(!u||e===u||e.contains(u))return!0;if(a(e.getRootNode)){if(function e(t,i){const r=t.getRootNode();if(!r||!r.host)return!1;if(i.contains(r.host))return!0;return e(r.host,i)}(u,e))return!0;if(function e(t,i){const r=i.getRootNode();if(!r||!r.host)return!1;if(t===r.host)return!0;return e(t,r.host)}(u,e))return!0}return!1})}function Ns(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ms(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Vs(){return(Vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}i.r(t);const Bs=!o(Math.random)||Math.random()===Math.random(),xs={}.toString,Ls=/\[object (\w+)\]/,Us=e=>{const t=xs.call(e);if(!t)return null;const i=t.match(Ls);if(!i)return null;const r=i[1];return r||null},Fs=Date&&a(Date.now)?()=>Date.now():()=>(new Date).getTime(),Hs="undefined"===typeof window?void 0:window.performance,js=Hs&&a(Hs.now),zs=Hs&&Hs.timing&&Hs.timing.navigationStart?Hs.timing.navigationStart:Fs();let Ws=0;const Ys=js?()=>Hs.now():()=>(()=>{const e=Fs()-zs;return Ws=Math.max(e,Ws)})(),Gs=2147483647,qs=16807;let Ks=Date.now()*Ys()%Gs;const Xs=Gs-1,Qs=Bs?function(){return((Ks=Ks*qs%Gs)-1)/Xs}:function(){return Math.random()},Js=[].find,Zs=o(Js)?(e,t)=>Js.call(e,t):(e,t)=>{for(let i=0;i<e.length;i++){const r=e[i];if(t(r,i,e))return r}};let $s=document.currentScript;if(!$s){const e=s(document.getElementsByTagName("script"));($s=Zs(e,e=>d(e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__)))||($s=e[e.length-1])}const ed=$s,td=null===ed||void 0===ed?void 0:ed.__AD_SDK_SCRIPT_SESSION_PARAMETERS__;ed&&delete ed.__AD_SDK_SCRIPT_SESSION_PARAMETERS__;const id=null===td||void 0===td?void 0:td.SID,rd=null===td||void 0===td?void 0:td.VSID,nd=null===td||void 0===td?void 0:td.ICOOKIE,od=null===td||void 0===td?void 0:td.TEST_IDS,ad=null===td||void 0===td?void 0:td.AB_FLAGS,sd=null===td||void 0===td?void 0:td.AdditionalStatsRootFields,dd=null===td||void 0===td?void 0:td.VAS_USER_SESSION_RANDOM,cd=null===td||void 0===td?void 0:td.RUM_WRAPPER,ld=null!==dd&&void 0!==dd?dd:Qs(),hd=e=>{const t=[];for(;e;)try{if(u(e),t.push(e),e.parent===e)break;e=e.parent}catch(i){break}return t},ud=i(120),fd=function(e){void 0===e&&(e=window);const t=ud(e);return"boolean"===typeof t?-1:t},pd=function(e){return void 0===e&&(e=window),fd(e)>11},md=(e,t,i)=>{const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t.call(i,e[n],n,e);return r},gd=["","webkit","moz","o","ms"],vd=["","-webkit-","-ms-","-moz-","-o-"],bd=md(vd,e=>"("+e+"any-pointer:coarse)").join(","),yd=md(vd,e=>"("+e+"touch-enabled)").join(","),Ad=function(e){return void 0===e&&(e=window),e.navigator.userAgent.indexOf("UCBrowser")>-1},_d=function(e){void 0===e&&(e=window);const t=b(e).toLowerCase();if(t.indexOf("android")>-1)return!1;const i=t.replace(/\(.+?\)/gi,"").split(" ").map(e=>e.trim().split("/")[0]).filter(e=>e&&"mobile"!==e);return 4===i.length&&"mozilla"===i[0]&&"applewebkit"===i[1]&&"version"===i[2]&&"safari"===i[3]},wd=(void 0===Sd&&(Sd=window),_d(Sd)||v(Sd)||function(e){return void 0===e&&(e=window),/Apple/.test(e.navigator.vendor)&&g(e)}(Sd));var Sd;const Ed=C(Array,"isArray"),Td=Boolean(Ed)?e=>Ed.call(Array,e):e=>"Array"===Us(e);class Cd{constructor(e){this.cache=e}get(e){return this.cache[e]}has(e){return e in this.cache}set(e,t){this.cache[e]=t}}const Id=function(e,t,i){return void 0===t&&(t=e=>e),void 0===i&&(i=new Cd({})),function(){const r=t.apply(this,arguments);if(i.has(r))return i.get(r);const n=e.apply(this,arguments);return i.set(r,n),n}},kd=document.createElement("a"),Pd=(Id(e=>{return I({},k(e))}),/^(android-app:|chrome-extension:)/),Od=e=>{try{return decodeURIComponent(e)}catch(t){return e}},Dd=(e,t)=>t.map(t=>e+"[]="+encodeURIComponent(t)).join("&"),Rd={adsdkver:0,adsdkdebug:0,adsdknovastconvertation:0,adsdkecmaver:0,adsdktracelogs:0,adsdksecuremode:0,adsdkwithcredentials:0},Nd=(_(Rd),{}),Md=A(document);for(const{location:ya}of Md){h(O(k(ya).search),(e,t)=>{0===Rd[t]&&(Nd[t]=e)})}const Vd=M(window,"adsdkdebug"),Bd=Boolean(Vd),xd=1,Ld=.001,Ud=Bd?xd:.05,Fd=Bd?xd:Ld,Hd=c(Ud),jd=(e,t,i)=>{const r=[];for(let n=0;n<e.length;n++){const o=e[n];t.call(i,o,n,e)&&r.push(o)}return r};let zd;const Wd=function(e){void 0===e&&(e=document.body);const t=function(e){const t=V(e);return t.width="0",t.height="0",t.style.position="absolute",t}(e);return{JSON:t.contentWindow.JSON,clean:()=>(function(e){e.src="",n(e)})(t)}},Yd=e=>t=>{const{JSON:i,clean:r}=Wd();try{return i[e](t)}finally{r()}},Gd={message:"DEFAULT_ERROR_MESSAGE",code:0,details:"",stack:"?:?:?",isFatal:!0},qd=i(121);class Kd extends Error{constructor(e,t){void 0===t&&(t={});const i="object"===typeof e?e:{message:String(e||Gd.message)};super(),qd(this,Kd.prototype),this.message=t.message||i.message||Gd.message,this.code=t.code||i.code||i.id||Gd.code,this.isFatal=Boolean(function(e){const[t]=jd(e,e=>void 0!==e);return t}([t.isFatal,i.isFatal,Gd.isFatal])),this.details=t.details||i.details||Gd.details;const r=t.stack||i.stack||function(e){const{url:t,line:i,col:r,fileName:n,columnNumber:o,lineNumber:a}=e;return(t||n||"?")+":"+(i||a||"?")+":"+(r||o||"?")}(i);let n=r===Gd.stack?this.stack:r;if(n&&n!==Gd.stack)this.stack=n;else if(!this.stack)try{throw new Error(this.message)}catch(o){this.stack=n=o.stack||Gd.stack}this.toString=()=>x(this.toJSON()),this.toJSON=()=>({message:this.message,code:this.code,isFatal:this.isFatal,details:this.details,stack:n})}}const Xd={NO_APPROPRIATE_VIDEO_SOURCE:52,MEDIA_ERR_ABORTED:101,MEDIA_ERR_NETWORK:102,MEDIA_ERR_SRC_NOT_SUPPORTED:104,VIDEO_ERROR:10,INVALID_VAST_XML:40,YANDEX_INVALID_VAST_XML:40,INCORRECT_SKIPOFFSET_FORMAT:46,YANDEX_INCORRECT_SKIPOFFSET_FORMAT:46,ADFOX_VAST_LOAD_ERROR:47,VAST_LOAD_ERROR:48,NO_AD_SECTION:53,VAST_LOAD_TIMEOUT:60,YANDEX_VAST_LOAD_TIMEOUT:60,NO_INLINE_OR_WRAPPER_NODE:58,YANDEX_NO_INLINE_OR_WRAPPER_NODE:58,INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION:59,VIDEO_TIMEOUT:62,BUFFER_FULL_TIMEOUT:63,BUFFER_EMPTY_LIMIT:64,VPAID_START_TIMEOUT:65,EXPECTED_PREROLL_AD_BREAK:66,VMAP_CONFIG_WITHOUT_PARTNER_ID:1003,NO_AD_TO_DISPLAY:51,VPAIDLoadingError:68,VPAIDPlayingError:67,VpaidEventBusCallbackError:81,CANNOT_LOAD_VPAID_MEDIA_FILE:82,CANNOT_LOAD_MODULE:91,CANNOT_INIT_MODULE:92,TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS:21002,PUBLIC_CONTROLLER_PLAY_ERROR:21010,NO_AD_CUSTOM_MARKER:21101};class Qd extends Kd{constructor(e,t){void 0===e&&(e={}),void 0===t&&(t={});const i=t.message||e.message;var r,n,o;super(e,L({},t,{message:"AdSDK Error ["+(t.code||e.code)+"]"+(i?"["+i+"]":"")})),o=void 0,(n="id")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,this.id=function(e){return Xd[e]||0}(this.code)}}const Jd=function(e,t){void 0===e&&(e=document);const i=e.currentScript;if(i)return i;{const i=e.getElementsByTagName("script"),r=[];for(let e=0;e<i.length;e++)r.push(i[e]);if("function"===typeof t){const e=r.filter(t);return e[e.length-1]}return r[r.length-1]}}(),Zd=Jd?Jd.src:"",$d=r,ec=r,tc=r,ic=e=>{let{win:t,propertyName:i}=e;return{call:e=>$d(z({win:t,propertyName:i},e)),subscribe:e=>tc(z({win:t,propertyName:i},e)),wait:e=>(e=>{let{propertyName:t,win:i}=e;return new Promise(e=>{tc({callback:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e(i)},propertyName:t,win:i})})})(z({win:t,propertyName:i},e)),waitUntil:e=>(e=>{let{propertyName:t,win:i,comparator:r}=e;return new Promise(e=>{tc({propertyName:t,win:i,callback:function(){r(...arguments)&&e()}})})})(z({win:t,propertyName:i},e)),clear:e=>ec(z({win:t,propertyName:i},e))}};ic({propertyName:"YANDEX_DESTROYABLE_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});class rc{constructor(){this._isDestroyed=!1,this.destroyHandlers=[]}get destroyReason(){return this._destroyReason}get isDestroyed(){return this._isDestroyed}static addErrorHandler(e){rc.errorHandlers.push(e)}onDestroy(e){this._addDestroyHandler(e)}addDestroyListener(e){this._addDestroyHandler(e)}addDestroyHandler(e){this._addDestroyHandler(e)}destroy(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const[r]=t;if(!this._isDestroyed){this._isDestroyed=!0,this._destroyReason=r;try{H(this.destroyHandlers,...t)}catch(n){H(rc.errorHandlers,n)}this.destroyHandlers.length=0}}getIsDestroyed(){return this._isDestroyed}ignoreAfterDestroy(e){var t=this;let i=e;return function(){t.isDestroyed&&(i=r);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];i.apply(t,n)}}_addDestroyHandler(e){this._isDestroyed?e(this._destroyReason):this.destroyHandlers.push(e)}}rc.errorHandlers=[];W(window);ed&&ed.src;const nc=M(window,"adsdktracelogs"),oc=(Boolean(nc),""),ac="InPage";ic({propertyName:"DEBUG_LOG_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});const sc=id||j(64);Y((id?"Use existing SID":"Generate new SID")+" ["+sc+"]");let dc;try{dc={build:4804,code:[{id:4804,percent:100}]}}catch(RE){dc={}}const{build:cc,code:lc}=dc,hc=cc,uc=function(e,t,i){const r=M(e,t);return r?Number(r):function(e){const t=100*Qs();let i=0;for(let r=0;r<e.length;r++)if(t<(i+=e[r].percent))return e[r].id;return e[0].id}(i)}(window,"adsdkver",lc),fc=(e,t)=>{for(const i of t.split(".")){if(!d(e)){e=void 0;break}e=e[i]}return e},pc="__ADB_CONFIG__",mc=d(pc)&&pc.fn&&a(pc.fn.encodeUrl)?pc.fn.encodeUrl:void 0,gc=void 0!==mc?e=>mc(e):void 0,vc=function(e){if(void 0===e&&(e=window),gc)return gc;const t=hd(e);for(;t.length;){const e=t.pop();if(!e)continue;const i=fc(e,"ya.videoAd.encodeUrl");if(a(i))return i}},bc=vc(window),yc=(e,t,i)=>{for(let r=0;r<e.length;r++)t.call(i,e[r],r,e)},Ac=e=>"hidden"in e?"hidden":"webkitHidden"in e?"webkitHidden":void 0,_c=y(document.documentElement),{length:wc}=_c,Sc=wc>0?_c[wc-1].ownerDocument.defaultView:window,Ec=Boolean(window.location.ancestorOrigins),Tc=K(window),Cc=function(){const e=md(_c,e=>e.ownerDocument),{length:t}=e,i=(t?e[t-1]:document).defaultView;return!!i&&i.self!==i.parent}(),{topAncestor:Ic,isTrusted:kc}=function(e){void 0===e&&(e=window);const t=K(e);if(t.length>0)return{topAncestor:t[t.length-1],isTrusted:!0};const{location:i,referrer:r}=X(e.document),n=Cc?r:i,o=!Cc||W(Sc).length<2,{protocol:a,hostname:s,host:d,port:c}=k(n);return{topAncestor:P({protocol:a,hostname:s,host:d,port:c,originalPath:"",href:"",pathname:"",search:"",hash:""}),isTrusted:o}}(),Pc=Ic,Oc=kc,Dc=200,Rc=4,Nc=e=>o(e.navigator.sendBeacon),Mc=Nc(window),Vc=64,Bc=(ic({propertyName:"YANDEX_STATS_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),{testIds:"",flags:{}});const xc=F(()=>{try{const e=__UAAS_CFG__,t=JSON.parse(e);if(!((e,t)=>{if(!d(t))throw new Error("Parsed replaced macro is not an object: "+e);if(!("flags"in t)||!d(t.flags))throw new Error("Parsed replaced macro has no flags field: "+e);return!0})(e,t))throw new Error("UAAS config is not valid: "+e);return{error:void 0,config:t}}catch(e){return{error:e,config:Bc}}});let Lc,Uc=Bc;try{const e=xc();if(e.error)throw e.error;Uc=e.config}catch(RE){Lc=RE}const Fc=Uc,Hc=Lc,jc=ee({},Fc.flags,ad),zc=nd||Fc.iCookie,Wc=od||(null===Fc||void 0===Fc?void 0:Fc.testIds)||void 0,Yc="adsdk-test-tag",Gc=hd,qc=function(e){const t=Gc(e);for(const i of t){const{BANNER_TYPE_FROM_NANPU:e}=i;if("string"===typeof e&&e.length>0)return e}}(window),Kc=e=>e instanceof Error||"Error"===Us(e),Xc=e=>({name:e.name,message:e.message,stack:e.stack}),Qc=e=>{const t=new Error;return t.name=e.name,t.message=e.message,t.stack=e.stack,t};class Jc{constructor(e){void 0===e&&(e={}),this.props={},this.setProps(ae({},this.defaults(),e))}static sliceBits(e,t,i){return function(e,t,i){const r=t+i,n=oe(e.toString(2),r).substr(-r,i);return parseInt(n,2)}(e,t,i)}defaults(){return{}}toString(){return this.serialize().toString()}setProps(e){return d(e)&&yc(this.getTemplate(),t=>{let[,i]=t;i&&e.hasOwnProperty(i)&&(this.props[i]=e[i])},this),this}getProps(){return ae({},this.props)}clone(){return new(0,this.constructor)(this.props)}serialize(){var e,t;return re((e=this.getTemplate(),t=this.props,md(e,e=>{let[i,r]=e;return[i,r&&t[r]||null]})))}slice(e,t){return Jc.sliceBits(this.serialize(),e,t)}}let Zc;!function(e){e.VERSION="VERSION",e.BUNDLE="BUNDLE",e.UNUSED="UNUSED",e.ADBLOCK="ADBLOCK"}(Zc||(Zc={}));const $c={AdSDKLoader:0,VpaidPlayerLoader:1,OldVpaidCreative:3,AdLoader:11,BannerAd:12,InPage:13,VideoPlayer:15,Multiroll:16,VideoBannerAd:17,OverlayTGO:18,YaMusicAPI:19,MotionTGO:20,InteractiveElementsAdCreative:24,VpaidPlayer:21,VASFrame:24,OldThemeEmpty:25,ThemeEmpty:26,Rum:27,Examples:30,Test:31,TestVpaid:31};const el=new class extends Jc{getTemplate(){return[[10,Zc.VERSION],[5,Zc.BUNDLE],[36,Zc.UNUSED],[1,Zc.ADBLOCK]]}defaults(){return{[Zc.VERSION]:hc,[Zc.BUNDLE]:$c[ac],[Zc.UNUSED]:0,[Zc.ADBLOCK]:a(bc)}}},{rootFields:tl,extractionError:il}=(e=>{let t,i;return{rootFields:t=T(()=>(e=>{const t=fc(e,"ya.videoAd.statsRootParams");if(d(t)){const e={},{vsid:i,contentPlayerVersion:r}=t;if(E(i)&&(e.vsid=i),E(r)&&(e.contentPlayerVersion=r),_(e).length>0)return e}})(e),e=>{i=e})||void 0,extractionError:i}})(window),rl=tl,nl=il,ol=sd||rl||void 0,al=e=>{let{eventType:t,eventName:i,value:r,values:n}=e;const o={};return h(n,(e,r)=>{o[t+"_"+i+"_"+r]=e}),de({[t+"_"+i]:r},o)},sl=de({},ol,{[Yc]:String(el.serialize()),bannerTypeFromNanpu:qc,bundleName:ac,abFlags:jc,iCookie:zc,testIds:Wc,ecmaVer:"ES2017"});class dl{constructor(e){se(this,"rootFields",{}),se(this,"labels",{}),se(this,"params",void 0),se(this,"event",e=>{let{name:t,data:i,labels:r,probability:n,extraRootFields:o}=e;this.push({eventType:"event",eventName:t,data:i,additionalStatsLabels:r,probability:n,extraRootFields:o})}),se(this,"error",e=>{let{error:t,labels:i,probability:r,extraRootFields:n}=e;const o=new Kd(t);this.push({eventName:String(o.code),eventType:"fatal",data:o,additionalStatsLabels:i,probability:r,extraRootFields:n})}),se(this,"values",e=>{let{name:t,values:i,data:r,labels:n,probability:o,extraRootFields:a}=e;this.push({eventName:t,eventType:"values",data:r,additionalStatsLabels:n,probability:o,values:i,extraRootFields:a})}),se(this,"warning",e=>{let{name:t,message:i,probability:r,extraRootFields:n}=e;N(i),this.push({eventName:t,eventType:"warning",data:{message:i},probability:r,extraRootFields:n})}),se(this,"getParams",()=>{return function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(this.params,["onLogError"])}),se(this,"setRootFields",e=>{const t=w(e);yc(t,e=>{let[t,i]=e;void 0===i?delete this.rootFields[t]:this.rootFields[t]=i})}),se(this,"setLabels",e=>{const t=w(e);yc(t,e=>{let[t,i]=e;void 0===i?delete this.labels[t]:this.labels[t]=i})}),se(this,"errorToStats",(e,t,i)=>{const r=new Kd(e);this.push({eventName:String(r.code),eventType:"fatal",data:r,additionalStatsLabels:t,extraRootFields:i})});const{onLogError:t}=e;this.params=de({},e,{sid:e.sid||j(Vc),rnd:e.rnd,onLogError:t?e=>{try{t(e)}catch(e){U(e)}}:U})}push(e){let{eventName:t,eventType:i,data:r={},additionalStatsLabels:n,value:o=1,probability:a=1,values:s={},extraRootFields:d={}}=e;if(!c(a))return;const{service:l,version:h}=this.params,u={service:l,version:h,data:r,eventName:t,eventType:i,additionalStatsLabels:n,value:o,values:s};if(dl.isSendingData)throw new Kd({message:"RecursiveStatsRequests",details:{service:l,version:h,eventType:i,eventName:t}});dl.isSendingData=!0;try{const e=R(cl,de({[l]:h,[i]:t},n)),r=this.createFullStatsObject(u,d);this.sendData(e,te(r))}catch(RE){dl.isSendingData=!1,this.params.onLogError(new Kd(RE,{details:{service:l,version:h,eventType:i,eventName:t}}))}dl.isSendingData=!1}sendData(e,t){$(e,t)||J({url:e,data:t,method:"POST"})}createFullStatsObject(e,t){const{service:i,version:r,eventName:n,eventType:o,data:s,additionalStatsLabels:d,value:c}=e,l=al(e),h=de({},this.labels,d,{version:this.params.version}),f={service:i,tags:Z(w(l)),labels:Z(w(h))},{location:p,referrer:m}=X(document);return de({},t,sl,this.rootFields,f,{timestamp:Date.now(),eventType:o,eventName:n,data:s,sid:this.params.sid,version:r,location:u(window),topLocation:p,topAncestor:Pc,isTopAncestorUndetermined:!Oc||void 0,ancestorOrigins:Tc,documentIsVisible:G(document),referrer:window.document.referrer,topReferrer:m,currentScriptSrc:Zd,secureIFrame:Cc,isVideoADB:a(bc),value:c,rnd:this.params.rnd,topDocumentFocus:q()})}}se(dl,"isSendingData",!1);const cl="https://jstracer.yandex.ru/jstracer",ll=k(cl).hostname,hl=new dl({service:"AdSDKJS",version:String(hc),sid:sc,rnd:ld,onLogError:F(e=>{U(e),hl.error({error:new Qd(e,{code:"STATS_LOG_ERROR",details:void 0})})})});rc.addErrorHandler(e=>{hl.error({error:new Qd(e,{code:"DESTROYABLE_CALLBACK_ERROR",details:void 0})})});const ul=-1,fl={droppedVideoFrames:ul,corruptedVideoFrames:ul,totalVideoFrames:ul},pl=ue({},fl,{droppedVideoFramesRatio:ul}),ml=0,gl={width:0,height:0},vl={visibility:0,size:gl,relativeSizeRatio:0,screenSize:gl,devicePixelRatio:0,downlink:0,videoSlotSize:gl,videoContentSize:void 0,videoAvatarSize:gl,videoPixelRatio:ul,videoFramesInfo:pl,videoSrc:"",videoMuted:!0,videoVolume:ml,videoCurrentSrc:"",bufferingTime:0,currentTime:0,bufferingTimeRatio:ul,remainingBufferedTime:0},bl="function"===typeof IntersectionObserver&&o(IntersectionObserver),yl=bl||!Cc,Al="client-ts",_l="client-timezone-offset",wl="adsdk-bundle-version",Sl="adsdk-bundle-name",El="adsdk-container-visibility",Tl="adsdk-container-width",Cl="adsdk-container-height",Il="video-avatar-width",kl="video-avatar-height",Pl="ad-session-id",Ol="sid",Dl="viewability-undetermined",Rl="top-ancestor",Nl="top-ancestor-undetermined",Ml="video-volume",Vl="video-muted",Bl=(e,t,i)=>{let r=e.getItem(t);return r||(r=i(t),e.setItem(t,r)),r},xl=(e,t,i)=>{if(!d(e))return e;const r=e,n=t.split("."),o=n.pop();for(const a of n){const t=e[a];e=d(t)?t:e[a]={}}return e[o]=i,r},Ll=e=>{try{return e()}catch(RE){return}},Ul=(e,t,i,r)=>(function(){try{return t.apply(i||this,arguments)}catch(RE){if(a(r)&&r(RE),!0===RE.preventProtect)throw RE;Ul.log(RE,e)}});Ul.log=function(e,t){console.log("LOG:"+t+":"+e)},Ul.setTimeout=(e,t,i,r)=>window.setTimeout(Ul("timeout",e,i,r),t);class Fl{}Fl.YaContextCallbacks=pe("Ya.C","ontext._callbacks"),Fl.YaContextCallbacksCalls=pe("Ya.C","ontext._callbacks_call"),Fl.AdvManager=pe("A","dvManager"),Fl.AdvBlock=pe("A","dvBlock"),Fl.RTB=pe("R","TB"),Fl.Rtb=pe("R","tb"),Fl.MetrikaAdtune=pe("metrika_a","dtune");class Hl{constructor(e){this.obj=e}getItem(e){return this.obj[e]}setItem(e,t){this.obj[e]=t}}const jl=F(()=>((e,t,i)=>{let r;return((e,t)=>{const i=e.slice();for(;i.length;){const e=t(i.shift());if(!e)return;i.push(...e)}})([e.top],e=>{if(!(r=Ll(()=>fc(e,t))))return Ll(()=>s(e.frames))||[]}),r||(r=i()),xl(e,t,r),r})(self,"Ya.pcodeCrossFrameData",()=>new Hl({}))),zl=e=>Bl(jl(),e,()=>new Hl({})),Wl=F(()=>((e,t,i)=>{let r=fc(e,t);return r||(r=i(),xl(e,t,r)),r})(self,"Ya.pcodeWindowData",()=>new Hl({}))),Yl=e=>Bl(Wl(),e,()=>new Hl({})),Gl=Ul("metrika::pushEvent",(e,t)=>{const i=fc(e,"Ya._metrika.dataLayer")||[];xl(e,"Ya._metrika.dataLayer",i),i.push({ymetrikaEvent:{type:"params",parent:1,data:{__ym:me({},t)}}})}),ql=Ul("sessionId::configureMetrika",(e,t)=>{Gl(e,{adSessionID:t})}),Kl=()=>(1e6*Qs()).toFixed(0)+(new Date).valueOf().toString();let Xl;const Ql=()=>(Xl||(Xl=((e,t,i,r)=>{let n=t.getItem("sessionId");return n||(n=i.getItem("sessionId")||e(),r(window,n)),t.setItem("sessionId",n),i.setItem("sessionId",n),n})(Kl,Yl("common"),zl("common"),ql)),Xl),Jl=()=>T(Ql)||void 0,Zl=v(),$l="adfox.ru",eh=(e,t)=>{for(let i=0;i<e.length;i++)if(t(e[i],i,e))return!0;return!1},th=["an.yandex.ru","yastatic.net"],ih=[...["localhost","127.0.0.1"].concat([]),...["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yastatic.net","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"]];ic({propertyName:"KNOCK_GLOBAL_CALLBACK_PROPERTY_NAME",win:window});let rh;const nh=function(e){return void 0===e&&(e=window),rh||(rh=e.document.createElement("div")),rh}(window),oh=(e,t)=>{const i="undefined"!==typeof nh.style[e];if(i&&t&&S(t))try{nh.style.cssText=e+": "+t+";";const i=Boolean(nh.style.cssText);return nh.style.cssText="",i}catch(RE){return!1}return i},ah={},sh=function(e){return void 0===e&&(e=""),ah[e]||function(e){const t=""+e[0].toUpperCase()+e.slice(1);for(let i=0;i<gd.length;i++){const r=gd[i],n=r?""+r+t:e;if(oh(n))return ah[e]=n}return ah[e]=e}(e)};let dh=function(e,t,i){e.attachEvent("on"+t,i)},ch=function(e,t,i){e.detachEvent("on"+t,i)};C(document,"addEventListener")&&C(document,"removeEventListener")&&(dh=function(e,t,i,r){const n=e&&C(e,"addEventListener");n&&n.call(e,t,i,r)},ch=function(e,t,i,r){const n=e&&C(e,"removeEventListener");n&&n.call(e,t,i,r)});let lh=!1,hh=!1,uh=!1;try{if(function(e){void 0===e&&(e=window);const t=e.Object;try{const e={};return t.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(i){return!1}}()){const e=document.createElement("div"),t={};Object.defineProperty(t,"once",{get:()=>lh=!0}),Object.defineProperty(t,"passive",{get:()=>hh=!0}),Object.defineProperty(t,"capture",{get:()=>uh=!0}),dh(e,"click",r,t)}}catch(NE){}const fh=.5,ph=e=>(e=>e instanceof Promise||"Promise"===Us(e)&&Boolean(T(()=>o(e.constructor))))(e)||(e=>Boolean(T(()=>a(e.then)&&a(e.catch))))(e);class mh{constructor(){this.on=[],this.once=[]}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.on.push(...t),()=>this.remove(...t)}addOne(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.once.push(...t),()=>this.remove(...t)}promise(){return new Promise(e=>this.addOne(e))}dispatch(e){const{once:t}=this;this.once=[],Re(this.on,e),Re(t,e)}removeAll(){this.on.length=0,this.once.length=0}remove(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.on=this.on.filter(e=>t.indexOf(e)<0),this.once=this.once.filter(e=>t.indexOf(e)<0)}}class gh extends mh{constructor(e,t){void 0===t&&(t=(e,t)=>e===t),super(),this.checkToEqualFunction=t,this.value=e}getValue(){return this.value}subscribeValueCondition(e,t){return this.add(i=>{e(i)&&De(t,i)})}subscribeValueConditionOnce(e,t){const i=this.subscribeValueCondition(e,e=>{i(),De(t,e)});return i}dispatch(e){this.checkToEqualFunction(this.value,e)||(this.value=e,super.dispatch(e))}}const vh="ru",bh="TranslatorError";class yh extends Kd{constructor(){super(...arguments),this.name=bh}}const Ah=function(e,t){void 0===t&&(t=!1);const i=(t,i,r)=>e[t][i][r],r=(t,i,r)=>e[t]&&e[t][i]&&e[t][i][r],n=e=>{let{keyset:t,key:n,lang:o=vh,onError:a,throwErr:s=!0}=e;if(r(o,t,n))return i(o,t,n);if(r(vh,t,n))return i(vh,t,n);{const e=new yh("Tanker locale for lang="+o+", keyset="+t+", key="+n+" not found");return s&&U(e),"function"===typeof a&&a(e),""}};if(t){return Id(n,e=>{let{keyset:t,key:i,lang:r}=e;return t+"_"+i+"_"+r})}return n}(i(122)),_h=function(e,t){return void 0===t&&(t=vh),Ah({keyset:"adsdk",key:e,lang:t})},wh=function(e,t,i){let r=0;for(arguments.length<3&&(r=1,i=e[0]);r<e.length;r++)i=t(i,e[r],r,e);return i},Sh=function e(t){return wh(t,(t,i)=>t.concat(Td(i)?e(i):i),[])},Eh=e=>{let t=0;return{promise:new Promise(i=>{t=window.setTimeout(i,e)}),clear(){clearTimeout(t)},timeoutId:t}},Th="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",Ch=M(window,"adsdkwithcredentials"),Ih=Ch?(""+Ch).toLowerCase():void 0,kh="true"===Ih||"false"!==Ih&&void 0,Ph="\x3c!-- Bad partner/domain --\x3e",Oh="\x3c!-- PageImp data not found --\x3e",Dh=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=Rh);for(let n=i;n<e.length;n++)if(r(e[n],t))return n;return-1},Rh=(e,t)=>e===t,Nh=e=>{try{const{left:t,right:i,top:r,bottom:n}=e.getBoundingClientRect();return{left:t,right:i,top:r,bottom:n,width:i-t,height:n-r}}catch(RE){return{left:0,width:0,top:0,height:0,right:0,bottom:0}}},Mh=function(e){return void 0===e&&(e=window),f(e)}(),Vh=window;let Bh;const xh=[],Lh=(e,t)=>{Bh&&Bh.isRumInited()&&Bh.sendResTiming(e,t)},Uh=null!==cd&&void 0!==cd?cd:{init:e=>{if(Bh)return;Bh=e;const t={clck:"https://yandex.ru/clck/click",reqid:Date.now()+":adsdk:"+Qs(),scrollLatencyMetric:!0,sendAutoElementTiming:!0,isDevMode:!1},i=Mh?"touch":"desktop",r={rum_id:"ru.adsdk."+i,"-project":"adsdk","-page":Vh.location.host,"-version":Vh.ya.videoAd.getBundleVersion(),"-platform":i,"-env":"production","-url":Vh.location.href,"-domain":Vh.location.host,"-blocker":void 0};Bh.init(t,r),yc(xh,e=>{let{name:t,src:i}=e;Lh(t,i)})},logBundleTiming:(e,t)=>{Bh?Lh(e,t):xh.push({name:e,src:t})}},Fh="VAS",Hh=e=>ie(String(e%Math.pow(10,4)),4,"0"),jh=()=>ie(Date.now().toString().slice(0,10),10,"0"),zh=(null===sd||void 0===sd?void 0:sd.vsid)||rd||(void 0===Wh&&(Wh=hc),[j(44),Fh,Hh(Wh),jh()].join("x"));var Wh;Y(((null===sd||void 0===sd?void 0:sd.vsid)?"Use VSID from player":rd?"Use VSID from session":"Generate new VSID")+" ["+zh+"]");const Yh={SID:sc,VSID:zh,VAS_USER_SESSION_RANDOM:ld,AB_FLAGS:jc,ICOOKIE:zc,TEST_IDS:Wc,AdditionalStatsRootFields:ol,RUM_WRAPPER:Uh},Gh={ES5:"bundles",ES2017:"bundles-es2017"},qh="https://yastatic.net/awaps-ad-sdk-js-bundles/",Kh=function(e){void 0===e&&(e=hc);const t=Gh.ES5;return""+Ue(e)+t+"/proxy_frame.html"},Xh={position:"absolute",width:"100%",height:"100%",left:"0",top:"0"},Qh=e=>{const t=He({},e,{RUM_WRAPPER:void 0});return encodeURI(JSON.stringify(t))},Jh={attributes:{width:"0",height:"0",hidden:""},styles:{display:"none"}},Zh={attributes:{hidden:null,width:null,height:null},styles:{display:"block"}},$h=e=>{let{iframe:t,shouldBeVisibleNow:i}=e;const r=i?Zh:Jh;Fe(t,r.attributes),Ce(t,r.styles)},eu=Sc,tu=ic({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:eu}),iu=["allow-scripts","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin"].join(" "),ru=e=>{const t=e.data;return!(!d(t)||"kill-me"!==t.type)},nu=5e3;class ou extends rc{constructor(e,t){var i,r,n;super(),this.port=e,this.commandHandlers=t,n=e=>{const t=Ie(this.port,"message",t=>{const{data:i}=t;"command"===i.type&&(this.isEventDataCommandLike(i)?e(i):this.destroy(new Qd({code:"VF_DISPATCHER_UNHANDLED_MESSAGE_EVENT",details:{eventData:i}})))});return this.addDestroyHandler(t),t},(r="listenForCommandEvents")in(i=this)?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,this.listenForNewCommands(),this.addDestroyHandler(Ie(e,"messageerror",()=>{this.destroy(new Qd({code:"VF_DISPATCHER_MESSAGE_ERROR",details:{}}))}))}executeCommand(e,t){const i=j(6),r=Eh(nu);r.promise.then(()=>{this.destroy(new Qd({code:"VF_DISPATCHER_COMMAND_DETERMINATION_TIMEOUT",details:{name:e,commandId:i}}))}).catch(U),this.addDestroyHandler(()=>r.clear());const n=this.waitForNextCommandEvent({name:e,id:i}),o=new Promise((t,o)=>{n.then(n=>{if(r.clear(),"success"===n.status)t(n.payload);else if("error"===n.status){const e=n.payload;o(Qc(e))}else{if("abort"===n.status)return;this.destroy(new Qd({code:"VF_DISPATCHER_UNHANDLED_COMMAND_STATE",details:{status:n.status,payload:n.payload,name:e,commandId:i}}))}}).catch(o)}),a=F(()=>{this.sendCommand({status:"abort",name:e,id:i,payload:void 0})});return this.sendCommand({status:"start",name:e,id:i,payload:t}),{promise:o,abort:a}}sendCommand(e){try{JSON.stringify(e.payload)}catch(t){return void this.destroy(new Qd({code:"VF_DISPATCHER_COMMAND_PAYLOAD_NON_SERIALIZABLE",details:{error:t}}))}try{this.port.postMessage(ze({},e,{type:"command"}))}catch(t){0,this.destroy(new Qd({code:"VF_DISPATCHER_SEND_ERROR",details:{error:t}}))}}async waitForNextCommandEvent(e){return new Promise(t=>{const i=this.listenForCommandEvents(r=>{r.name===e.name&&r.id===e.id&&(i(),t(r))})})}listenForNewCommands(){this.listenForCommandEvents(e=>{var t;if("start"!==e.status)return;const i=null===(t=this.commandHandlers)||void 0===t?void 0:t[e.name];if(!i)return void this.destroy(new Qd({code:"VF_DISPATCHER_NO_SUCH_COMMAND_HANDLER",details:{data:e}}));const r=this.createCommandControlDescriptor(e),n=e.payload;try{i(r,n)}catch(o){0,this.destroy(new Qd({code:"VF_DISPATCHER_HANDLER_ERROR",details:{error:o}}))}})}createCommandControlDescriptor(e){const t=new mh;let i=!1;return this.waitForNextCommandEvent(e).then(this.ignoreAfterDestroy(r=>{i||"abort"===r.status&&r.id===e.id&&(t.dispatch(void 0),i=!0,t.removeAll())})).catch(r),{resolve:r=>{if(!i)return i=!0,t.removeAll(),this.sendCommand({status:"success",name:e.name,id:e.id,payload:r})},reject:r=>{if(i)return;i=!0,t.removeAll();const n=Xc(r);return this.sendCommand({status:"error",name:e.name,id:e.id,payload:n})},subscribeForAbort:function(){return i?r:t.add(...arguments)}}}isEventDataCommandLike(e){return!!d(e)&&("command"===e.type&&(!!E(e.id)&&!!E(e.status)))}}const au=_({abort:0,canplay:0,canplaythrough:0,click:0,durationchange:0,emptied:0,ended:0,error:0,loadeddata:0,loadedmetadata:0,loadstart:0,pause:0,play:0,playing:0,progress:0,ratechange:0,resize:0,seeked:0,seeking:0,suspend:0,timeupdate:0,volumechange:0,waiting:0}),su=["src","poster"],du=_({src:0,currentTime:0,muted:0,volume:0,playbackRate:0}),cu=["video/mp4","video/webm"],lu={timeupdate:["currentTime"],durationchange:["duration"],volumechange:["volume","muted"],resize:["videoWidth","videoHeight"],ended:["ended"]},hu=_({load:0,play:0,pause:0,setAttribute:0});const uu=_({bubbles:0,cancelable:0,composed:0,defaultPrevented:0,eventPhase:0,isTrusted:0,returnValue:0,timeStamp:0,type:0}),fu=e=>{return We({},Z(md(uu,t=>[t,e[t]])),{target:null})},pu=new WeakSet;class mu extends rc{static isVideoNodeLocked(e){return pu.has(e)}constructor(e){super(),this.params=e,this.subscribeVideoNodeEvents(),Y("[OutsideApiLocalVideoNode]: set video node initial props"),this.params.handleVideoNodePropertyChange("playableMimeTypes",Z(md(cu,e=>[e,this.params.videoNode.canPlayType(e)]))),yc(_(lu),e=>{const t=lu[e];yc(t,e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])})})}callVideoNodeMethod(e,t){const{videoNode:i}=this.params;if(Le(hu,e)){if("setAttribute"===e){const[e,r=""]=t;if(!E(e))return;return Le(su,e)?i.setAttribute(e,r):void hl.error({error:new Qd({code:"VS_REMOTE_VIDEOTAG_RESTRICTED_ATTR",details:{name:e,value:r}})})}return i[e]()}hl.error({error:new Qd({code:"VF_REMOTE_VIDEOTAG_UNHANDLED_METHOD_CALL",details:{methodName:e,args:t}})})}setVideoNodeProperty(e,t){const{videoNode:i}=this.params;if(!Le(du,e))return void hl.error({error:new Qd({code:"VF_INSIDE_FRAME_REMOTE_VIDEO_TAG_PROP_NOT_ALLOWED",details:{propName:e,value:t}})});const r=e,n=i[r];xl(i,e,t),this.params.handleVideoNodePropertyChange(r,i[r]),this.addDestroyHandler(()=>{xl(i,e,n)})}subscribeVideoNodeEvents(){const{videoNode:e}=this.params;yc(au,t=>{this.addDestroyHandler(Ie(e,t,e=>{lu.hasOwnProperty(e.type)&&yc(lu[e.type],e=>{this.params.handleVideoNodePropertyChange(e,this.params.videoNode[e])}),setTimeout(this.ignoreAfterDestroy(()=>{const t=fu(e);this.params.handleVideoNodeEvent(t)}),0)}))})}}class gu extends rc{constructor(e){super(),this.params=e,Ye(this,"dispatcher",void 0),Ye(this,"localVideoNode",void 0),Ye(this,"vpaidEventBus",new mh),Ye(this,"vpaidGetterPropertyBus",new mh),Ye(this,"dispatcherCommandHandlers",{handleVpaidEvent:(e,t)=>{let{resolve:i}=e,[{eventName:r,args:n}]=t;i(),this.vpaidEventBus.dispatch({eventName:r,args:n})},updateVpaidGetterValue:(e,t)=>{let{resolve:i}=e,[{methodName:r,value:n}]=t;i(),this.vpaidGetterPropertyBus.dispatch({methodName:r,value:n})},handleVideoTagMethodCall:(e,t)=>{let{resolve:i,reject:r}=e,[{methodName:n,args:o}]=t;const a=this.localVideoNode;if(a)try{Y("[outsideAPI] call video method=["+n+"], args=["+o+"]");const e=a.callVideoNodeMethod(n,o);return ph(e)?e.then(e=>{i(e)}).catch(r):i(e)}catch(s){this.destroy(new Qd({code:"VF_REMOTE_VIDEO_TAG_CALL_ERROR",details:{error:s}}))}else this.destroy(new Qd({code:"VF_NO_REMOTE_VIDEOTAG_TO_CALL",details:{}}))},handleVideoTagPropertySet:(e,t)=>{let{resolve:i}=e,[{propName:r,value:n}]=t;i();const o=this.localVideoNode;o?Le(du,r)?(Y("[outsideAPI] set video property name=["+r+"], value=["+n+"]"),o.setVideoNodeProperty(r,n)):this.destroy(new Qd({code:"VF_REMOTE_VIDEOTAG_PROP_SET_NOW_ALLOWED",details:{propName:r,value:n}})):this.destroy(new Qd({code:"VF_NO_REMOTE_VIDEOTAG_TO_SET",details:{propName:r,value:n}}))}}),Ye(this,"handleVideoNodeEvent",e=>{const t=e.type;this.dispatcher.executeCommand("handleVideoTagEvent",[{eventName:t,event:e}])}),Ye(this,"handleVideoNodePropertyChange",(e,t)=>{Y("[outsideApi]: change VIDEO node property ["+e+"] remotely to ["+t+"]"),this.dispatcher.executeCommand("handleVideoTagPropertyChange",[{propName:e,value:t}])}),Y("[outsideApi]: init"),this.addDestroyHandler(e=>{e&&hl.error({error:e})}),this.changeFrameVisibility(!1),this.dispatcher=new ou(e.port,this.dispatcherCommandHandlers),this.addDestroyHandler(()=>this.dispatcher.destroy(void 0)),this.addDestroyHandler(Ie(e.port,"message",e=>{if(!ru(e))return;const{data:t}=e;this.destroy(new Qd({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}}))})),this.dispatcher.addDestroyHandler(e=>{this.isDestroyed||(hl.error({error:null!==e&&void 0!==e?e:new Qd({code:"VF_DISPATCHER_DIED_WITHOUT_REASON",details:{}})}),this.destroy(void 0))}),this.addDestroyHandler(()=>{this.vpaidEventBus.removeAll()})}async doGETRequest(e){Y("[outsideApi]: start get request");const t=this.dispatcher.executeCommand("doGETRequest",[e]),{responseText:i,responseStatus:r}=await t.promise;return Y("[outsideApi]: finish get request"),{responseStatus:r,responseText:i}}async loadCreative(e){Y("[outsideApi]: start loading creative"),await this.dispatcher.executeCommand("loadCreative",[e]).promise,Y("[outsideApi]: done loading creative")}async initCreative(e){Y("[outsideApi]: start init creative"),await this.dispatcher.executeCommand("initCreative",e).promise,Y("[outsideApi]: done init creative")}async callVpaidMethod(e,t){return Y("[outsideApi]: call VPAID method ["+e+"] remotely with args ["+JSON.stringify(t)+"]"),this.dispatcher.executeCommand("callVpaidMethod",[{methodName:e,args:t}]).promise}changeFrameVisibility(e){const t=this.params.frame;return Y("[outsideApi]: "+(e?"show":"hide")+" frame"),$h({iframe:t,shouldBeVisibleNow:e})}assignVideoTag(e){let{videoElement:t}=e;if(mu.isVideoNodeLocked(t))throw Y("[outsideApi]: oops, video tag is already assigned"),new Error("VAS_FRAME_VIDEOTAG_ASSIGNED_TWICE");Y("[outsideApi]: assign video tag"),this.localVideoNode=new mu({videoNode:t,handleVideoNodeEvent:this.handleVideoNodeEvent,handleVideoNodePropertyChange:this.handleVideoNodePropertyChange}),this.addDestroyHandler(()=>{var e;Y("[outsideApi]: UNassign video tag"),null===(e=this.localVideoNode)||void 0===e||e.destroy(void 0)})}listenRemoteVpaidEvents(e,t){return Y("[OutsideAPI]: add vpaid event listener eventName=["+e+"]"),this.vpaidEventBus.add(i=>{let{eventName:r,args:n}=i;e===r&&t(r,n)})}listenRemoteVpaidGetterValueChange(e){return this.vpaidGetterPropertyBus.add(t=>{let{methodName:i,value:r}=t;e(i,r)})}}const vu=async(e,t,i)=>{const r=j(6);hl.event({name:"VASFrameInitStart",probability:Ud,data:{handshakeID:r}});const o=Date.now();let a=!1;const s=new mh;s.add(()=>{a=!0}),t.add(()=>{Y("[initOutsideApi]: init aborted"),hl.event({name:"VASFrameInitAborted",probability:Ud,data:{handshakeID:r}}),s.dispatch(void 0)});const c=Ge({},Yh,{handshakeID:r}),l=(e=>{let{container:t,frameUrl:i,initialData:r}=e;const n=t.ownerDocument.createElement("iframe");return Fe(n,{name:Qh(r),sandbox:iu,src:i,marginwidth:"0",marginheight:"0",scrolling:"no",frameborder:"no",tabindex:"-1",allowtransparency:"true",hidefocus:"true"}),Ce(n,je({},Xh)),$h({iframe:n,shouldBeVisibleNow:!1}),t.appendChild(n),n})({container:e,frameUrl:Kh(),initialData:c});s.add(()=>{Y("[initOutsideApi]: remove frame"),n(l)});const h=new MessageChannel;h.port1.start(),s.add(()=>{h.port1.close()});const u=new Promise((e,t)=>{Y("[initOutsideApi]: wait for frame to load"),l.addEventListener("load",()=>{Y("[initOutsideApi]: got load event. transfer port"),l.contentWindow.postMessage({type:"init",handshakeID:r},"*",[h.port2]),e()})}),f=new Promise((e,t)=>{const i=Ie(h.port1,"message",t=>{const n=t.data;"handshake"===n.type&&n.initialData.handshakeID===r&&(Y("[initOutsideApi]: got handshake event"),i(),e())})}),p=Promise.all([u,f]),{promise:m,clear:g}=Eh(i);if(m.then(()=>{var e;hl.error({error:new Qd({code:"VAS_FRAME_INIT_TIMEOUT",details:{frameParentNodeTagName:null===(e=l.parentElement)||void 0===e?void 0:e.tagName,frameBoundingClientRect:Nh(l),handshakeID:r}})}),s.dispatch(void 0)}),p.then(()=>{g()}),s.add(()=>{g()}),await Promise.race([p,m]),a)throw new Qd({code:"VAS_FRAME_DESTROY_BEFORE_INIT",details:{}});hl.values({name:"VASFrameInitSuccess",probability:Ud,data:{handshakeID:r},labels:{},values:{timeSpent:Date.now()-o}}),l.removeAttribute("name"),t.removeAll();const v=new gu({port:h.port1,initialData:c,frame:l});return v.addDestroyHandler(()=>{Y("[initOutsideApi]: do teardown since class destroy"),hl.event({name:"VASFrameDestroy",probability:Ud,data:{handshakeID:r}}),s.dispatch(void 0)}),v.addDestroyHandler(Ie(h.port1,"message",e=>{const t=e.data;d(t)&&"destroy"===t.type&&hl.error({error:new Qd({code:"VAS_FRAME_FATAL_DESTROY",details:{reason:t.reason}})})})),Y("[initOutsideApi]: init done"),v},bu=e=>{Y("[initOutsideApi]: do init"),(e=>tu.call({propertyName:"VAS_FRAME_GLOBAL_CALLBACK",win:eu,callbackArguments:[{step:e}]}))({name:"before OutsideAPI init call",initParams:e});const{container:t,initTimeout:i}=e,r=new mh;return{initPromise:vu(t,r,i),abortInit:()=>r.dispatch(void 0)}},yu={idle:["initializing"],initializing:["initialized"]};class Au extends rc{constructor(){super(),qe(this,"initPromise",void 0),qe(this,"state",new gh({name:"idle"},(e,t)=>{const i=yu[e.name];return i&&Le(i,t.name)||hl.error({error:new Qd({code:"SINGLE_VAS_FRAME_CLASS_INVALID_TRANSITION",details:{from:e.name,to:t.name}})}),Y("SingleVASFrame: change state from ["+e.name+"] to ["+t.name+"]"),!1})),qe(this,"users",0),Y("SingleVASFrame: create instance"),this.initPromise=new Promise(e=>{this.state.add(t=>{"initialized"===t.name&&e(t.outsideApi)})}),this.state.add(e=>{"initializing"===e.name&&e.outsideApiInitPromise.then(e=>{this.state.dispatch({name:"initialized",outsideApi:e}),this.addDestroyHandler(()=>{e.destroy(void 0)})}).catch(e=>{this.destroy(e)})})}init(e){Y("SingleVASFrame: do init");const t=bu(e);this.addDestroyHandler(()=>{t.abortInit()}),this.state.dispatch({name:"initializing",outsideApiInitPromise:t.initPromise})}addUser(){if(this.isDestroyed)throw new Error("SingleVASFrameClassCannotAddUserAfterDestroy");Y("SingleVASFrame: add user from "+this.users),this.users+=1}removeUser(){Y("SingleVASFrame: remove users from "+this.users),this.users=Math.max(0,this.users-1),0===this.users&&this.destroy(void 0)}}let _u;const wu=()=>(_u||(_u=new Au).addDestroyHandler(()=>{_u=void 0}),_u),Su=async e=>{const t=wu();return(await t.initPromise).doGETRequest(e)},Eu=function(e,t){let i=e[t];if(!o(i)){const r=i;try{delete e[t],i=e[t],e[t]=r}catch(RE){}}return i}(Object,"create")?Object.create:function(e,t){function i(){}if(i.prototype=e,d(t))for(const r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);return new i},Tu=e=>e instanceof Date||"Date"===Us(e),Cu=function e(t,i){void 0===i&&(i={preserveConstructors:!0});let r=t;if(Td(t)){return t.map(t=>e(t,i))}return Tu(t)?new Date(t.getTime()):(!a(t)&&d(t)&&(r=i.preserveConstructors?Eu(t):{},h(t,(t,n)=>{r[n]=e(t,i)})),r)},Iu=["nobanner","noad"];let ku={ads:[],children:[],xmlString:""};const Pu=(e,t,i)=>{const r=Ze(e,t,i),n=parseInt(r,10);return le(n)?n:i},Ou=-1,Du=4,Ru=2147483647,Nu=-1,Mu={adLabel:0,skip:0,mute:0,play:0,timeline:0,abuse:0,loader:0},Vu=_(Mu),Bu=Oe(Mu,()=>!1),xu={controlsVisibility:{}};let Lu,Uu={sequence:0,adParameters:"",mediaFiles:[],icons:[],isNonLinear:!1,progressTrackings:[],trackingEvents:{},clickThrough:"",abuseUrl:"",duration:0,isClickable:!0,isNotReplacedBroadcastAd:!1};(function(e){e.portion="portion",e.seconds="seconds"})(Lu||(Lu={}));const Fu=lt(Lu);let Hu={showCountDown:!0,showSoundButton:!0,showLabel:!0};const ju=e=>({src:$e(e.querySelector("StaticResource")),program:Ze(e,"program"),xPosition:Pu(e,"xPosition",0),yPosition:Pu(e,"yPosition",0),width:Pu(e,"width",0),height:Pu(e,"height",0)}),zu=(e,t,i)=>{i&&"string"===typeof t&&(e.trackingEvents[t]=[...e.trackingEvents[t]||[],i])},Wu=function(e,t){let{isYandexVastUrl:i}=void 0===t?{}:t;const r=e.querySelector("VideoClicks"),n=e.querySelectorAll("MediaFile"),o=e.querySelector("Linear"),a=e.querySelector("NonLinear"),c=e.querySelector("NonLinearClickThrough"),l=e.querySelector("TrackingEvents"),h=l?l.querySelectorAll("Tracking"):[],u=s(e.querySelectorAll("Impression")),f=e.querySelectorAll("Error"),p=e.querySelector("Extensions"),m=e.querySelector("Description"),g=e.querySelectorAll("Icons Icon"),v=e.querySelector("AdParameters"),b=e.querySelector("AdSystem"),y=e.querySelector("AdTitle"),A=Cu(Uu,{preserveConstructors:!1}),_=e.querySelector("InLine"),w=e.querySelector("Wrapper"),S=Boolean(_);if(S===Boolean(w)){if(S)throw new Qd({code:i?"YANDEX_INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION":"INLINE_AND_WRAPPER_NODE_IN_ONE_AD_SECTION",details:void 0});throw new Qd({code:i?"YANDEX_NO_INLINE_OR_WRAPPER_NODE":"NO_INLINE_OR_WRAPPER_NODE",details:void 0})}if(A.sequence=function(e){const t=e.getAttribute("sequence");if(null===t)return Ou;const i=parseInt(t,10);return ft(i)?i:(hl.error({error:new Qd({code:"INCORRECT_VAST_AD_SEQUENCE_ATTRIBUTE",details:{sequenceAttr:t}})}),Ou)}(e),S&&v){const e=$e(v);A.adParameters=e;const t=tt(e);if(d(t)){A.adParametersObject=t;const e=function(e){if(!d(e))return;const{AUCTION_DC_PARAMS:t}=e;if(!d(t))return;const{data_params:i}=t;if(!d(i))return;const{misc:r}=i;if(!d(r))return;const{click_url:n}=r;if(!d(n))return;const{abuse:o}=n;return E(o)?o:void 0}(t);e&&(A.abuseUrl=e),A.playbackAdParameters=ct(t.playbackParameters).config;const i=function(e){if(!d(e))return;const{background:t}=e;return d(t)&&E(t.color)?t.color:void 0}(t);void 0!==i&&(A.backgroundColor=i),A.packshotParameters=function(e){if(!d(e))return;const t={};let i;const r=e.packshot_duration;he(r)&&(t.packshotDuration=r,i=t);const n=e.PACKSHOT_START_NOTICE_URL;E(n)&&(t.packshotStartNoticeUrl=n,i=t);const o=e.PACKSHOT_IMAGE_URL;return E(o)&&(t.packshotImageUrl=o,i=t),i}(t)}}if(w){const t=$e(e.querySelector("VASTAdTagURI"));if(!t)throw new Qd({code:i?"YANDEX_NO_VAST_AD_TAG_URI":"NO_VAST_AD_TAG_URI",details:void 0});A.vastAdTagUri=t}if(void 0!==n)for(let s=0;s<n.length;s++){const e=it(n[s]);e&&A.mediaFiles.push(e)}if(r){const e=$e(r.querySelector("ClickThrough"));e&&(A.clickThrough=e)}if(r){const e=r.querySelectorAll("ClickTracking");for(let t=0;t<e.length;t++)zu(A,"clickThrough",$e(e[t]))}for(let s=0;s<h.length;s++){const e=Ze(h[s],"event"),t=$e(h[s]);if("progress"===e){const e=Ze(h[s],"offset",""),r=ut(e);void 0!==r?A.progressTrackings.push({urls:[t],offset:r}):hl.error({error:new Qd({code:i?"YANDEX_VAST_INCORRECT_PROGRESS_OFFSET":"VAST_INCORRECT_PROGRESS_OFFSET",details:{url:t,offsetString:e}})})}else zu(A,e,t)}yc(u,e=>{zu(A,"impression",$e(e))});for(let s=0;s<f.length;s++)zu(A,"error",$e(f[s]));for(let s=0;s<g.length;s++)A.icons.push(ju(g[s]));if(p){const e=p.querySelectorAll('Extension[type="skipAd"]');for(let c=0;c<e.length;c++)zu(A,"skip",$e(e[c]));const t=p.querySelector('Extension[type="skipTime"]');if(et(t)){const e=ht($e(t));hl.event({name:"UsingSkipTimeExtensionInVast",probability:Ud,data:{skipTime:e}}),A.skipTime=ht($e(t)),A.skipTime>180&&(A.skipTime=0)}const i=p.querySelector('Extension[type="controls"]');i&&(A.imhoParams=(e=>{const t=pt({},Hu),i=e.querySelector('control[id="countdown"]');i&&(t.showCountDown="0"!==Ze(i,"layout"));const r=e.querySelector('control[id="soundbtn"]');r&&(t.showSoundButton="0"!==Ze(r,"layout"));const n=e.querySelector('control[id="adlabel"]');return n&&(t.showLabel="0"!==Ze(n,"layout")),t})(i));const r=p.querySelector('Extension[type="isClickable"]');et(r)&&(A.isClickable="0"!==$e(r)),p.querySelector('Extension[type="broadcastAdNotReplaced"]')&&(A.isNotReplacedBroadcastAd=!0);const n=p.querySelector('Extension[type="backgroundBlur"]');et(n)&&(A.backgroundBlur="1"===$e(n));const o=p.querySelector('Extension[type="OutstreamEndScreen"]');o&&(A.endScreenParams=(e=>{const t={randomBackgrounds:[]},i=e.querySelector("RandomBackgrounds");if(i){const e=i.querySelectorAll("Background");for(let i=0;i<e.length;i++){const r=Ze(e[i],"src");E(r)&&t.randomBackgrounds.push(r)}}return t})(o));const a=p.querySelector('Extension[type="CustomTracking"]'),s=a?a.querySelectorAll("Tracking"):[];for(let c=0;c<s.length;c++){const e=Ze(s[c],"event");zu(A,e,$e(s[c]))}const d=p.querySelector('Extension[type="isIndependentOnVideoElement"]');et(d)&&(A.isIndependentOnVideoElement="1"===$e(d))}if(et(m)&&(A.description=$e(m)),et(b)&&(A.adSystem=$e(b)),et(y)&&(A.adTitle=$e(y)),o){const e=Ze(o,"skipoffset","").trim();if(""!==e){const t=ht(e);isNaN(t)?Te(new Qd({code:i?"YANDEX_INCORRECT_SKIPOFFSET_FORMAT":"INCORRECT_SKIPOFFSET_FORMAT",details:{nodeValue:e}}),A.trackingEvents.error):A.skipOffset=t}const t=o.querySelector("Duration");t&&(A.duration=ht($e(t)))}if(a){if(A.isNonLinear=!0,c){const e=$e(c);e&&(A.clickThrough=e)}A.mediaFiles=jd([rt(a)],Boolean)}return A},Yu=async(e,t)=>{const i=Qe(e),r="YANDEX"===t.vastSourceType;if(!i)throw new Qd({code:r?"YANDEX_INVALID_VAST_XML":"INVALID_VAST_XML",details:{xmlString:e}});const n=i.querySelector("VAST");if(!n){const t=r?"YANDEX_NO_AD_CUSTOM_MARKER":"NO_AD_CUSTOM_MARKER",n=r?"YANDEX_VAST_TAG_NOT_FOUND":"VAST_TAG_NOT_FOUND";throw new Qd({code:Iu.indexOf(Je(i))>-1?t:n,details:{xmlString:e}})}const o=n.getAttribute("version");if(!function(e){if(!Boolean(e))return!0;if(!S(e))return!1;const t=Number(e.split(".")[0]);return!!he(t)&&t<=Du}(o))throw new Qd({code:r?"YANDEX_INCOMPATIBLE_VAST_VERSION":"INCOMPATIBLE_VAST_VERSION",details:{xmlString:e,version:o}});const a=Array.prototype.slice.call(i.querySelectorAll("VAST Ad"));if(0===a.length)return Cu(ku,{preserveConstructors:!1});const s=[],d=md(a,e=>{const i=Wu(e,{isYandexVastUrl:r}),{vastAdTagUri:n}=i;if(!n)return[i];if(t.wrapperMaxCount<=1)return hl.error({error:new Qd({code:r?"YANDEX_WRAPPER_MAX_COUNT_LIMIT":"WRAPPER_MAX_COUNT_LIMIT",details:void 0})}),[];const{adPlacementOptions:o,wrapperTimeout:a}=t,d=Eh(a),c=d.promise.then(()=>(hl.error({error:new Qd({code:r?"YANDEX_WRAPPER_LOAD_TIMEOUT":"WRAPPER_LOAD_TIMEOUT",details:{wrapperTimeout:a,vastAdTagUri:n,parsingParameters:t}})}),[])),l=Qu({url:_e({url:n,options:o}),loadParameters:mt({},t,{wrapperMaxCount:t.wrapperMaxCount-1})}).then(e=>(d.clear(),s.push(e),md(e.ads,e=>(((e,t)=>{t.mediaFiles.length&&(e.mediaFiles=[...e.mediaFiles,...t.mediaFiles]),yc(_(t.trackingEvents),i=>{e.trackingEvents[i]=[...e.trackingEvents[i]||[],...t.trackingEvents[i]||[]]}),e.clickThrough||(e.clickThrough=t.clickThrough),null===e.skipTime&&(e.skipTime=t.skipTime),null===e.skipOffset&&(e.skipOffset=t.skipOffset),e.isClickable=e.isClickable||t.isClickable,e.progressTrackings.push(...t.progressTrackings),isNaN(e.duration)&&(e.duration=t.duration),e.sequence===Ou&&(e.sequence=t.sequence),t.isNotReplacedBroadcastAd&&(e.isNotReplacedBroadcastAd=!0),!1!==e.backgroundBlur&&"boolean"===typeof t.backgroundBlur&&(e.backgroundBlur=t.backgroundBlur),t.endScreenParams&&(e.endScreenParams?((e,t)=>{e.randomBackgrounds.push(...t.randomBackgrounds)})(e.endScreenParams,t.endScreenParams):e.endScreenParams=t.endScreenParams),e.adSystem||(e.adSystem=t.adSystem),t.isIndependentOnVideoElement&&(e.isIndependentOnVideoElement=!0)})(e,i),e)))).catch(e=>(hl.error({error:new Qd({code:r?"YANDEX_WRAPPER_LOAD_ERROR":"WRAPPER_LOAD_ERROR",details:{error:e,vastAdTagUri:n,parsingParameters:t}})}),[]));return Promise.race([c,l])}),c=Ke(await Promise.all(d)),[l,h]=Xe(c,e=>e.isNonLinear),u=h.length>0;return u&&l.length>0&&hl.error({error:new Qd({code:r?"YANDEX_LINEAR_AND_NONLINEAR_IN_SINGLE_VAST":"LINEAR_AND_NONLINEAR_IN_SINGLE_VAST",details:void 0})}),{ads:u?h:l,xmlString:e,children:s}},Gu=async(e,t)=>{let i;try{await new Promise((r,n)=>{t&&t.then(r,n),i=window.setTimeout(r,e)})}finally{window.clearTimeout(i)}},qu=e=>{let{url:t,data:i,withCredentials:r=!0}=e;return new Promise((e,n)=>{const o=new XMLHttpRequest;o.open("GET",t),o.withCredentials=r,o.onerror=()=>n({reason:"error",error:new Error("XHR Error["+o.status+"]["+o.statusText+"]["+t+"]")}),o.onreadystatechange=(e=>{let{xhr:t,resolve:i}=e;return()=>{if(4!==t.readyState)return;const{status:e}=t;if(0===e)return;const{responseText:r}=t;i({responseText:r,responseStatus:e})}})({xhr:o,resolve:e});try{o.send(i)}catch(NE){NE.message="XHR Send Error["+NE.message+"]["+t+"]",n({reason:"error",error:NE})}})},Ku=e=>{let{thrownError:t,errorCode:i,errorDetails:r,timeoutCode:n,timeoutDetails:o}=e;const a=t;if("string"===typeof a.reason&&d(a.error)){const{error:e,reason:t}=a;if("error"===t)return new Qd(e,{code:i,details:r});if("timeout"===t)return new Qd(e,{code:n,details:o})}return new Qd(t,{code:i,details:r})},Xu=async e=>{let{url:t,loadParameters:i}=e;const{vastTimeout:r}=i,n=Ae(t),o="VASFrame"===i.requestMethod?Su:qu,a="boolean"!==typeof kh||kh;try{const{responseText:e,responseStatus:s}=await vt({url:t,data:null,timeout:r,doRequest:o,withCredentials:a}),d=function(e,t,i){if(200!==t)switch(e){case Ph:return"BAD_PARTNER_OR_DOMAIN_FOR_VAST_REQUEST";case Oh:return"BAD_IMP_ID_FOR_VAST_REQUEST";default:return i?"YANDEX_INVALID_VAST_RESPONSE_STATUS":"INVALID_VAST_RESPONSE_STATUS"}}(e,s,n);if(d)throw new Qd({code:d,details:{url:t,responseText:e,responseStatus:s}});return Yu(e,i)}catch(NE){const o="AD_FOX"===i.vastSourceType;let a;a=xe(NE)?NE.code:o?"ADFOX_VAST_LOAD_ERROR":n?"YANDEX_VAST_LOAD_ERROR":"VAST_LOAD_ERROR";const s=Ku({thrownError:NE,errorCode:a,errorDetails:void 0,timeoutCode:n?"YANDEX_VAST_LOAD_TIMEOUT":"VAST_LOAD_TIMEOUT",timeoutDetails:{vastTimeout:r,url:t}});return Promise.reject(s)}},Qu=async e=>{let{url:t,loadParameters:i}=e;if(!t)return Promise.reject(new Qd({code:"VAST_URL_IS_NOT_DEFINED",details:void 0}));const{vastTimeout:r}=i;hl.event({name:"VastLoadStart",probability:Ud,data:{url:t,loadParameters:i,timeout:r}});const n=Date.now(),o=await Xu({url:t,loadParameters:i});return hl.values({name:"VastLoadSuccess",probability:Ud,data:{url:t,timeout:i.vastTimeout,vast:o},labels:{},values:{timeSpent:Date.now()-n}}),o},Ju={bids:[],creatives:{},creativeUrls:{}},Zu=100,$u=(e,t)=>{for(let i=0;i<e.length;i++)if(!t(e[i],i,e))return!1;return!0};class ef extends rc{constructor(e,t,i){super(),this.adFoxParameters=e,this.adBreak=t,this.win=i,St(this,"requestPromise",void 0),St(this,"onFetchBidsStart",new mh),St(this,"postMessageRequestId",sc+"_"+j(16)),this.addDestroyHandler(()=>{this.onFetchBidsStart.removeAll()}),this.requestPromise=new Promise(e=>{this.addDestroyHandler(e)}),this.requestBids()}requestBids(){hl.event({name:"HBRequestStart",data:this.getDataForLogs()}),this.subscribeHBMessages(),this.sendBidsRequest().then(async e=>{let{timeout:t}=e;hl.event({name:"HBFetchBidsStart",data:wt({},this.getDataForLogs(),{timeout:t})});const{clear:i,promise:r}=Eh(t);throw this.addDestroyHandler(i),await r,new Qd({code:"HB_FETCH_BIDS_TIMEOUT",details:wt({},this.getDataForLogs(),{timeout:t})})}).catch(e=>{hl.errorToStats(e),this.destroy(Ju)})}subscribeHBMessages(){this.addDestroyHandler(Ie(this.win,"message",e=>{const{data:t,source:i}=e;if(!d(t)||!d(i))return;const{id:r,methodName:n}=t;if(r===this.postMessageRequestId)switch(n){case"FetchBidsStart":this.handleFetchBidsStartEventData(t.data);break;case"FetchBidsComplete":this.handleFetchBidsCompleteEventData(t.data);break;case"FetchBids":break;default:hl.error({error:new Qd({code:"HB_MESSAGE_UNKNOWN_METHOD",details:wt({},this.getDataForLogs(),{methodName:n})})})}}))}handleFetchBidsStartEventData(e){if(!d(e))return void hl.error({error:new Qd({code:"HB_MESSAGE_NON_OBJECT_DATA",details:this.getDataForLogs()})});const{timeout:t}=e;he(t)?this.onFetchBidsStart.dispatch({timeout:t}):hl.error({error:new Qd({code:"HB_MESSAGE_INVALID_START_TIMEOUT",details:wt({},this.getDataForLogs(),{timeout:t})})})}handleFetchBidsCompleteEventData(e){try{const{bids:t,creatives:i,creativeUrls:r,warnings:n}=function(e,t){const i=[];if(!Array.isArray(e))throw new Qd({code:"HB_NON_ARRAY_BIDS_DATA",details:_t({},t,{fetchedBids:e})});e.length>1&&i.push(new Qd({code:"HB_EXTRA_BIDS_DATA",details:_t({},t,{fetchedBids:e})}));const[r]=e;if(!d(r))throw new Qd({code:"HB_NON_OBJECT_BIDS_DATA",details:_t({},t,{fetchedBids:e})});const{bids:n,creatives:o,creativeUrls:a}=r;if(!Array.isArray(n)||!$u(n,d))throw new Qd({code:"HB_INVALID_BIDS_OBJECTS",details:_t({},t,{fetchedBids:e})});if(!d(o)||!$u(lt(o),S))throw new Qd({code:"HB_BIDS_INVALID_CREATIVES",details:_t({},t,{fetchedBids:e})});if(!d(a)||!$u(lt(a),S))throw new Qd({code:"HB_BIDS_INVALID_CREATIVE_URLS",details:_t({},t,{fetchedBids:e})});return{bids:n,creatives:o,creativeUrls:a,warnings:i}}(e,this.getDataForLogs()),o={bids:t,creatives:i,creativeUrls:r};yt(n),hl.event({name:"HBFetchBidsComplete",data:wt({},this.getDataForLogs(),{fetchedBidsObject:o})}),this.destroy(o)}catch(NE){hl.errorToStats(NE)}}sendBidsRequest(){const e=W(this.win),t={id:this.postMessageRequestId,methodName:"FetchBids",data:[{containerId:this.adFoxParameters.containerId,adBreakType:this.adBreak.adType}]};for(const n of e)At(wt({win:n},t));const{promise:i,clear:r}=Eh(Zu);return this.addDestroyHandler(r),new Promise((e,t)=>{i.then(()=>{const{promise:e,teardown:t}=function(e){let t;const i=Math.random(),r=new Promise(r=>{t=Ie(e,"message",e=>{let{data:n}=e;n===i&&(t(),r())}),e.postMessage(i,"*")});return{teardown:t,promise:r}}(this.win);return this.addDestroyHandler(t),e}).then(()=>{t(new Qd({code:"HB_HANDSHAKE_TIMEOUT",details:this.getDataForLogs()}))}).catch(t);const n=bt(t=>{r(),e(t)},e=>{hl.error({error:new Qd({code:"HB_START_MULTIPLE_TIMES",details:wt({},this.getDataForLogs(),{data:e})})})});this.addDestroyHandler(this.onFetchBidsStart.add(n))})}getDataForLogs(){return{adBreak:this.adBreak,adFoxParameters:this.adFoxParameters,postMessageRequestId:this.postMessageRequestId}}}const tf={Unsafe:0,Safe:0,ForceSafe:0,OnlyYandexCreatives:0},rf=_(tf),nf=M(window,"adsdksecuremode"),of=nf&&Le(rf,nf)?nf:void 0,af=e=>{let{secureMode:t,url:i}=e;const r=null!==of&&void 0!==of?of:t;return"ForceSafe"===r||"Safe"===r&&(!i||!Ae(i))},sf=["yandex.ru","yandex.com","yandex.net","yandex.com.tr","yandex.ua","yandex.by","yandex.kz","yandex.st","yandex-team.ru","yandex-team.com","yandex-team.com.ua","yandex-team.net.ua","yandex-team.com.tr","ya.ru","yandexsport.ru"],df=i(123),cf=["script","style","noscript","yatag","template","iframe","svg"];class lf{constructor(e,t,i){this.name=e,this.textContentLength=t,this.resultLength=i}}const hf=/[^\s\\]/,uf="yandex.ru yandex.com yandex.ua yandex.by yandex.kz yandex.com.tr zen.yandex.ru zen.yandex.com",ff=5e3;let pf,mf="";Ht();const gf=function(e){return void 0===e&&(e=window),e.devicePixelRatio||e.screen.deviceXDPI&&e.screen.deviceXDPI/e.screen.logicalXDPI||1},vf=new RegExp(["box-flex","box-flex-group","column-count","fill-opacity","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-height","opacity","order","z-index","zoom"].join("|"),"i"),bf=(e,t,i,r)=>{d(t)?(r=Boolean(i),h(t,(t,i)=>{Gt(e,i,t,r)})):Gt(e,t,i,r)},yf=9e3,Af=1e4,_f=function(e){return void 0===e&&(e=window),"BackCompat"===e.document.compatMode};var wf,Sf;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(wf||(wf={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(Sf||(Sf={}));const Ef=.5,Tf=e=>Math.max(0,Math.round(e)),Cf=e=>Math.round(e);class If{constructor(e,t){if(void 0===t&&(t={}),this.MIN_VISIBLE_AREA=Ef,e){this.config={};const t=function(){const e=window;let t=e.innerWidth,i=e.innerHeight;if(!t){const r=e.document.documentElement;t=r.clientWidth,i=r.clientHeight}return{width:t,height:i}}();this.set("win_width",Tf(t.width)),this.set("win_height",Tf(t.height)),this.set("pixel_ratio",gf()),this.set("bandwidth",function(e){void 0===e&&(e=window);const{navigator:t}=e,{connection:i={}}=t;if("number"===typeof i.downlink)return i.downlink;if("number"===typeof i.downlinkMax)return i.downlinkMax;if("string"===typeof i.type||"number"===typeof i.type)switch(i.type){case Sf.BLUETOOTH:return 3;case wf.CELL_2G:return.384;case wf.CELL_3G:case Sf.CELLULAR:return 2;case Sf.WIMAX:return 37;case Sf.NONE:return 0;case wf.ETHERNET:case Sf.ETHERNET:case wf.WIFI:case Sf.WIFI:case Sf.MIXED:return 10;case wf.UNKNOWN:case Sf.UNKNOWN:case Sf.OTHER:}return-1}());const i=_f();i&&this.set("quirks",i);const r=function(e){const t=qt(e),i=Kt({},t.max.rect,t.max.inner,{isFixed:t.isFixed});return i.height>=yf&&(i.height=0,i.top=i.bottom=t.origin.rect.top),i}(e);this.set("w",r.width),this.set("h",r.height);const n=Kt({},Nh(e),Wt(e));this.setLayout(n),this.setVisible(n,t),this.element=e,this.size=n,this.winSize=t}else{if(!t)throw new Error("wrong LayoutConfig constructor params");this.config=t}}set(e,t){this.config[e]=t}toString(){return JSON.stringify(this.config)}setLayout(e){const t={left:void 0===window.pageXOffset?document.documentElement.scrollLeft:window.pageXOffset,top:void 0===window.pageYOffset?document.documentElement.scrollTop:window.pageYOffset};this.set("width",Tf(e.width)),this.set("height",Tf(e.height)),this.set("left",Cf(e.left+t.left)),this.set("top",Cf(e.top+t.top))}setVisible(e,t){const{width:i,height:r,top:n,left:o,right:a,bottom:s}=e;let d=1;const c=Math.max(Math.min(a,t.width)-Math.max(o,0),0),l=Math.max(Math.min(s,t.height)-Math.max(n,0),0);i?d*=c/i:(o<0||a>t.width)&&(d=0),r?d*=l/r:(n<0||s>t.height)&&(d=0),this.set("visible",d>=this.MIN_VISIBLE_AREA?1:0),this.isFirstScreen=0===i&&0===r&&0===n&&0===o&&0===a&&0===s||this.config.top<t.height}}let kf=0;const Pf=()=>kf,Of=(e,t)=>{const i=e.toString();return"0000".substr(0,t-i.length)+i},Df=e=>{return e.getFullYear()+"-"+Of(e.getMonth()+1,2)+"-"+Of(e.getDate(),2)+"T"+Of(e.getHours(),2)+":"+Of(e.getMinutes(),2)+":"+Of(e.getSeconds(),2)+"."+Of(e.getMilliseconds(),3)+(e=>{const t=-e.getTimezoneOffset();return""+(t>=0?"+":"-")+Of(Math.floor(Math.abs(t)/60),2)+":"+Of(Math.abs(t)%60,2)})(e)},Rf=()=>Qt(1,4294967295),Nf=(e,t)=>{let i=[];try{i=e.cookie?e.cookie.split("; "):[]}catch(RE){}const r=/(%[0-9A-Z]{2})+/g;let n;for(let o=0;o<i.length;o++){const e=i[o].split("="),a=e.slice(1).join("=");try{const i=e[0].replace(r,decodeURIComponent);if(a.replace(r,decodeURIComponent),t===i){n=decodeURIComponent(a);break}}catch(RE){return}}return n};let Mf=0;const Vf=e=>{let{win:t,date:i=new Date,pr1:r,pr:n,testtag:o,isTurbo:a=Ft(t),addsSsSkipToken:s=!1,layoutConfig:d=new If,cookies:c,loaderVer:l,bundleVer:h,adSessionId:u,location:f,extid_loader:p,extid_tag_loader:m}=e;d.set("req_no",(()=>Mf++)()),d.set("ad_no",Xt());const g=ei({},(e=>{let{win:t,pr:i,date:r=new Date,pr1:n=Rf(),location:o,extid_loader:a,extid_tag_loader:s}=e;const d=Ht(t)&&t.context&&t.context.sourceUrl||void 0,c=d||t.document.referrer;return{dl:d||o||Jt(t),date:Df(r),pd:r.getDate(),pdh:t.screen.height,pdw:t.screen.width,pr1:n,pr:i,prr:c,pv:r.getHours(),pw:r.getDay(),extid_loader:void 0===a?Zt(t):a,extid_tag_loader:void 0===s?$t(t):s}})({win:t,date:i,pr1:r,pr:n,location:f,extid_loader:p,extid_tag_loader:m}),{ylv:"0."+(l||"1"),ybv:"0."+(h||"1"),ytt:o?o.toString():"","is-turbo":Number(a),"skip-token":jt(),"ad-session-id":u||Ql(),"layout-config":String(d),"enable-flat-highlight":1},c);return s&&(g["ss-skip-token-length"]=20,g["allow-repeat-ads"]=0),g},Bf=2048,xf=[/avito/],Lf=["slide","visibleAfterInit","insertAfter","insertPosition","stick","stickTo","stickyColorScheme","replayMode","preload"],Uf="an.yandex.ru/adfox",Ff="an.yandex.ru/adfox";class Hf extends rc{constructor(e){super(),this.params=e,ci(this,"loadVastPromise",void 0),ci(this,"loadingTimeoutPromise",void 0);const{promise:t,clear:i}=Eh(this.params.adBreak.vastTimeout);this.loadingTimeoutPromise=t,this.addDestroyHandler(i),this.loadVastPromise=this.processAdFoxVastLoading().catch(e=>{throw hl.errorToStats(e),this.destroy(),e})}async processAdFoxVastLoading(){const{adConfig:e,adBreak:t,adPlacementOptions:i}=this.params;let{adFoxParameters:r}=e;const{bids:n,containerId:o}=r;if(!n&&o){const i=new ef(di({},r,{containerId:o}),t,window);this.addDestroyHandler(()=>{i.destroy(Ju)});const n=await Promise.race([i.requestPromise,this.loadingTimeoutPromise.then(()=>{throw new Qd({code:"HB_VAST_LOAD_TIMEOUT",details:{adConfig:e,adBreak:t,timeout:t.vastTimeout}})})]);r=di({},r,n)}const a=await Promise.race([si({adFoxParameters:r,adPlacementOptions:i,secureMode:e.secureMode}),this.loadingTimeoutPromise.then(()=>{throw new Qd({code:"ADFOX_AD_DATA_LOADING_TIMEOUT",details:{adConfig:e,adBreak:t,adFoxParameters:r}})})]),s=await this.processLoadingAdFoxCreative(r,a);return yc(r.bids||[],e=>{let{win_notice:t}=e;t&&yc(s.ads,e=>{e.trackingEvents.creativeView||(e.trackingEvents.creativeView=[]),e.trackingEvents.creativeView.push(t)})}),hl.event({name:"AdFoxVastLoaded",data:{adConfig:e,adBreak:t,vast:s}}),this.destroy(),s}processLoadingAdFoxCreative(e,t){let{campaignId:i,vastBase64:r}=t;const{adConfig:n,adBreak:o}=this.params,{creatives:a={},creativeUrls:s={}}=e;if(r)return this.processBase64Vast(r).catch(e=>{throw new Qd({code:"ADFOX_VAST_BASE64_LOAD_ERROR",details:{adConfig:n,adBreak:o,vastBase64:r,error:e}})});const d=a[i],c=s[i];if(!d&&!c)throw new Qd({code:"HB_CREATIVE_IS_NOT_FOUND",details:{adConfig:n,adBreak:o,adFoxParameters:e,campaignId:i}});return d?this.processBase64Vast(d).catch(e=>{throw new Qd({code:"HB_VAST_BASE64_LOAD_ERROR",details:{adConfig:n,adBreak:o,vastBase64:d,error:e}})}):Qu({url:c,loadParameters:Yr({adConfig:n,adBreak:o,isAdFox:!0,adPlacementOptions:vl})}).catch(e=>{throw new Qd({code:"HB_VAST_URL_LOAD_ERROR",details:{adConfig:n,adBreak:o,vastUrl:c,error:e}})})}processBase64Vast(e){let t;try{t=Be(e)}catch(NE){throw new Qd({code:"ADFOX_VAST_BASE64_PARSING_ERROR",details:{error:NE}})}return Yu(t,Yr({adConfig:this.params.adConfig,adBreak:this.params.adBreak,isAdFox:!0,adPlacementOptions:vl}))}}const jf={AdSDKLoader:"adsdk",VpaidPlayerLoader:"interactive_viewer",OldVpaidCreative:"vpaid-creative"},zf="https://yastatic.net/awaps-ad-sdk-js/1_0/"+(jf.VpaidPlayerLoader+".js"),Wf=M(window,"adsdknovastconvertation"),Yf="https://yastatic.net/awaps-ad-sdk-js/1_0/ad_creative.js",Gf="https://yastatic.net/awaps-ad-sdk-js/1_0/overlay_creative.js",qf={OverlayTGO:Gf,MotionTGO:Yf,InteractiveElementsAdCreative:Yf,ThemeEmpty:Yf},Kf={Overlay:"overlay-creative/javascript",Motion:"motion-creative/javascript",VpaidCreative:"vpaid-creative/javascript"},Xf=ui({},gl,{bitrate:0}),Qf={OverlayTGO:"overlay_tgo",MotionTGO:"motion_ad_creative",InteractiveElementsAdCreative:"interactive_elements_ad_creative",ThemeEmpty:"theme_empty"},Jf=fi({},{InPage:"inpage",BannerAd:"banner_ad",VideoPlayer:"video_player",AdLoader:"loader",VideoBannerAd:"videobannerad",Multiroll:"multiroll",YaMusicAPI:"ya-music-api",VpaidPlayer:"vpaid_player",Rum:"rum"},Qf,{OldThemeEmpty:"video-banner_theme_empty"}),Zf=Oe(Qf,e=>"https://yastatic.net/awaps-ad-sdk-js/1_0/"+e+".js"),$f=function(e){const t={};return h(e,(e,i)=>{t[e]=i}),t}(Zf),ep=pi({},Xf,{url:Zf.InteractiveElementsAdCreative,type:Kf.Motion}),tp={OverlayTGO:"overlay",MotionTGO:"motion",InteractiveElementsAdCreative:"interactiveViewer",ThemeEmpty:"themeEmpty"},ip="https://yastatic.net/awaps-ad-sdk-js/1_0/vpaid-motion.js",rp=Ue()+"vpaid-motion.js",np=[ip,"https://yastatic.net/pcode/media/vpaid-motion.js","https://an.yandex.ru/system/video-ads-sdk/vpaid-motion.js",rp],op="https://yastatic.net/pcode/media/vpaid-creative.js",ap="https://yastatic.net/awaps-ad-sdk-js/1_0/vpaid-creative.js",sp=[op,ap],dp=["application/javascript","application/x-javascript"],cp=gi({},Xf,{type:"application/x-javascript"}),lp=vi({url:Yf},cp),hp=bi({},Xf,{url:Zf.MotionTGO,type:Kf.Motion}),up=yi({},Xf,{url:Zf.ThemeEmpty,type:Kf.VpaidCreative}),fp=15,pp=Ai({},Xf,{type:"application/x-javascript",url:Ue()+"vpaid-creative.js"});const mp="video-banner_theme_empty";i(132);const gp="AdSDKLoader"===ac,vp=Le(_({AdSDKLoader:0,VpaidPlayerLoader:0,OldVpaidCreative:0}),ac),bp="VpaidPlayerLoader"===ac,yp="1.0-"+hc,Ap=()=>{if(!vp)return;const{currentScript:e}=document;if(!e)return;const{src:t,crossOrigin:i}=e;if(!S(t))return;const r=ac,n=""+("AdSDKLoader"===r?"https://an.yandex.ru/system/video-ads-sdk/":"https://yastatic.net/awaps-ad-sdk-js/1_0/")+jf[r]+".js",o=P(Pi({},k(t),{search:"",hash:""}));(E(i)?"anonymous"===i.toLowerCase():""===i)&&(hl.event({name:"CrossOriginAnonymousLoaderScript",probability:Ud,data:{src:t,crossOrigin:String(i)}}),N('VAS script "crossorigin" attribute set to the value "anonymous". This value is NOT supported. Remove this attribute.')),o!==n&&(a(vc(window))?hl.event({name:"AbdLoaderScripsSrc",probability:Ud,data:{src:t}}):0===o.indexOf(qh)?hl.event({name:"HardcodedLoaderScriptSrc",probability:Ud,data:{src:t}}):"AdSDKLoader"===r?(N("You are using unsupported Video Ads SDK script src ["+o+"] please, use new link [https://an.yandex.ru/system/video-ads-sdk/adsdk.js]"),hl.event({name:"UnsupportedAdsdkLoaderScriptSrc",probability:Ud,data:{src:t,crossOrigin:String(i)}})):hl.event({name:"UnexpectedLoaderScripsSrc",probability:Ud,data:{src:t,expectedSrc:n,crossOrigin:String(i)}}))},_p=1e3,wp=30*(86400*_p),Sp=()=>{Date.now()-1615479186184<wp||Gu(2e3).then(()=>Di({url:"https://yastatic.net/awaps-ad-sdk-js/1_0/build_info.json",method:"GET"})).then(e=>{let{responseText:t}=e;const{version:i}=JSON.parse(t);i!==hc&&hl.warning({name:"UsingDeprecatedLoaderVersion",message:"AdSDK version you are using ("+hc+") is out of date. Actual version is "+i+"."})}).catch(e=>{hl.error({error:new Qd(e,{code:"REQUEST_BUILD_INFO_ERROR"})})})},Ep="utf-8",Tp={onBeforeLoad:e=>{e.__AD_SDK_SCRIPT_SESSION_PARAMETERS__=Yh}},Cp=(e=>(e=>{try{if("noModule"in e.HTMLScriptElement.prototype)return!0}catch(t){}return!1})(e)&&Nc(e))(window),Ip=(""+M(window,"adsdkecmaver")).toUpperCase(),kp="ES2017"===Ip||"ES5"===Ip?Ip:void 0,Pp=(()=>"ES2017"===kp?"ES2017":"ES5"===kp?"ES5":Cp?"ES2017":"ES5")(),Op=3e4,Dp={PREROLL:"preroll",MIDROLL:"midroll",PAUSEROLL:"pauseroll",OVERLAY:"overlay",POSTROLL:"postroll"},Rp={VAST_URL:"vastUrl",VAST:"vast",AD_FOX_URL:"adFoxUrl",AD_FOX_URL_VAST:"adFoxUrlVast",PARTNER_ID:"partnerId",CATEGORY:"category",TAGS_LIST:"tagsList",CHARSET:"charset",VIDEO_CONTENT_ID:"videoContentId",VIDEO_CONTENT_NAME:"videoContentName",VIDEO_PUBLISHER_ID:"videoPublisherId",VIDEO_PUBLISHER_NAME:"videoPublisherName",VIDEO_GENRE_ID:"videoGenreId",VIDEO_GENRE_NAME:"videoGenreName",EXT_PARAM:"extParam",PLAYER_INFO:"playerInfo",DURATION:"duration"},Np=window;Ui({videoAd:{debugParameters:{},get AdConfigParams(){return Np.ya&&!Np.ya.isDeploying&&hl.warning({name:"UsingDeprecatedGlobalVideoAdAdConfigParamsProperty",message:"You are using deprecated ya.videoAd.AdConfigParams property",probability:Ud}),Rp},encodeUrl:gc,loadedModules:{},loadModule:function(e){return new Promise((t,i)=>{xi({moduleName:e,version:void 0,onSuccess:t,onError:i,win:window,timeout:Op})})},skipTokens:[],modules:{},play:e=>new Promise((t,i)=>{xi({moduleName:"AdLoader",version:void 0,onSuccess:r=>{let{play:n}=r;n(e).then(t).catch(i)},onError:i,win:window,timeout:Op})}),getBundleVersion:()=>String(hc),getModuleVersion:()=>String(uc)},mediaAd:{get DOMAIN(){return Np.ya&&!Np.ya.isDeploying&&hl.warning({name:"UsingDeprecatedGlobalMediaAdDomainProperty",message:"You are using deprecated ya.mediaAd.DOMAIN property",probability:Ud}),"yastatic.net"},get SDK_VERSION(){return Np.ya&&!Np.ya.isDeploying&&hl.warning({name:"UsingDeprecatedGlobalMediaAdSdkVersionProperty",message:"You are using deprecated ya.mediaAd.SDK_VERSION property, use videoAd.getBundleVersion() instead",probability:Ud}),yp},get AdType(){return Np.ya&&!Np.ya.isDeploying&&hl.warning({name:"UsingDeprecatedGlobalMediaAdAdTypeProperty",message:"You are using deprecated ya.mediaAd.AdType property",probability:Ud}),Dp},get TrackingEventType(){return Np.ya&&!Np.ya.isDeploying&&hl.warning({name:"UsingDeprecatedGlobalMediaAdTrackingEventTypeProperty",message:"You are using deprecated ya.mediaAd.TrackingEventType property",probability:Ud}),{ERROR:"error",IMPRESSION:"impression",CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",CLOSE:"close",SKIP:"skip",CLICK_THROUGH:"clickThrough",PROGRESS:"progress",REWIND:"rewind",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION:"acceptInvitation"}},get AdConfigParams(){return Np.ya&&!Np.ya.isDeploying&&hl.warning({name:"UsingDeprecatedGlobalMediaAdAdConfigParamsTypeProperty",message:"You are using deprecated ya.mediaAd.AdConfigParams property",probability:Ud}),Rp},bannerAd:{initVideo:(e,t,i)=>{hl.event({name:"UsingDeprecatedGlobalMethodInitVideo",probability:Ud,data:void 0}),xi({moduleName:"BannerAd",version:void 0,onSuccess:r=>{r.initVideo(e,t,i)},onError:i,win:window,timeout:Op})}},inPage:{addInPageVideo:(e,t,i)=>{hl.event({name:"UsingDeprecatedGlobalMethodAddInPageVideo",probability:Ud,data:void 0}),xi({moduleName:"InPage",version:void 0,onSuccess:r=>{r.addInPageVideo(e,t,i)},onError:i,win:window,timeout:Op})}}},video:{addVideoPlayer:(e,t,i,n)=>{hl.warning({name:"UsingDeprecatedGlobalMethodAddVideoPlayer",message:"You are using deprecated HTML5VideoPlayer. Use Yandex StreamPlayer https://yandex.ru/support/video-hosting/index.html."}),xi({moduleName:"VideoPlayer",version:void 0,onSuccess:r=>{r.addVideoPlayer(e,t,i,n)},onError:r,win:window,timeout:Op})}}},"ya");const Mp=ya;if(d(rl)?hl.event({name:"UsingGlobalStatsRootField",probability:Fd,data:{statsRootParams:rl}}):Kc(nl)&&hl.error({error:new Qd({code:"GLOBAL_STATS_ROOT_FIELDS_EXTRACTION_ERROR",details:{error:nl}})}),(gp||bp)&&(Hc?hl.error({error:new Qd(Hc,{code:"VAS_UAAS_CONFIG_EXTRACTION_ERROR",details:{error:Hc}})}):Fc===Bc&&hl.error({error:new Qd({code:"VAS_UAAS_CONFIG_IS_EMPTY",details:{}})})),vp){const e=Z(md(w(jc),e=>{let[t]=e;return["flag_"+t,1]})),t={crossorigin:void 0},{currentScript:i}=document;if(i){const{crossOrigin:e}=i;E(e)&&(t.crossorigin=e.toLowerCase())}hl.values({name:"CreateLoader",data:Li({statsRootParams:rl},t),labels:{bundleName:ac},values:Li({liveTime:Date.now()-1615479186184},e)}),c(Ud)&&(xi({moduleName:"Rum",version:void 0,onSuccess:e=>{Uh.init(e)},onError:r,win:window,timeout:Op}),Uh.logBundleTiming("adsdk.js",(null===ed||void 0===ed?void 0:ed.src)||"https://an.yandex.ru/system/video-ads-sdk/adsdk.js"))}vp&&(Ap(),Sp());class Vp{static addUnit(e){Array.isArray(Mp.videoAd.skipTokens)?-1===Mp.videoAd.skipTokens.indexOf(e)&&Mp.videoAd.skipTokens.push(e):Mp.videoAd.skipTokens=[e]}static toBase64(){const e=Vp.getUnits();return e.length?Me(md(e,e=>"yabs."+e).join("\n")):void 0}static getUnits(){return Array.isArray(Mp.videoAd.skipTokens)?Mp.videoAd.skipTokens:[]}}const Bp=e=>{let{additionalParams:t,videoContentId:i,videoContentName:r,videoPublisherId:n,videoPublisherName:o,videoGenreId:a,videoGenreName:s,musicArtistId:d,musicGenreId:c,musicGenreName:l,preferableAdSize:h}=e;return ji({},Hi(t),{"video-content-id":i,"video-content-name":r,"video-publisher-id":n,"video-publisher-name":o,"video-genre-id":Fi(a),"video-genre-name":Fi(s),music_artist_id:d,"music-genre":c,"music-genre-name":l,wtime:void 0,"ad-session-id":Jl(),"pcode-icookie":zc,"pcode-test-ids":Wc,"pcode-flags":JSON.stringify(jc),"preferable-ad-size-width":h?String(h.width):void 0,"preferable-ad-size-height":h?String(h.height):void 0})},xp=e=>{let{adConfig:t,adBreak:i,random:r,win:n}=e;const{targetRef:o,width:a,height:s,tagsList:d,extParam:c,charset:l,distrId:h}=t,f=n.document.referrer,p=u(n);let m;return o?(m=o,hl.event({name:"UsingTargetRefApiParameter",data:{adConfig:t},probability:Ud})):"about:blank"===p?(m=f,hl.event({name:"UsingTargetRefAboutBlankFallback",data:{adConfig:t},probability:Ud})):m=p,Wi({},Bp(t),{"repeat-number":zi(i)?String(i.repeatNumber):void 0,wtime:zi(i)?String(Math.floor(i.timeOffset)):void 0,"target-ref":m,"page-ref":f,"video-width":a,"video-height":s,"tags-list":Fi(d),"ext-param":c,charset:l||"UTF-8","video-session-id":i.sessionId,"skip-token":Vp.toBase64(),"distr-id":h,"enable-page-options":"65536",rnd:String(r)})},Lp="Yabs Ad Server",Up=[Lp,"AWAPS","Yandex Ad Server","Yandex Advertising Partner"];let Fp;!function(e){e.js="js",e.video="video"}(Fp||(Fp={}));const Hp=function(e){return void 0===e&&(e=window),/Mobi|Android/i.test(e.navigator.userAgent)},jp=Hp(),zp={PAGEURL:encodeURIComponent(X(document).location),Y_DEVICE_TYPE:jp?"mobile":"desktop",Y_AD_SESSION_ID:Ql()},Wp=["clickThrough","close","impression","mute","skip","unmute"],Yp=e=>"VastTracking_"+e,Gp={},qp=100,Kp=0,Xp=5,Qp=e=>{const{protocol:t}=k(e);return"blob:"===t?e:Ae(e)?R(e,{[Ol]:sc,vsid:zh}):e},Jp=e=>er({},e,{url:Qp(e.url)}),Zp={width:void 0,height:void 0},$p=void 0,em={text:"",textColor:"#FFFFFF",isVisible:!1},tm=document.createElement("video"),im="function"===typeof tm.load,rm=im?function(e,t){return void 0===t&&(t=tm),Boolean(t.canPlayType(e).replace(/no/,""))}:()=>!1,nm=["application/vnd.apple.mpegurl","application/x-mpegurl"],om=window.URL||window.webkitURL||{},am="function"===typeof om.createObjectURL&&"function"===typeof om.revokeObjectURL,sm=fd(),dm=function(e){return void 0===e&&(e=window),b(e).toLowerCase().indexOf("tizen")>-1},cm=function(e){void 0===e&&(e=window);const t=hr(e);return 2===t.major&&3===t.minor},lm=dm(),hm=(cm(),function(e){void 0===e&&(e=window);const t=hr(e);2===t.major&&t.minor}(),!lm&&-1===sm&&!wd),um=e=>lr(e)&&wd||hm,fm=e=>rm(e)&&(um(e)||(e=>am&&!lr(e))(e)),pm=(ic({propertyName:"YANDEX_VIDEO_PRELOADER_GLOBAL_CALLBACK_PROPERTY_NAME",win:window}),window.URL||window.webkitURL||{});class mm{constructor(e){this.ready=!1;const{type:t}=e;if(!fm(t))return void(this.readyPromise=Promise.reject(new Error(t+" cannot be preloaded")));const i=um(t)?this.preloadWithVideoTag(e):this.preloadToBlob(e);this.readyPromise=i.then(t=>(this.ready=!0,t||e))}isReady(){return this.ready}destroy(){void 0!==this.video&&(this.video.src="",this.video=void 0),void 0!==this.xhr&&(this.xhr.abort(),this.xhr=void 0),S(this.blobUrl)&&pm.revokeObjectURL(this.blobUrl)}preloadWithVideoTag(e){const t=document.createElement("video");return this.video=t,t.preload="auto",new Promise((i,r)=>{t.oncanplaythrough=()=>i(e),t.onerror=r,t.src=e.url,t.load()})}async preloadToBlob(e){const{response:t}=await Di({method:"GET",url:e.url,responseType:"blob",onBeforeSend:e=>this.xhr=e});return{type:e.type,width:e.width,height:e.height,bitrate:e.bitrate,minBitrate:e.minBitrate,maxBitrate:e.maxBitrate,url:pm.createObjectURL(t)}}}const gm=e=>{let{src:t,win:i}=e;const r=Ii(t),{promise:n,teardown:o}=Vi({src:r?rp:t,win:i});return{promise:n.then(()=>i.getVPAIDAd),teardown:o}},vm=function(e,t){void 0===t&&(t=e=>Boolean(function(e){return e}(e)));for(let i=0;i<e.length;i++)if(t(e[i],i,e))return i;return-1},bm=1e3,ym=1,Am=1.2,_m="video/webm",wm='video/webm; codecs="vorbis,vp8"';const Sm="video/mp4",Em=4,Tm=.001,Cm=["bitrate","minBitrate","maxBitrate","width","height"],Im=9007199254740991,km=(e=>{const t=wr(e);return!!t&&Boolean(T(()=>t.isTypeSupported('video/webm; codecs="vorbis,vp8"')))})(window),Pm=wr(),Om=rm("video/webm"),Dm=km&&Om,Rm=Pm&&o(Pm),Nm=a(bc),Mm=void 0!==window.AbortController&&void 0!==window.fetch&&o(AbortController)&&o(fetch),Vm=Rm&&Mm,Bm=(e,t)=>e+"_"+t;class xm extends rc{constructor(e){let{win:t,onReport:i}=e;super();const r=t;if(void 0===r.ReportingObserver)return;const n=new r.ReportingObserver(e=>{i({reportSourceEvent:"callback",reports:e,records:n.takeRecords()})},{buffered:!0});n.observe();const o=n.takeRecords();o.length&&i({reportSourceEvent:"buffered",reports:[],records:o}),this.addDestroyHandler(Ie(t,"beforeunload",()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"beforeunload",reports:[],records:e})})),this.addDestroyHandler(()=>{const e=n.takeRecords();e.length>0&&i({reportSourceEvent:"destroy",reports:[],records:e}),n.disconnect()})}}const Lm=250;let Um=0;const Fm=[],Hm=(e,t)=>{const i=e.contentDocument.body;return Nr(()=>{var e;!Boolean(null===(e=i.ownerDocument)||void 0===e?void 0:e.defaultView)&&t()})};class jm extends rc{static create(e){const{parentElement:t,attributes:i,scope:r}=e,n=Mr(t,i);if(!n)throw Or({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new jm(Vr({},e,{iframe:n}))}static createHidden(e){const{parentElement:t,attributes:i,scope:r}=e,n=function(){const e=Mr(...arguments);if(e)return e.width="0",e.height="0",e.style.position="absolute",e}(t,i);if(!n)throw Or({scope:r,errorType:"NOT_CREATED",error:new Error,details:void 0});return new jm(Vr({},e,{iframe:n}))}constructor(e){super(),Br(this,"iframe",void 0),Br(this,"window",void 0);const{scope:t,iframe:i}=e;this.iframe=i,this.window=this.iframe.contentWindow,this.addDestroyHandler(()=>{n(i)}),this.addDestroyHandler(Hm(this.iframe,()=>{this.destroy(Or({scope:t,errorType:"WAS_UNLOADED",error:new Error,details:void 0}))})),this.addDestroyHandler(Rr(this.window,(i,r,n)=>{const o="PRELOADING_IFRAME"===e.scope?{vastAd:e.getVastAd()}:e.provideLogDetails?e.provideLogDetails():void 0;hl.error({error:Or({scope:t,errorType:r,error:i,details:Vr({},o,{error:i,data:n})})})}))}}var zm;!function(e){e.NORMAL="normal",e.THUMBNAIL="thumbnail",e.FULLSCREEN="fullscreen"}(zm||(zm={}));ic({propertyName:"AD_CREATIVE_PRELOADER_GLOBAL_CALLBACK_NAME",win:window});class Wm{constructor(e,t,i){Fr(this,"parsedParams",void 0),Fr(this,"contentType",void 0),Fr(this,"_promise",void 0),Fr(this,"_isPreloaded",!1),Fr(this,"_vpaidWindow",void 0),Fr(this,"preloaders",[]),Fr(this,"_preloadedVpaidAdParameters",void 0),Fr(this,"_preloadedVideoFile",void 0),Fr(this,"_preloadedAdCreativeInitFunction",void 0),Fr(this,"getMediaFiles",void 0),Fr(this,"getJSMediaFile",void 0),Fr(this,"getVastAd",void 0),this.parsedParams=function(e){const{videoSlot:t,viewMode:i=zm.NORMAL,preloadJS:r=!0,preloadVideo:n=!0}=e,{width:o=t.clientWidth,height:a=t.clientHeight}=e,s=at(e.desiredBitrate);let{preloadTimeout:d}=e;return("number"!==typeof d||d>Ru)&&(d=Ru),{preloadTimeout:d,width:o,height:a,desiredBitrate:s,viewMode:i,videoSlot:t,preloadJS:r,preloadVideo:n}}(e),this.contentType=t,this.getMediaFiles=i.getMediaFiles,this.getJSMediaFile=i.getJSMediaFile,this.getVastAd=i.getVastAd}get isPreloaded(){return this._isPreloaded}get promise(){return this._promise?this._promise:Promise.resolve()}get vpaidWindow(){return this._vpaidWindow}get preloadedVideoFile(){return this._preloadedVideoFile}get preloadedAdCreativeInitFunction(){return this._preloadedAdCreativeInitFunction}get preloadedVpaidAdParameters(){return this._preloadedVpaidAdParameters}destroy(e){this._promise&&hl.event({name:"PreloadCancelled",data:{reason:e},probability:Ud}),this._promise=void 0,this._vpaidWindow=void 0,yc(this.preloaders,e=>e.destroy()),this.preloaders.length=0}async preload(){this._promise=this._preload(),await this._promise,this._isPreloaded=!0}async _preload(){try{const{preloadJS:e,preloadVideo:t}=this.parsedParams,i=this.getVastAd();if(e&&this.contentType===Fp.js){if(!Lr(i))return await this._preloadVpaidCreative(this.parsedParams);const{parsed:{videoMediaFiles:e,animationMediaFile:t}}=ar(i.adParameters),r=e.length>0?this._preloadVideoFile(e,this.parsedParams):void 0,n=t?this._preloadAdCreative(t,this.parsedParams):void 0;return void(await Promise.all([r,n]))}t&&this.contentType===Fp.video&&await this._preloadVideoFile(this.getMediaFiles(),this.parsedParams)}catch(NE){yc(this.preloaders,e=>e.destroy()),this.preloaders.length=0,this._logError(NE,"CANNOT_PRELOAD")}}createHiddenIframeForPreloading(){const e=jm.createHidden({parentElement:document.body,scope:"PRELOADING_IFRAME",getVastAd:this.getVastAd}),t=e.iframe;return this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:()=>{e.destroy(void 0)}}),t}async _preloadAdCreative(e,t){const i=this.createHiddenIframeForPreloading().contentWindow;try{const{promise:t,teardown:r}=ur({animationMediaFile:e,win:i});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:r}),this._preloadedAdCreativeInitFunction=await t}catch(NE){return void this._logError(NE,"CANNOT_PRELOAD_AD_CREATIVE")}}async _preloadVpaidCreative(e){var t;const i=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["preloadTimeout"]),r=this.getJSMediaFile();if(!r)return;const n=this.createHiddenIframeForPreloading().contentWindow;this._vpaidWindow=n;try{const{promise:e,teardown:t}=gm({src:r.url,win:n});this.preloaders.push({readyPromise:Promise.resolve(),isReady:()=>!0,destroy:t}),await e}catch(NE){return this._logError(NE,"CANNOT_PRELOAD_VPAID_CREATIVE_MODULE"),void this.destroy("VpaidModuleLoadingError")}if("function"!==typeof(null===(t=n.Ya)||void 0===t?void 0:t.preloadVPAIDAd))return;const o=n.Ya.preloadVPAIDAd(Ur({},i,{creativeData:{AdParameters:this.getVastAd().adParameters}}));let a;this.preloaders.push(o);try{a=await o.readyPromise}catch(NE){return void this._logError(NE,"CANNOT_PRELOAD_VPAID_CREATIVE")}this._preloadedVpaidAdParameters=a.AdParameters}async _preloadVideoFile(e,t){let{width:i,height:r,desiredBitrate:n}=t;const{prioritisedMediaFile:o}=Pr(e,{container:{width:i,height:r},desiredBitrate:n});if(!o)return;const a=Jp(o),s=new mm(a);let d;this.preloaders.push(s);try{d=await s.readyPromise}catch(NE){return void this._logError(NE,"CANNOT_PRELOAD_VIDEO_FILE")}this._preloadedVideoFile=d}_logError(e,t){xr(e),hl.error({error:new Qd(e,{code:t})})}}class Ym{constructor(){Hr(this,"src",void 0),Hr(this,"type",void 0),Hr(this,"x",NaN),Hr(this,"y",NaN),Hr(this,"width",NaN),Hr(this,"height",NaN)}static fromVastIcon(e){const t=new Ym;return t.src=e.src,t.type=e.program,t.x=e.xPosition,t.y=e.yPosition,t.width=e.width,t.height=e.height,t}}class Gm{get contentType(){return this.getJSMediaFile()?Fp.js:Fp.video}constructor(e,t,i){this.adBreak=e,this.vastAd=t,this.adConfig=i,jr(this,"icons",void 0),jr(this,"preloadingController",void 0),jr(this,"isTrackingEventsEnabled",!0),jr(this,"duration",0),jr(this,"getMediaFiles",()=>tr(this.vastAd.mediaFiles,this.adConfig.secureMode)),jr(this,"getAdContentDimensions",()=>(function(e){let{vastAd:t,secureMode:i}=e;const{mediaFiles:r,adParameters:n,isNonLinear:o}=t;if(o)return $p;if(cr(t)){const{parsed:{videoMediaFiles:e}}=ar(n);return 0===e.length?Zp:sr(e)}const a=ir(r,i);return sr(a?[a]:tr(r,i))})({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})),jr(this,"getJSMediaFile",()=>ir(this.vastAd.mediaFiles,this.adConfig.secureMode)),jr(this,"getPreloadedAdCreativeInitFunction",()=>{var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedAdCreativeInitFunction}),this.icons=md(this.vastAd.icons,e=>Ym.fromVastIcon(e)),isNaN(this.vastAd.duration)||(this.duration=this.vastAd.duration)}trackError(e){Te(e,this.vastAd.trackingEvents.error)}removeTrackingEvents(){this.isTrackingEventsEnabled=!1}trackEvent(e,t,i){if(!this.isTrackingEventsEnabled)return void Y("eventName ("+e+") was NOT tracked in MediaAd (disabled with method removeTrackingEvents)");Y("Track event=["+e+"]");const r=this.vastAd.trackingEvents[e];Ji({eventName:e,trackingEventDetails:i,trackingUrls:Array.isArray(r)?r:[],options:t})}hasMediaFiles(){const e=this.getMediaFiles();return Boolean((null===e||void 0===e?void 0:e.length)>0)}isNotReplacedBroadcastAd(){return this.vastAd.isNotReplacedBroadcastAd}cancelPreloading(e){this.preloadingController&&(this.preloadingController.destroy(e),this.preloadingController=void 0)}isPreloaded(){return!!this.preloadingController&&this.preloadingController.isPreloaded}async preload(e){this.preloadingController||(this.preloadingController=new Wm(e,this.contentType,{getMediaFiles:this.getMediaFiles,getJSMediaFile:this.getJSMediaFile,getVastAd:()=>this.vastAd}),await this.preloadingController.preload()),void 0!==this.preloadingController&&null!==this.preloadingController&&await this.preloadingController.promise}getIfIsRequiredHtmlControls(){const{isNonLinear:e,adSystem:t}=this.vastAd;return t===Lp||e}getIsIndependentOnVideoElement(){if(this.vastAd.isNonLinear)return!0;if(function(e){let{adParametersObject:t}=e;const i=null===t||void 0===t?void 0:t.mediaFiles,r=Array.isArray(i)?i[0]:void 0;return d(r)&&r.url===hp.url}(this.vastAd))return!0;const e=this.getJSMediaFile();if(!e)return!1;if(Ii(e.url)&&Ae(e.url)){if(void 0===this.vastAd.isIndependentOnVideoElement)return hl.event({name:"MotionWithoutExtensionIsIndependentOnVideoElement",probability:Ud,data:void 0}),!0;if(!this.vastAd.isIndependentOnVideoElement)return hl.event({name:"MotionWithExtensionIsIndependentOnVideoElementFalseValue",probability:Ud,data:void 0}),!0}return void 0!==this.vastAd.isIndependentOnVideoElement&&this.vastAd.isIndependentOnVideoElement}getIsYandexCreative(){return e=this.vastAd,Le(Up,e.adSystem);var e}getPreloadVpaidWindow(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.vpaidWindow}getPreloadedVideoFile(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVideoFile}getPreloadedVpaidAdParameters(){var e;return null===(e=this.preloadingController)||void 0===e?void 0:e.preloadedVpaidAdParameters}getDuration(){return this.duration}actualizeDuration(e){this.duration!==e&&(Y("MediaAd: actualize duration previous=["+this.duration+"] next=["+e+"]"),this.duration=e)}getVpaidStartTimeout(){return this.adBreak.vpaidTimeout}getVideoStartTimeout(){var e,t;return null!==(e=null===(t=this.vastAd.playbackAdParameters)||void 0===t?void 0:t.videoTimeout)&&void 0!==e?e:this.adBreak.videoTimeout}getBufferFullTimeout(){var e,t;return null!==(e=null===(t=this.vastAd.playbackAdParameters)||void 0===t?void 0:t.bufferFullTimeout)&&void 0!==e?e:this.adBreak.bufferFullTimeout}getBufferEmptyLimit(){var e,t;return null!==(e=null===(t=this.vastAd.playbackAdParameters)||void 0===t?void 0:t.bufferEmptyLimit)&&void 0!==e?e:this.adBreak.bufferEmptyLimit}shouldShowGuiForVpaid(){return Boolean(this.vastAd.imhoParams)||cr(this.vastAd)}isClickable(){return this.vastAd.isClickable&&Boolean(this.vastAd.clickThrough)}getSkipDelayParameters(){return rr({vastAd:this.vastAd,secureMode:this.adConfig.secureMode})}isCreativeWithOwnControls(){const e=this.getJSMediaFile();return!!e&&(!this.shouldShowGuiForVpaid()&&!Ae(e.url))}}class qm{constructor(e){var t,i,r;r=void 0,(i="mediaAds")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaAds=e.sort((e,t)=>{const i=e.vastAd.sequence,r=t.vastAd.sequence;return i===r?0:i===Ou?1:r===Ou?-1:i-r})}getDuration(){return wh(this.mediaAds,(e,t)=>e+t.getDuration(),0)}getFirstMediaAd(){return this.mediaAds[0]}hasFilteredOutMediaFiles(){return eh(this.mediaAds,e=>e.vastAd.mediaFiles.length!==e.getMediaFiles().length)}preload(e){return yc(this.mediaAds,t=>{t.preload(e)}),e=>{yc(this.mediaAds,t=>{t.cancelPreloading(e)})}}}const Km=e=>{try{return"display"in zt(e)}catch(RE){return!1}},Xm=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(e=>null!==navigator.userAgent.match(e)),Qm=!0,Jm=!0,Zm=!1,$m=2;class eg extends rc{constructor(e,t){let{initialVisibility:i=Zm,threshold:r=fh,considerDocumentVisibility:n=Qm,numberOfMeasurementSteps:o=$m}=void 0===t?{}:t;super(),this.element=e,this.documentVisibilityValueSignal=new gh(Jm),this.recalculateVisibility=()=>{if(this.isDestroyed)return;const e=function(e){const t=en(e);let i=tn(t),r=rn(i,t);return y(e).forEach(e=>{const n=en(e),o=function(e,t){return{winWidth:t.winWidth,winHeight:t.winHeight,left:e.left+t.left,top:e.top+t.top,width:e.width,height:e.height}}(i,n);i=tn(o),r=rn(i,t)}),r}(this.element);this.elementVisibilityRatioValueSignal.dispatch(e)},this.refreshTotalVisibility=()=>{const e=this.elementVisibilityRatioValueSignal.getValue(),t=this.documentVisibilityValueSignal.getValue()?e:0;this.totalVisibilityValueSignal.dispatch(t>=this.threshold),this.totalVisibilityRatioValueSignal.dispatch(t)};const a=i?1:0,s=Math.max(o,$m);this.threshold=r,this.totalVisibilityValueSignal=new gh(i),this.totalVisibilityRatioValueSignal=new gh(a),this.elementVisibilityRatioValueSignal=new gh(a);const d=e.ownerDocument.defaultView.IntersectionObserver;d?this.startIntersectionObserver(d,s):this.startVisibilityCheckInterval(),n&&this.startObservingDocumentVisibility(e.ownerDocument),this.elementVisibilityRatioValueSignal.add(this.refreshTotalVisibility),this.documentVisibilityValueSignal.add(this.refreshTotalVisibility),this.addDestroyHandler(()=>{this.totalVisibilityValueSignal.removeAll(),this.totalVisibilityRatioValueSignal.removeAll(),this.elementVisibilityRatioValueSignal.removeAll(),this.documentVisibilityValueSignal.removeAll()})}getVisibility(){return this.totalVisibilityValueSignal.getValue()}getVisibilityRatio(){return this.totalVisibilityRatioValueSignal.getValue()}getDocumentVisibility(){return this.documentVisibilityValueSignal.getValue()}getElementVisibilityRatio(){return this.elementVisibilityRatioValueSignal.getValue()}onChangeVisibility(e){return this.totalVisibilityValueSignal.add(e)}onChangeVisibilityRatio(e){return this.totalVisibilityRatioValueSignal.add(e)}startIntersectionObserver(e,t){const i=[this.threshold],r=1/t;for(let o=1;o<t;o++)i.push(o*r);const n=new e(e=>{let[{intersectionRatio:t}]=e;this.elementVisibilityRatioValueSignal.dispatch(t)},{threshold:i});n.observe(this.element),this.addDestroyHandler(()=>{n.disconnect()})}startVisibilityCheckInterval(){const e=Nr(this.recalculateVisibility);this.addDestroyHandler(e);const{promise:t,clear:i}=Eh(0);t.then(this.recalculateVisibility),this.addDestroyHandler(i)}async startObservingDocumentVisibility(e){await Gu(0);const t=G(e);this.documentVisibilityValueSignal.dispatch(t);const i=ke(e,e=>{this.documentVisibilityValueSignal.dispatch(e)});this.addDestroyHandler(i)}}const tg=function(e){if(void 0===e&&(e=window),v(e)&&e.navigator){const{platform:t}=e.navigator;if(t&&/iP(hone|od|ad)/.test(t)){const t=e.navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(t)return parseInt(t[1],10)}}return-1}(),ig=Om?"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAByhFNm3RAHU27i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEj7AEAAAAAAAC5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU3Ljc2LjEwMFdBjUxhdmY1Ny43Ni4xMDBEiYhASwAAAAAAABZUrmsBAAAAAAAAYq4BAAAAAAAAWdeBAXPFgQGcgQAitZyDdW5khoZBX09QVVNWqoNjLqBWu4QExLQAg4EC4QEAAAAAAAARn4ECtYhA53AAAAAAAGJkgSBjopNPcHVzSGVhZAECOAGAuwAAAAAAH0O2dQEAAAAAAAAt54EAo4eBAACA/P/+o4eBABWA/P/+oAEAAAAAAAAPoYeBACkA/P/+daKDa3KD":"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAAMm1kYXTeBABMYXZjNTcuMTA3LjEwMABCIAjBGDghEARgjBwhEARgjBwhEARgjBwAAAMbbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAEsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAkV0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAEsAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAA1AAAEAAABAAAAAAG9bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAADgZVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAABaG1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABLHN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAQAEgICAF0AVAAAAAAH0AAAAEYwFgICABRGQVuUABoCAgAECAAAAMHN0dHMAAAAAAAAABAAAAAEAAAQAAAAAAQAABBgAAAABAAAEAAAAAAEAAAHuAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAAEAAAAAQAAACRzdHN6AAAAAAAAAAAAAAAEAAAAGAAAAAYAAAAGAAAABgAAABRzdGNvAAAAAAAAAAEAAAAsAAAAGnNncGQBAAAAcm9sbAAAAAIAAAAB//8AAAAcc2JncAAAAAByb2xsAAAAAQAAAAQAAAABAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny44My4xMDA=",rg="__yaMuffleVideoPlayPromiseOriginalPlay",ng=e=>{const t=(e=>{const{muted:t}=e;return()=>{e.muted=t}})(e),i=(e=>{const{volume:t}=e;return()=>{e.volume=t}})(e),r=(e=>{const{paused:t}=e;return()=>{t&&e.pause(),!t&&e.paused&&on(sn(e))}})(e);return()=>{t(),i(),r()}};var og;!function(e){e[e.MEDIA_ERR_CUSTOM=0]="MEDIA_ERR_CUSTOM",e[e.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",e[e.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",e[e.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",e[e.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED",e[e.MEDIA_ERR_ENCRYPTED=5]="MEDIA_ERR_ENCRYPTED"}(og||(og={}));class ag{constructor(e){this.code=0,this.message="",this.details=void 0,"number"===typeof e?this.code=e:"string"===typeof e?this.message=e:d(e)&&("number"===typeof e.code&&(this.code=e.code),"string"===typeof e.message&&(this.message=e.message),this.details=e.details),this.message||(this.message=og[this.code]||"")}}const sg=function(e){void 0===e&&(e=window);const t=b(e).toLowerCase();return t.indexOf("maple2012")>-1&&t.indexOf("smarttv")>-1};var dg;!function(e){e.AutomaticallyGenerated="AutomaticallyGenerated",e.HardcodedParams="HardcodedParams",e.IOS9OrLess="IOS9OrLess",e.HTML5VideoIsNotSupported="HTML5VideoIsNotSupported",e.WindowHasBeenActive="WindowHasBeenActive",e.RAAStopped="RAAStopped",e.OldIE="OldIE",e.MediaError="MediaError",e.NotRecognized="NotRecognized",e.YaBroAllowedToPlay="YaBroAllowedToPlay",e.TizenSmartTVModern="TizenSmartTVModern",e.Tizen23SmartTV="Tizen23SmartTV",e.WebOSSmartTV="WebOSSmartTV",e.TizenAVPlay="TizenAVPlay",e.OrsaySmartTV="OrsaySmartTV",e.PlayStationSmartTV="PlayStationSmartTV"}(dg||(dg={}));const cg=function(e){void 0===e&&(e=window);const t=b(e).toLowerCase();return t.indexOf("playstation")>-1&&t.indexOf("webmaf")>-1},lg=function(e){return void 0===e&&(e=window),b(e).toLowerCase().indexOf("web0s")>-1};var hg;!function(e){e.VideoTagPaused="VideoTagPaused",e.VideoTagPausedAfterDurationChange="VideoTagPausedAfterDurationChange",e.VideoTagPausedAfterError="VideoTagPausedAfterError",e.PauseEvent="PauseEvent",e.ProgressEvent="ProgressEvent",e.PromiseResolve="PromiseResolve",e.PromiseReject="PromiseReject",e.PlayingEvent="PlayingEvent",e.Timeout="Timeout"}(hg||(hg={}));const ug={once:!0,passive:!0};let fg=!1;const pg=-1<sm&&sm<=16,mg=hn({canPlayUnMuted:!1,canPlayMuted:!1,detectionMethod:dg.AutomaticallyGenerated}),gg=hn({canPlayUnMuted:!0,canPlayMuted:!0,detectionMethod:dg.AutomaticallyGenerated}),vg=500;class bg{constructor(e,t){let{checkSoundEnabled:i,promise:o}=t;if(this.video=e,this.stop=r,this.isStopped=!1,this.revertVideoState=r,this.getIsActiveWindow())return this.promise=Promise.resolve(ln({},gg,{detectionMethod:dg.WindowHasBeenActive})),this;if(o)return this.promise=o,this;const a=document.createElement("div");a.style.display="none";const s=ng(e),d=cn(e,()=>nn(e,{src:ig}));let c;this.revertVideoState=F(()=>{d(),e.load(),s(),n(a)}),this.promise=new Promise(async(e,t)=>{let r,n,o;if(c=t,i){const e=await this.requestAutoplayAbilityByMuted(!1);n=e.autoplayAbility,r=e.detectionMethod}else n=!1;if(!this.isStopped){if(n)o=!0;else{const e=await this.requestAutoplayAbilityByMuted(!0);o=e.autoplayAbility,r=r&&r!==e.detectionMethod?"DifferentDetectionMethods unmuted=["+r+"] muted=["+e.detectionMethod+"]":e.detectionMethod}this.isStopped||(this.revertVideoState(),this.isStopped=!0,e(hn({canPlayUnMuted:n,canPlayMuted:o,detectionMethod:r||dg.NotRecognized})))}}),this.stop=()=>{this.isStopped||(this.isStopped=!0,c(new Error("requestAutoplayAbility has been stopped")),this.revertVideoState())}}async requestAutoplayAbilityByMuted(e){const{video:t}=this;if(cn(t,()=>{t.load()}),await Gu(0),this.isStopped)return{autoplayAbility:!1,detectionMethod:dg.RAAStopped};t.muted=e,t.volume=e?0:1;const i=await new Promise(e=>{dn(t,{useProgressEvent:!0,timeoutForNonPromisePlay:vg}).then(t=>{e({autoplayAbility:!0,detectionMethod:t})}).catch(i=>{const r=function(e){const{error:t}=e;return new ag(t)}(t);r&&r.code===og.MEDIA_ERR_DECODE?setTimeout(()=>{e({autoplayAbility:!0,detectionMethod:dg.MediaError})},0):e({autoplayAbility:!1,detectionMethod:i})})});return this.isStopped?{autoplayAbility:!1,detectionMethod:dg.RAAStopped}:i}getIsActiveWindow(){const e=function(e){const{ownerDocument:t}=e;if(!t)return;const{defaultView:i}=t;return i||void 0}(this.video);if(!e)return!1;const t=function(e){const t=e.navigator;if(!t)return;const{userActivation:i}=t;if(!d(i))return;const{isActive:r,hasBeenActive:n}=i;return{isActive:r,hasBeenActive:n}}(e);return Boolean(t&&t.hasBeenActive)}}var yg;!function(e){e.PLAY="play",e.PAUSE="pause",e.BUFFERING="buffering",e.END="end"}(yg||(yg={}));const Ag={abuseUrl:""},_g=fn({},{notInterested:{reason:3,action:2},annoying:{reason:1,action:3},spam:{reason:5,action:4}},{notInterestedSocialAd:{reason:15,action:4},politicalSocialAd:{reason:16,action:4},shockingContentSocialAd:{reason:17,action:4},falseInfoSocialAd:{reason:18,action:4}}),wg=Vu,Sg=!0,Eg=!0,Tg=["https://yastatic.net/pcode/media/vpaid-pythia-survey-embed.js"],Cg=0,Ig=0,kg=Boolean(qc),Pg=2*Lm/_p;class Og{constructor(){this.isStarted=!1,this.spent=0,this.callbacks=[],this.timeoutId=0,this.recalculateTimeAndDispatchCallbacks=()=>{if(!this.isStarted)return;const e=Date.now();if(this.spent+=e-this.lastStartTime,this.lastStartTime=e,this.dispatchCallbacksByTime(),this.callbacks.length<=0)return;const{time:t}=this.callbacks[0];window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(this.recalculateTimeAndDispatchCallbacks,t-this.spent)}}start(){this.isStarted||(this.isStarted=!0,this.lastStartTime=Date.now(),this.recalculateTimeAndDispatchCallbacks())}stop(){this.isStarted&&(window.clearTimeout(this.timeoutId),this.isStarted=!1,this.spent+=Date.now()-this.lastStartTime)}getTime(){return this.isStarted?Date.now()-this.lastStartTime+this.spent:this.spent}addCallback(e,t){e<=this.getTime()&&this.isStarted?t():(this.addCallbackToArray(e,t),this.recalculateTimeAndDispatchCallbacks())}waitForTime(e){return new Promise(t=>{this.addCallback(e,t)})}addCallbackToArray(e,t){const i={time:e,callback:t};for(let r=0;r<this.callbacks.length;r++){const{time:t}=this.callbacks[r];if(t>=e)return void this.callbacks.splice(r,0,i)}this.callbacks.push(i)}dispatchCallbacksByTime(){const[e,t]=Xe(this.callbacks,e=>{let{time:t}=e;return t<=this.spent});this.callbacks=t,e.forEach(e=>{let{callback:t}=e;t()})}}const Dg=function(e){return void 0===e&&(e=window),-1!==fd(e)}(),Rg=null===tm.onwaiting,Ng=!Rg||Dg||wd?(e,t)=>{let i=0,r=!1;return Nr(()=>{const n=e.currentTime,o=e.duration,a=1/Lm;if(!e.paused){const e=i+a;r?n>e&&(t(!1),r=!1):n<e&&n!==o&&(t(!0),r=!0)}i=n})}:(e,t)=>{let i=!1;const r=Ie(e,"waiting",()=>{i||(i=!0,t(!0))},{passive:!0}),n=Ie(e,"playing",()=>{i&&(i=!1,t(!1))},{passive:!0}),o=Ie(e,"canplay",()=>{i&&(i=!1,t(!1))},{passive:!0});return()=>{r(),n(),o()}};class Mg extends rc{constructor(){super(),Tn(this,"bufferingTimeCount",void 0),Tn(this,"isPlaying",new gh(!1)),Tn(this,"isBuffering",new gh(!1)),this.bufferingTimeCount=new Og}start(e){this.isPlaying.dispatch(!0),this.addDestroyHandler(Ng(e,e=>{this.isBuffering.dispatch(e)})),this.addDestroyHandler(Ne([this.isPlaying,this.isBuffering],(e,t)=>e&&t,e=>{e?this.bufferingTimeCount.start():this.bufferingTimeCount.stop()}))}pause(){this.isPlaying.dispatch(!1)}resume(){this.isPlaying.dispatch(!0)}getBufferingTime(){return this.bufferingTimeCount.getTime()/_p}}const Vg=NaN,Bg=0,xg=20,Lg=e=>{switch(!0){case e<=1*_p:return"ReturnBackAfterClickThroughIn1Sec";case e<=2*_p:return"ReturnBackAfterClickThroughIn2Sec";case e<=10*_p:return"ReturnBackAfterClickThroughIn10Sec";case e<=60*_p:return"ReturnBackAfterClickThroughIn1Min";default:return"ReturnBackAfterClickThroughAfter1Min"}};class Ug{constructor(e){var t,i,r;r={portion:[],seconds:[]},(i="trackingUrls")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,yc(e,e=>{let{urls:t,offset:{unit:i,value:r}}=e;this.trackingUrls[i].push({urls:[...t],offset:r})})}getTrackingUrlsByPosition(e){let{duration:t,remainingTime:i}=e;if(!t||!ft(i))return[];const r=t-i,n={portion:r/t,seconds:r},o=[];return yc(Fu,e=>{const t=this.getTrackingUrlsByUnitAndOffset(e,n[e]);o.push(...t)}),o}getTrackingUrlsByUnitAndOffset(e,t){const[i,r]=Xe(this.trackingUrls[e],e=>{let{urls:i,offset:r}=e;return t>=r});return this.trackingUrls[e]=r,Ke(md(i,e=>{let{urls:t}=e;return t}))}}class Fg extends rc{get contentType(){return this.mediaAd.contentType}constructor(e){let{adDisplayController:t,mediaAd:i,adPodViewerPlaybackParams:r}=e;super(),kn(this,"adDisplayController",void 0),kn(this,"mediaAd",void 0),kn(this,"adPodViewerPlaybackParams",void 0),kn(this,"onCurrentPositionChange",new gh({duration:Vg,remainingTime:Bg},In)),kn(this,"playingState",new gh("idle",(e,t)=>"idle"===t?(hl.error({error:new Qd({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):"end"===e?("end"!==t&&hl.error({error:new Qd({code:"ATTEMPT_TO_CHANGE_PLAYING_STATE_AFTER_END",details:void 0})}),!0):e===t)),kn(this,"isCreativeStartRequested",new gh(!1)),kn(this,"onReady",new mh),kn(this,"onBeforeDestroy",new mh),kn(this,"isStarted",new gh(!1)),kn(this,"onResume",new mh),kn(this,"onPause",new mh),kn(this,"onVolumeChange",new mh),kn(this,"onImpression",new mh),kn(this,"onFirstQuartile",new mh),kn(this,"onMidpoint",new mh),kn(this,"onThirdQuartile",new mh),kn(this,"onBeforeComplete",new mh),kn(this,"onClickThrough",new mh),kn(this,"playingTimeCounter",new Og),kn(this,"shouldPlayTimeCounter",new Og),kn(this,"bufferingTimeManager",void 0),kn(this,"getAdParametersTrackingUrls",e=>{var t,i;return null===(t=this.getAdParametersObject())||void 0===t?void 0:null===(i=t.trackingEvents)||void 0===i?void 0:i[e]}),this.addDestroyHandler(e=>{this.onBeforeDestroy.dispatch(e)}),this.adDisplayController=t,this.mediaAd=i,this.adPodViewerPlaybackParams=r,this.isStarted.add(()=>{this.trackEvent("creativeView",void 0)}),this.onResume.add(()=>{this.trackEvent("resume",void 0)}),this.onPause.add(()=>{this.trackEvent("pause",void 0)});let n=0===this.getVolume();this.onVolumeChange.add(()=>{const e=0===this.getVolume();n!==e&&(this.trackEvent(e?"mute":"unmute",void 0),n=e)}),this.onImpression.addOne(()=>{this.trackEvent("impression",void 0)});const o=new Ug(i.vastAd.progressTrackings);this.onCurrentPositionChange.add(e=>{let{remainingTime:t,duration:i}=e;const r=o.getTrackingUrlsByPosition({duration:i,remainingTime:t});r.length&&Ji({eventName:"progress",trackingEventDetails:void 0,trackingUrls:r,options:this.adDisplayController.getAdPlacementOptions()})}),this.onFirstQuartile.add(()=>{this.trackEvent("firstQuartile",void 0)}),this.onMidpoint.add(()=>{this.trackEvent("midpoint",void 0)}),this.onThirdQuartile.add(()=>{this.trackEvent("thirdQuartile",void 0)}),this.bufferingTimeManager=new Mg,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.start(t.videoNode),this.playingState.add(e=>{"play"!==e?(this.shouldPlayTimeCounter.stop(),this.bufferingTimeManager.pause()):(this.shouldPlayTimeCounter.start(),this.bufferingTimeManager.resume())})}),this.isStarted.addOne(()=>{const e=(this.getDuration()+xg)*_p;this.playingTimeCounter.addCallback(e,()=>{this.trackError(new Qd({code:"TOO_LONG_PLAYING",details:{src:this.getSrc()}}))}),this.playingTimeCounter.start(),this.onPause.add(()=>{this.playingTimeCounter.stop()}),this.onResume.add(()=>{this.playingTimeCounter.start()}),this.addDestroyHandler(()=>{this.playingTimeCounter.stop()})}),this.isStarted.add(()=>{this.playingState.dispatch("play")}),this.onPause.add(()=>{this.playingState.dispatch("pause")}),this.onResume.add(()=>{this.playingState.dispatch("play")}),this.addDestroyHandler(()=>{this.playingState.dispatch("end")}),this.onBeforeComplete.add(()=>{this.trackEvent("beforeComplete",void 0)}),this.addDestroyHandler(e=>{let{reason:t}=e;"complete"!==t&&"skip"!==t&&"close"!==t||this.trackEvent(t,void 0)}),this.addDestroyHandler(()=>{this.isStarted.removeAll(),this.onResume.removeAll(),this.onPause.removeAll(),this.playingState.removeAll(),this.onCurrentPositionChange.removeAll(),this.onFirstQuartile.removeAll(),this.onMidpoint.removeAll(),this.onThirdQuartile.removeAll(),this.onVolumeChange.removeAll()})}trackEvent(e,t){this.adDisplayController.onAdPodTrackingEvent.dispatch(e),this.mediaAd.trackEvent(e,this.adDisplayController.getAdPlacementOptions(),t)}trackAdParametersEvent(e,t){const i=this.getAdParametersTrackingUrls(e);Array.isArray(i)&&(Y("Track event=["+e+"]"),Ji({eventName:e,trackingEventDetails:t,trackingUrls:i,options:this.adDisplayController.getAdPlacementOptions()}))}trackStartEvent(){this.isCreativeStartRequested.getValue()||hl.error({error:new Qd({code:"TRACK_START_BEFORE_PLAY",details:{isVPAID:this.mediaAd.contentType===Fp.js}})});let e=this.shouldPlayTimeCounter.getTime();e<0&&(e=ul),this.trackEvent("start",{timeToStart:e})}trackError(e){this.mediaAd.trackError(e)}clickThrough(e){var t=this;void 0===e&&(e={});const{playerHandles:i=!0}=e,{clickThroughUrl:r}=this.adPodViewerPlaybackParams;let n;e.url?n=e.url:r&&(hl.event({name:"UsingPresetClickThroughUrl",data:{clickThroughUrl:r}}),n=r);const{pauseOnClickThrough:o,clickThroughConfirmation:a}=this.adDisplayController.config,{clickThroughCallback:s}=this.adDisplayController.config;if(!Boolean(s||n)||!i)return void this.trackEvent("clickThrough",void 0);n&&(n=_e({url:Cn(n),options:this.adDisplayController.getAdPlacementOptions()}));const d=F((function(i){void 0===i&&(i=!1);const r=Date.now(),a=t.adDisplayController.getPaused(),d=o&&!a;if(d&&t.pause(),i){const e=ke(window.document,i=>{if(!i)return;d&&t.resume();const n=Date.now()-r;t.trackAdParametersEvent("returnAfterClickThrough",{timeSpentBeforeReturn:n});const o=Lg(n);hl.event({name:o,data:{timeSpentBeforeReturn:n}}),e()});t.addDestroyHandler(e)}t.trackEvent("clickThrough",void 0),t.onClickThrough.dispatch({adWasPaused:Boolean(o)}),s&&Hd&&hl.event({name:"ClickThroughCallbackHandle",probability:Ud,data:{clickThroughParams:e,url:n,pauseOnClickThrough:o}})}));if(s)a||d(),s({url:n,onHandle:d}),hl.event({name:"ClickThroughCallbackCall",probability:Ud,data:{clickThroughParams:e,url:n,pauseOnClickThrough:o}});else{null!==window.open(n,"_blank")&&d(!0)}}isClickable(){return Boolean(this.adPodViewerPlaybackParams.isClickable)}getBufferingTime(){return this.bufferingTimeManager.getBufferingTime()}isVpaidAdPodViewer(){return void 0!==this.mediaAd.getJSMediaFile()}isNonLinear(){return this.mediaAd.vastAd.isNonLinear}isAdaptive(){if(!this.isVpaidAdPodViewer())return!1;if(this.isNonLinear())return!1;return this.mediaAd.getIsIndependentOnVideoElement()}getAdContentSize(){if(this.isNonLinear())return $p;if(this.isAdaptive())return Zp;const e={width:this.getAdWidth(),height:this.getAdHeight()};return e.height!==Cg&&e.width!==Ig?e:void 0}getDesiredBitrate(){const{desiredBitrate:e=Nu}=this.adDisplayController;return e}getAdParameters(){const e=this.mediaAd.getPreloadedVpaidAdParameters();return e||this.mediaAd.vastAd.adParameters}getAdParametersObject(){return this.mediaAd.vastAd.adParametersObject}}const Hg=640,jg=480;class zg extends Fg{constructor(e){super(e),Pn(this,"preferredSource",void 0),Pn(this,"videoNodeController",void 0),Pn(this,"curtain",void 0),Pn(this,"startTracked",!1),Pn(this,"makeVideoClickable",this.ignoreAfterDestroy(()=>{const{videoNode:e,wrapperNode:t}=this.adDisplayController,i=()=>{const{clickThroughUrl:e}=this.adPodViewerPlaybackParams;hl.event({name:"VideoElementClick",data:{clickThroughUrl:e}}),e&&this.clickThrough({url:e})};this.addDestroyHandler(this.videoNodeController.onClick.add(i)),this.addDestroyHandler(Ie(t,"click",e=>{e.target===t&&i()})),An(e)&&this.isClickable()&&(kg||(this.addDestroyHandler(Xr(e,{cursor:"pointer"})),this.addDestroyHandler(Xr(t,{cursor:"pointer"}))))})),Pn(this,"setAdMediaFile",F(e=>{this.preferredSource=e,this.videoNodeController.setSrc(e),this.onReady.dispatch(void 0)})),Pn(this,"getVideoMediaFileToPlay",F(()=>{const{width:e,height:t}=this.getVideoSize();let i=this.mediaAd.getPreloadedVideoFile();const r=this.mediaAd.getMediaFiles();if(i||(i=Pr(r,{container:{width:e,height:t},desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),i)return i}));const{adDisplayController:t}=e;this.videoNodeController=t.videoNodeController,this.videoNodeController.isFullscreen()&&this.trackEvent("fullscreen",void 0);const i=()=>{this.videoNodeController.isFullscreen()?this.trackEvent("fullscreen",void 0):this.trackEvent("exitFullscreen",void 0)};this.videoNodeController.fullscreenApi.addHandler(i),this.addDestroyHandler(()=>{this.videoNodeController.fullscreenApi.removeHandler(i),this.curtain&&n(this.curtain)}),this.isStarted.addOne(this.makeVideoClickable);const{adPodViewerPlaybackParams:r}=this,o=new Error,{videoTimeout:a}=r;this.shouldPlayTimeCounter.addCallback(a,()=>{this.isStarted.getValue()||this.destroy({reason:"error",details:new Qd(o,{code:"VIDEO_TIMEOUT",details:{timeout:a,src:this.getSrc(),config:t.config,viewerPlaybackParams:r}})})})}resume(){this.playingState.dispatch("play"),this.videoNodeController.play()}play(e){void 0===e&&(e=!0),this.isDestroyed&&hl.error({error:new Qd({code:"PLAY_VIDEO_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause");const t=this.getVideoMediaFileToPlay();if(t)this.setAdMediaFile(t),e?this.isCreativeStartRequested.getValue()?this.resume():this.start():this.addDestroyHandler(this.videoNodeController.onPlay.addOne(()=>{if(this.isCreativeStartRequested.getValue())return;this.videoNodeController.videoNode.currentSrc===this.preferredSource.url&&(hl.event({name:"StartVideoAdByVideoPlay",data:void 0}),this.start())}));else{const e=this.mediaAd.getMediaFiles();this.destroy({reason:"error",details:new Qd({code:1===e.length?"CANNOT_PLAY_SINGLE_VIDEO_MEDIA_FILE":"NO_APPROPRIATE_VIDEO_SOURCE",details:{mediaFiles:e}})})}}pause(){this.playingState.dispatch("pause"),this.videoNodeController.pause()}skipAd(){this.destroy({reason:"skip",details:void 0})}getAdSkippableState(){const{skipDelay:e}=this.adPodViewerPlaybackParams;return e>0&&this.getCurrentTime()>e}getAdWidth(){var e,t;const i=this.videoNodeController.videoNode;return i.videoWidth>0?i.videoWidth:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.width)&&void 0!==e?e:Ig}getAdHeight(){var e,t;const i=this.videoNodeController.videoNode;return i.videoHeight>0?i.videoHeight:null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.height)&&void 0!==e?e:Cg}getCurrentTime(){return this.videoNodeController.getCurrentTime()}getAdRemainingTime(){if(this.isDestroyed)return 0;const e=this.getDuration();return this.isCreativeStartRequested.getValue()?e-this.videoNodeController.getCurrentTime():e}getDuration(){const e=this.mediaAd.getDuration();return!this.isStarted.getValue()||this.isDestroyed?e:this.videoNodeController.getDuration()||e}getSrc(){var e,t;return null!==(e=null===(t=this.preferredSource)||void 0===t?void 0:t.url)&&void 0!==e?e:""}setMuted(e){this.videoNodeController.setMuted(e)}getVolume(){return this.adDisplayController.videoNodeController.getVolume()}setVolume(e){this.videoNodeController.setVolume(e)}resizeAd(e,t,i){void 0===i&&(i=zm.NORMAL)}subscribeEvents(){this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.onPlayAfterPause.add(()=>{this.startTracked&&this.onResume.dispatch(void 0)})),this.addDestroyHandler(this.videoNodeController.playingState.add(e=>{"pause"===e&&this.onPause.dispatch(void 0)}));const{bufferEmptyLimit:e}=this.adPodViewerPlaybackParams;this.addDestroyHandler(_n({videoNodeController:this.videoNodeController,bufferEmptyLimit:e,callback:()=>{const t=new Qd({code:"BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:e}});this.destroy({reason:"error",details:t})}}));const{bufferFullTimeout:t}=this.adPodViewerPlaybackParams;this.addDestroyHandler(wn({videoNodeController:this.videoNodeController,bufferFullTimeout:t,callback:()=>{this.destroy({reason:"error",details:new Qd({code:"BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:t}})})}})),this.addDestroyHandler(this.videoNodeController.onError.add(e=>{this.destroy({reason:"error",details:e})})),this.addDestroyHandler(En({videoNodeController:this.videoNodeController,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:void 0,callbacks:{AdStarted:()=>{this.startTracked=!0,this.isStarted.dispatch(!0),this.trackStartEvent(),this.onImpression.dispatch(void 0)},AdVideoFirstQuartile:()=>this.onFirstQuartile.dispatch(void 0),AdVideoMidpoint:()=>this.onMidpoint.dispatch(void 0),AdVideoThirdQuartile:()=>this.onThirdQuartile.dispatch(void 0),AdVideoBeforeComplete:()=>this.onBeforeComplete.dispatch(void 0),AdVideoComplete:()=>{this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:!0}})}}}));const i=this.videoNodeController.currentPosition.add(e=>{let{currentTime:t,duration:i}=e;if(i>0)this.mediaAd.actualizeDuration(i);else{const e=this.mediaAd.getDuration();if(!e)return;i=e}this.onCurrentPositionChange.dispatch({duration:i,remainingTime:i-t})});this.addDestroyHandler(()=>{i()})}start(){this.isCreativeStartRequested.dispatch(!0),this.subscribeEvents(),this.videoNodeController.setSeekAllowed(!1),this.addDestroyHandler(this.videoNodeController.onSeekRestore.add(()=>{hl.event({name:"RestoreSeek",data:{},probability:Ud})})),this.addDestroyHandler(()=>{this.videoNodeController.setSeekAllowed(!0)}),this.videoNodeController.play(),this.videoNodeController.setVisibleControls(!1)}getVideoSize(){const e=this.videoNodeController.getWidth(),t=this.videoNodeController.getHeight();if(e&&t)return{width:e,height:t};const{width:i,height:r}=this.adDisplayController.slotSize.getValue();return i&&r?{width:i,height:r}:{width:Hg,height:jg}}}const Wg=-1,Yg=-1,Gg=-2,qg=!1,Kg={handshakeVersion:"2.0",getAdDuration:-2,getAdRemainingTime:Gg,getAdVolume:ml,getAdIcons:!1,getAdExpanded:!1,getAdHeight:Cg,getAdWidth:Ig,getAdLinear:!0,getAdSkippableState:qg},Xg=Dn({},{startAd:void 0,stopAd:void 0,skipAd:void 0,resizeAd:void 0,pauseAd:void 0,resumeAd:void 0,expandAd:void 0,collapseAd:void 0,subscribe:void 0,unsubscribe:void 0,setAdVolume:void 0},{initAd:void 0}),Qg=Dn({},Kg,Xg),Jg={adLinear:0,adWidth:0,adHeight:0,adExpanded:0,adSkippableState:0,adRemainingTime:0,adDuration:0,adVolume:0,adIcons:0},Zg={adLinear:"getAdLinear",adWidth:"getAdWidth",adHeight:"getAdHeight",adExpanded:"getAdExpanded",adSkippableState:"getAdSkippableState",adRemainingTime:"getAdRemainingTime",adDuration:"getAdDuration",adVolume:"getAdVolume",adIcons:"getAdIcons"},$g={adVolume:"setAdVolume"},ev={getAdUnitId:0};class tv{setTimeout(e,t){const i=window.setTimeout(e,t);return()=>window.clearTimeout(i)}now(){return Date.now()}}class iv{constructor(e,t){void 0===t&&(t=new tv),this.distributionFunction=e,this.clock=t,this.stopped=!0,this.lastNow=0,this.lastTimeout=0,this.restTime=0,this.destroyed=!1,this.isFirstKnock=!0,this.count=0}setEnabled(e){return e?this.start():this.stop(),this}stop(){return this.stopped||(this.stopped=!0,this.cancelTimeout(),this.restTime=Math.max(this.restTime-(this.clock.now()-this.lastKnockTime),0)),this}start(){return this.stopped&&!this.destroyed&&(this.stopped=!1,this.lastKnockTime=this.clock.now(),this.cancel=this.clock.setTimeout(()=>{this.knock(this.lastNow+this.lastTimeout)},this.restTime)),this}destroy(){this.cancelTimeout(),this.stopped=!0,this.destroyed=!0}knock(e){this.lastNow=e,this.lastKnockTime=this.clock.now(),this.isFirstKnock?this.isFirstKnock=!1:this.count++;const t=this.restTime=this.lastTimeout=this.distributionFunction({time:e,count:this.count});this.stopped||this.destroyed||(this.cancel=this.clock.setTimeout(()=>{this.knock(e+t)},t))}cancelTimeout(){this.cancel&&this.cancel(),this.cancel=void 0}}const rv=10,nv="Yandex creative cannot be played in a third-party environment, use Video Ads SDK https://yandex.ru/dev/video-sdk/",ov={AdSkipped:"skip",AdStarted:"creativeView",AdImpression:"impression",AdVideoFirstQuartile:"firstQuartile",AdVideoMidpoint:"midpoint",AdVideoThirdQuartile:"thirdQuartile",AdVideoComplete:"complete",AdClickThru:"clickThrough",AdUserAcceptInvitation:"acceptInvitation",AdUserMinimize:"collapse",AdUserClose:"close",AdPaused:"pause",AdPlaying:"resume"},{initMoatTracking:av}=i(133),sv=_({AdLoaded:0,AdStarted:0,AdStopped:0,AdSkipped:0,AdSkippableStateChange:0,AdSizeChange:0,AdLinearChange:0,AdDurationChange:0,AdExpandedChange:0,AdRemainingTimeChange:0,AdVolumeChange:0,AdImpression:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0,AdVideoComplete:0,AdClickThru:0,AdInteraction:0,AdUserAcceptInvitation:0,AdUserMinimize:0,AdUserClose:0,AdPaused:0,AdPlaying:0,AdLog:0,AdError:0}),dv=180,cv=320*dv,lv=160,hv=300*lv;class uv extends rc{constructor(e){var t;super(),Vn(this,"onResize",void 0),Vn(this,"resizeObserverCallback",e=>{let[{contentRect:{width:t,height:i}}]=e;this.onResize.dispatch({width:t,height:i})}),Vn(this,"getElementWindow",e=>{var t;return(null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||null});const i=Nh(e);this.onResize=new gh({width:i.width,height:i.height},(e,t)=>{let{width:i,height:r}=t;return e.width===i&&e.height===r}),this.addDestroyHandler(()=>{this.onResize.removeAll()});const r=this.getElementWindow(e),n=null!==(t=null===r||void 0===r?void 0:r.ResizeObserver)&&void 0!==t?t:window.ResizeObserver;if("undefined"!==typeof n&&o(ResizeObserver))try{const t=new n(this.resizeObserverCallback);t.observe(e),this.addDestroyHandler(()=>{t.disconnect()})}catch(NE){this.fallbackToCustomDetectionMethods(e)}else this.fallbackToCustomDetectionMethods(e)}getSize(){return Mn({},this.onResize.getValue())}fallbackToCustomDetectionMethods(e){const t=this.getElementWindow(e);if(!t)return;const i=()=>{const t=Nh(e);this.onResize.dispatch({width:t.width,height:t.height})};this.addDestroyHandler(Ie(t,"resize",i,{passive:!0})),this.addDestroyHandler(Nr(i))}}const fv={height:0,width:0},pv=function(e){if(void 0===e&&(e=window),void 0===e.screen)return fv;const{width:t=fv.width,height:i=fv.height}=e.screen;return{width:t,height:i}};var mv,gv;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.ETHERNET=1]="ETHERNET",e[e.WIFI=2]="WIFI",e[e.CELL_2G=3]="CELL_2G",e[e.CELL_3G=4]="CELL_3G"}(mv||(mv={})),function(e){e.BLUETOOTH="bluetooth",e.CELLULAR="cellular",e.ETHERNET="ethernet",e.MIXED="mixed",e.NONE="none",e.OTHER="other",e.UNKNOWN="unknown",e.WIFI="wifi",e.WIMAX="wimax"}(gv||(gv={}));class vv{constructor(){var e=this;Un(this,"events",{}),Un(this,"subscribe",(e,t,i)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");let r=this.events[t];void 0===r&&(r=this.events[t]=[]),r.push({callback:e,context:i})}),Un(this,"unsubscribe",(e,t)=>{if("string"!==typeof t)throw new Error("Event name MUST be a string");if("function"!==typeof e)throw new Error("Event listener MUST be a function");const i=this.events[t];i&&(this.events[t]=jd(i,t=>{let{callback:i}=t;return e!==i}))}),Un(this,"dispatch",(function(t){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];if("string"!==typeof t)throw new Error("Event name MUST be a string");const o=e.events[t];o&&yc(o,e=>{let{callback:i,context:n}=e;try{i.apply(n,r)}catch(RE){hl.error({error:new Qd(RE,{code:"VpaidEventBusCallbackError",details:{vpaidEventName:t,params:r}})})}})}))}}i(134);const bv=WBViewAbility,yv=8,Av={id1:"",id2:"",id5:"",id7:"",id9:""},_v=e=>R("https://pixel.adlooxtracking.com/ads/ic.php",(e=>{let{id1:t,id2:i,id5:r,id7:n,id9:o}=e;return{_:String(Math.random()),type:"pixel",plat:"206",tag_id:"1251",client:"yandex",id1:t,id2:i,id3:"",id4:"",id5:r,id7:n,id9:o,id11:"$ADLOOX_WEBSITE",id12:"video-pixel"}})(e)),wv="https://yastatic.net/pcode-static/measurers/35/video/adloox.js",Sv="https://verify.yandex.ru/verify_adloox?platformid=3&platform=206",Ev=Pc.split("/"),Tv=Ev[Ev.length-1],{initMoatTracking:Cv}=i(135),Iv={AdStopped:0,AdVideoStart:0,AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoComplete:0,AdPaused:0,AdPlaying:0,AdVolumeChange:0},kv="yandexhostedvideo786420153684",Pv=async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;await Ni({src:"https://yastatic.net/pcode-static/measurers/1/main.js",win:window}).promise,verify(i,{vpaidCreative:t,measurerParameters:r})},Ov={adriver:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;const n=i.ownerDocument.defaultView;await Ni({win:n,src:"https://yastatic.net/pcode-static/measurers/28/video/adriver.js"}).promise,new n.AdriverViewabilityYandexVPAID(Hn({},r,{ya_custom:"ADSID="+sc}),i,t),Y("adriver measurer loaded")},moat:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n}=e;const o=Cv(i,jn({},r,{zMoatADID:sc,slicer1:Tv,partnerCode:kv}),t.getAdDuration(),kv);yc(_(Iv),e=>{t.subscribe(()=>{try{o.dispatchEvent({type:e,adVolume:t.getAdVolume()})}catch(NE){n(new Qd({code:"MOAT_DISPATCH_EVENT_ERROR",details:{error:NE,eventName:e}}))}},e)})},adloox:async function(e){let{vpaidCreative:t,slot:i,measurerParameters:r,onMeasurerError:n}=e;var o;const a=Fn({},r,{targetelt:((o=i).id||(o.id=j(yv)),o.id),urli:Sv,urlv:Sv,urle:Sv},{id8:sc}),s=wh(w(a),(e,t,i)=>{let[r,n]=t;return"string"!==typeof n?e:e+(0===i?"#":"&")+r+"="+encodeURIComponent(n)},"");t.subscribe(()=>{const e=""+wv+s;Se(_v(Fn({},Av,a))),Ni({win:i.ownerDocument.defaultView,src:e}).promise.catch(e=>{n(new Qd({code:"ADLOOX_SCRIPT_LOADING_ERROR",details:{error:e}}))})},"AdStarted")},admetrica:Pv,sizmek:Pv,weborama:async e=>{let{vpaidCreative:t,slot:i,measurerParameters:r}=e;const n=i.ownerDocument.defaultView;await Ni({win:n,src:"https://yastatic.net/pcode-static/measurers/42/video/weborama.js"}).promise,new n.WBMeasurerV(i,t,JSON.stringify(zn({},r,{siteid:sc}))),Y("weborama measurer loaded")}},Dv=3e4,Rv=_(Ov),Nv={1:[],2:[],3:[],5:[]};class Mv extends rc{constructor(e,t,i){var r;super(),r=this,this.vpaidCreative=e,this.parameters=t,this.callbacks=i,Zn(this,"playingStateValueSignal",new gh(!1)),Zn(this,"bufferingTimeManager",void 0),Zn(this,"slotVisibilityStateValueSignal",new gh(!1)),Zn(this,"slotHoverStateValueSignal",new gh(!1)),Zn(this,"vpaidInitParameters",void 0),Zn(this,"measurerStartParameters",void 0),Zn(this,"shouldPlayTimeCounter",new Og),Zn(this,"lastVolume",void 0),Zn(this,"vpaidEventBus",new vv),Zn(this,"isVisibilityConfirmed",!1),Zn(this,"initMeasurableParameters",F(e=>{const t=e[4];if(!d(t))throw new Qd({code:"VPAID_MEASURER_INVALID_CREATIVE_DATA",details:void 0});const{AdParameters:i}=t,r=e[5];if(!d(r)||!d(r.slot))throw new Qd({code:"VPAID_MEASURER_INVALID_ENVIRONMENT_VARS",details:void 0});const{slot:n,videoSlot:o,yandexAdPlaybackParams:a}=r;this.bufferingTimeManager.start(o);const{parameters:s,errors:c}=function(e){if(!e)return{parameters:void 0,errors:[new Qd({code:"AD_PARAMETERS_ABSENT_IN_MEASURER",details:{adParametersString:e}})]};let t={};try{t=JSON.parse(e)}catch(NE){return{parameters:void 0,errors:[new Qd({code:"INVALID_AD_PARAMETERS_JSON_IN_MEASURER",details:{adParametersString:e}})]}}const{viewability:i,encounters:r,dwell:n,start:o,trackingEvents:a,viewedComplete:s,weborama:d,moat:c}=t,{measurers:l,errors:h}=qn(t);return{parameters:{measurers:l,viewability:Kn(i),dwell:Kn(n),trackingEvents:ot(nt(a),{encounters:Wn(r),viewedComplete:Wn(s),start:Wn(o)}),weborama:d,moat:Qn(c),skipAdSdkDetect:Xn(t)},errors:h}}(i);if(yc(c,this.callbacks.onExecutionError),!s)throw new Qd({code:"VPAID_MEASURER_AD_PARAMETERS_ERROR",details:{adParameters:i}});const{skipAdSdkDetect:l}=s;if(!d(a)){const e=new Qd({code:l?"LEGAL_DIRECT_AD_PLAYING":"ILLEGAL_DIRECT_AD_PLAYING",message:nv,details:{adParameters:i}});if(this.callbacks.onExecutionError(e),!l)throw e}this.vpaidInitParameters={slot:n,videoSlot:o,adParameters:s},this.initMeasurers()})),Zn(this,"initMeasurers",F(()=>{const{vpaidInitParameters:e,measurableVpaidCreative:t}=this;if(!e||!t)return this.callbacks.onExecutionError(new Qd({code:"ATTEMPT_TO_INIT_MEASURERS_WITHOUT_PARAMETERS",details:{measurableVpaidExists:Boolean(t),vpaidInitParametersExist:Boolean(e)}})),Promise.resolve();const{adParameters:{measurers:i,weborama:r,moat:n},slot:o}=e;if(r&&"string"===typeof r.wbStatData)try{(new bv).init(o,r.wbStatData,t)}catch(NE){this.callbacks.onExecutionError(new Qd(NE,{code:"WEBORAMA_INIT_ERROR",details:void 0}))}if(n){const{partnerCode:e,ids:i}=n;try{!function(e,t,i,r){av(e,t,i,r)}(t,o,i,e)}catch(NE){this.callbacks.onExecutionError(new Qd(NE,{code:"INIT_MOAT_TRACKING_ERROR",details:{ids:i,partnerCode:e}}))}}return Promise.all(md(_(i),async e=>{const r=i[e],n=Ov[e];try{await n({vpaidCreative:t,slot:o,measurerParameters:r,onMeasurerError:e=>{this.callbacks.onExecutionError(e)}}),this.callbacks.onInitMeasurer({measurerName:e,measurableVpaidCreative:t,slot:o,measurerParameters:r})}catch(NE){this.callbacks.onExecutionError(new Qd({code:"MEASURER_INIT_ERROR",details:{measurerName:e,measurerParameters:r,error:new Kd(NE)}}))}}))})),Zn(this,"trackEncounters",F(e=>{this.vpaidInitParameters?(this.isVisibilityConfirmed=!0,this.trackEvent("encounters",this.getTrackingUrlsByTrackingEventName("encounters"),{reason:e}),this.vpaidEventBus.dispatch("AdImpression"),this.trackEvent("impression",this.getTrackingUrlsByTrackingEventName("impression"),void 0)):this.callbacks.onExecutionError(new Qd({code:"VPAID_MEASURER_CANNOT_TRACK_ENCOUNTERS_BEFORE_START",details:{eventName:"encounters"}}))})),Zn(this,"trackTrueView",F(e=>{this.trackEvent("trueView",this.getTrackingUrlsByTrackingEventName("trueView"),{reason:e})})),Zn(this,"startMeasurement",F(()=>{const{vpaidInitParameters:e}=this;if(!e)return void this.destroy({error:new Qd({code:"VPAID_MEASURER_NO_PARAMS_ON_START",details:void 0})});const{slot:t,adParameters:i,videoSlot:r}=e,{viewability:n,dwell:o}=i;this.addDestroyHandler(function(e,t){let i=function(e){if(!e)return!1;const{parentElement:t}=e;return!(!t||"function"!==typeof t.querySelector)&&t.querySelector(":hover")===e}(e);i&&t(!0);const r=Ie(e,"mouseenter",()=>{i||(i=!0,t(!0))}),n=Ie(e,"mouseleave",()=>{i&&(i=!1,t(!1))});return()=>{r(),n()}}(t,e=>{this.slotHoverStateValueSignal.dispatch(e)}));const a=new uv(t),s=a.getSize();this.callbacks.onSlotSizeChange(s);const d=An(r)?new uv(r):a,c=new gh(Nn(s));a.onResize.add(e=>{this.callbacks.onSlotSizeChange(e),c.dispatch(Nn(e))});const l=new eg(t,{numberOfMeasurementSteps:rv});this.measurerStartParameters={videoSlotSize:d.onResize,slotSize:a.onResize,slotVisibilitySensor:l},this.addDestroyHandler(l.onChangeVisibility(e=>{this.slotVisibilityStateValueSignal.dispatch(e)})),this.addDestroyHandler(()=>{l.destroy(),d.destroy(),a.destroy()});const h=new iv(e=>{let{count:t}=e;return 1===t&&(h.destroy(),this.trackTrueView("progress")),Dv}),u=new iv(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"viewability5",intervalId:5}:1===e?{eventName:"viewability1",intervalId:1}:2===e?{eventName:"viewability2",intervalId:2}:3===e?{eventName:"viewability3",intervalId:3}:void 0}(t);return void 0!==i&&(this.trackEvent(i.eventName,n[i.intervalId],void 0),2===t&&this.trackEncounters("viewability")),Jn(t)}),f=new iv(e=>{let{count:t}=e;const i=function(e){return e>3?{eventName:"dwell5",intervalId:5}:1===e?{eventName:"dwell1",intervalId:1}:2===e?{eventName:"dwell2",intervalId:2}:3===e?{eventName:"dwell3",intervalId:3}:void 0}(t);return void 0!==i&&this.trackEvent(i.eventName,o[i.intervalId],void 0),Jn(t)});this.addDestroyHandler(()=>{h.destroy(),u.destroy(),f.destroy()}),this.addDestroyHandler(this.playingStateValueSignal.add(e=>{h.setEnabled(e)})),this.addDestroyHandler(Ne([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,c],(e,t,i)=>e&&t&&i,e=>{u.setEnabled(e)})),this.addDestroyHandler(Ne([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal,c],(e,t,i,r)=>e&&t&&i&&r,e=>{f.setEnabled(e)}))})),Zn(this,"methodSniffers",{subscribe:this.vpaidEventBus.subscribe,unsubscribe:this.vpaidEventBus.unsubscribe}),Zn(this,"eventSniffers",{AdLoaded:()=>{this.initMeasurers().then(()=>{this.vpaidEventBus.dispatch("AdLoaded")}).catch(U)}}),Zn(this,"measurableVpaidCreative",void 0),Zn(this,"vpaidWillSetProperty",(e,t)=>{this.vpaidCreative[e]=t}),Zn(this,"vpaidWillCallMethod",(e,t)=>{if(this.updatePlayTimeCounter(e),"initAd"===e)try{this.initMeasurableParameters(t)}catch(NE){return this.vpaidEventBus.dispatch("AdError",NE),void this.destroy({error:NE})}switch(e){case"startAd":this.startMeasurement();break;case"stopAd":this.destroy({reason:e})}const i=this.methodSniffers[e];return i?i(...t):this.vpaidCreative[e].apply(this.vpaidCreative,t)}),Zn(this,"measurableVpaidDidCreate",e=>{this.measurableVpaidCreative=e}),Zn(this,"updatePlayTimeCounter",e=>{switch(e){case"startAd":case"resumeAd":return this.shouldPlayTimeCounter.start();case"pauseAd":return this.shouldPlayTimeCounter.stop();default:return}}),Zn(this,"trackEvent",(function(e,t,i){if(void 0===t&&(t=[]),Y("Track VPAIDMeasurer event=["+e+"]"),!r.vpaidInitParameters||!r.measurerStartParameters)return void r.callbacks.onExecutionError(new Qd({code:"VPAID_MEASURER_CANNOT_TRACK_EVENT_BEFORE_START",details:{eventName:e}}));const{slotSize:n,videoSlotSize:o,slotVisibilitySensor:a}=r.measurerStartParameters,s={eventName:e,trackingEventDetails:i,trackingUrls:t,options:Ln({slotSize:n.getValue(),videoSlotSize:o.getValue(),slotVisibilityRatio:a.getVisibilityRatio(),videoNode:r.vpaidInitParameters.videoSlot,bufferingTime:r.bufferingTimeManager.getBufferingTime()})};qi(s),r.callbacks.onTrackEvent(s)})),this.playingStateValueSignal.add(i.onPlayingStateChange),this.slotVisibilityStateValueSignal.add(i.onSlotVisibilityStateChange),this.slotHoverStateValueSignal.add(i.onSlotHoverStateChange),this.bufferingTimeManager=new Mg,this.addDestroyHandler(()=>this.bufferingTimeManager.destroy()),this.addDestroyHandler(e=>{i.onStop(e),yc([this.playingStateValueSignal,this.slotVisibilityStateValueSignal,this.slotHoverStateValueSignal],e=>{e.dispatch(!1),e.removeAll()})}),this.addDestroyHandler(()=>{this.shouldPlayTimeCounter.stop()}),this.subscribeVPAIDEvents()}subscribeVPAIDEvents(){var e=this;yc(sv,t=>{this.vpaidCreative.subscribe((function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];e.vpaidDidDispatchEvent(t,r)}),t)})}vpaidDidDispatchEvent(e,t){const i=ov[e];if(i&&this.trackEvent(i,this.getTrackingUrlsByTrackingEventName(i),void 0),"AdVideoStart"===e&&this.onAdVideoStart(),"AdVideoComplete"===e&&(this.isVisibilityConfirmed&&this.trackEvent("viewedComplete",this.getTrackingUrlsByTrackingEventName("viewedComplete"),void 0),this.trackTrueView("complete")),"AdError"===e){const e=this.getTrackingUrlsByTrackingEventName("error"),i={error:new Qd({code:"VPAID_MEASURER_AD_ERROR",details:{args:t}}),trackingUrls:e};Y("Track VPAIDMeasurer event=[error]"),Ee(i),this.callbacks.onAdError(i)}if("AdStarted"===e&&(this.lastVolume=this.vpaidCreative.getAdVolume()),"AdClickThru"===e&&(this.trackEncounters("click"),this.trackTrueView("click")),"AdVolumeChange"===e&&"number"===typeof this.lastVolume){const e=this.vpaidCreative.getAdVolume();0===e&&this.lastVolume>0&&this.trackEvent("mute",this.getTrackingUrlsByTrackingEventName("mute"),void 0),e>0&&0===this.lastVolume&&this.trackEvent("unmute",this.getTrackingUrlsByTrackingEventName("unmute"),void 0),this.lastVolume=e}switch(e){case"AdStarted":case"AdPlaying":this.playingStateValueSignal.dispatch(!0),this.bufferingTimeManager.resume();break;case"AdPaused":this.playingStateValueSignal.dispatch(!1),this.bufferingTimeManager.pause();break;case"AdStopped":case"AdError":case"AdSkipped":this.destroy({reason:e})}const r=this.eventSniffers[e];void 0===r?this.vpaidEventBus.dispatch(e,...t):r(...t)}getTrackingUrlsByTrackingEventName(e){if(!this.vpaidInitParameters)return[];const{adParameters:{trackingEvents:t}}=this.vpaidInitParameters,i=t[e];return Array.isArray(i)?md(i,t=>{const i=this.getConsumerAdditionalTrackingParams(e,t);return d(i)?R(t,i,{override:!1}):t}):[]}getConsumerAdditionalTrackingParams(e,t){const i=T(()=>this.parameters.getAdditionalTrackingParameters({eventName:e,url:t}));return d(i)&&_(i).length?i:null}onAdVideoStart(){this.measurerStartParameters?this.trackEvent("start",this.getTrackingUrlsByTrackingEventName("start"),{timeToStart:this.shouldPlayTimeCounter.getTime()}):this.callbacks.onExecutionError(new Qd({code:"VPAID_AD_VIDEO_START_BEFORE_START_AD_CALL",details:void 0}))}}const Vv=()=>ml,Bv=()=>!1,xv=()=>!1,Lv=e=>"2.0";class Uv{constructor(e){to(this,"dispatch",F(e=>{this.value=e,this._isDispatched=!0,H(this.callbacks,e),this.callbacks.length=0})),to(this,"callbacks",[]),to(this,"_isDispatched",!1),to(this,"value",void 0),a(e)&&this.callbacks.push(e)}subscribe(e){return this._isDispatched?(e(this.value),r):(this.callbacks.push(e),()=>{this.callbacks=jd(this.callbacks,t=>t!==e)})}getDispatched(){return this._isDispatched}getValue(){return this.value}wait(){return new Promise(e=>{this.subscribe(e)})}}class Fv extends rc{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="promise")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.promise=this.loadAdCreative().catch(e=>{throw this.destroy(),e})}async loadAdCreative(){const{adParametersString:e,slot:t,externalLiveCycle:i,initAdCreative:r}=this.params;if(!a(r))throw new Qd({code:"AD_CREATIVE_ANIMATION_INIT_IS_NOT_A_FUNCTION",details:this.getAdCreativeErrorDetails()});let n,o;try{n=r({adParametersString:e,slot:t,externalLiveCycle:i})}catch(RE){throw new Qd(RE,{code:"AD_CREATIVE_ANIMATION_INIT_CALL_ERROR",details:this.getAdCreativeErrorDetails()})}if(!ph(n))throw new Qd({code:"AD_CREATIVE_ANIMATION_INIT_RETURNS_NON_PROMISE_RESULT",details:this.getAdCreativeErrorDetails()});try{o=await n}catch(RE){throw new Qd(RE,{code:"AD_CREATIVE_ANIMATION_INIT_ERROR",details:this.getAdCreativeErrorDetails()})}return this.destroy(),o}getAdCreativeErrorDetails(){const{adParametersString:e}=this.params;return{adParametersString:e}}}const Hv={startAd:()=>new Promise(r),stopAd:r},jv={complete:"AdVideoComplete",skip:"AdSkipped",close:"AdUserClose",stopAd:"AdStopped"};class zv extends rc{constructor(e){super(),this.params=e,ro(this,"vpaidEventBus",new vv),ro(this,"handshakeVersion",Lv),ro(this,"subscribe",this.vpaidEventBus.subscribe),ro(this,"unsubscribe",this.vpaidEventBus.unsubscribe),ro(this,"resizeAd",r),ro(this,"expandAd",r),ro(this,"collapseAd",r),ro(this,"getAdIcons",xv),ro(this,"getAdExpanded",Bv),ro(this,"setAdVolume",r),ro(this,"getAdVolume",Vv),ro(this,"initAd",F(()=>{this.vpaidEventBus.dispatch("AdLoaded")})),ro(this,"videoStartedLatch",new Uv),ro(this,"shouldPlay",new gh(!1)),ro(this,"isPlaying",new gh(!1)),ro(this,"remainingTime",new gh(Gg)),ro(this,"shouldPlayTimeCounter",new Og),ro(this,"lifeCycleCallbacks",Oe({AdVideoFirstQuartile:0,AdVideoMidpoint:0,AdVideoThirdQuartile:0,AdVideoBeforeComplete:0},(e,t)=>this.ignoreAfterDestroy(F(()=>{this.vpaidEventBus.dispatch(t)})))),ro(this,"stopCreative",r),ro(this,"adCreativeLatch",new Uv),ro(this,"pauseAd",()=>{this.shouldPlay.dispatch(!1),this.isCreativeWithoutVideoTag()&&this.vpaidEventBus.dispatch("AdPaused")}),ro(this,"resumeAd",()=>{this.shouldPlay.dispatch(!0),this.isCreativeWithoutVideoTag()&&this.vpaidEventBus.dispatch("AdPlaying")}),ro(this,"getAdHeight",()=>{var e,t;return null!==(e=null===(t=this.params.videoParameters)||void 0===t?void 0:t.videoNodeController.videoNode.videoHeight)&&void 0!==e?e:Cg}),ro(this,"getAdWidth",()=>{var e,t;return null!==(e=null===(t=this.params.videoParameters)||void 0===t?void 0:t.videoNodeController.videoNode.videoWidth)&&void 0!==e?e:Ig}),ro(this,"getAdLinear",()=>!1),ro(this,"getAdDuration",()=>{const e=this.getVideoDurationConsideringDurationLimit();return e||Wg}),ro(this,"getAdRemainingTime",()=>{const{videoParameters:e}=this.params;if(e){const t=this.getVideoDurationConsideringDurationLimit(),i=e.videoNodeController.getCurrentTime();if(he(t)&&ft(i))return Math.max(t-i,0)}return Yg}),ro(this,"getAdSkippableState",()=>!0),ro(this,"dispatchAdStarted",()=>{this.vpaidEventBus.dispatch("AdStarted"),this.vpaidEventBus.dispatch("AdVideoStart")}),ro(this,"isCreativeWithoutVideoTag",()=>!this.params.videoParameters);const{videoParameters:t,animationParameters:i,slotSize:n}=e;if(this.vpaidEventBus.subscribe(e=>{hl.errorToStats(e)},"AdError"),this.addDestroyHandler(F(()=>{this.vpaidEventBus.dispatch("AdStopped")})),this.shouldPlay.add(e=>{e?this.shouldPlayTimeCounter.start():this.shouldPlayTimeCounter.stop()}),this.remainingTime.add(()=>{this.vpaidEventBus.dispatch("AdRemainingTimeChange")}),this.addDestroyHandler(()=>{this.remainingTime.removeAll()}),t){const{videoNodeController:e}=t;this.addDestroyHandler(e.playingState.add(e=>{this.isPlaying.dispatch(e===yg.PLAY)}))}else this.shouldPlay.add(this.isPlaying),this.isPlaying.dispatch(this.shouldPlay.getValue());t&&(i?this.adCreativeLatch.subscribe(()=>{this.startVideoPlaying(t)}):this.shouldPlay.addOne(()=>{this.startVideoPlaying(t)})),t?this.videoStartedLatch.subscribe(this.dispatchAdStarted):this.adCreativeLatch.subscribe(this.dispatchAdStarted),this.adCreativeLatch.subscribe(e=>{const{getAdDuration:i,getAdRemainingTime:r,resizeAd:o}=e;this.startAdCreative(e),this.isPlaying.getValue()||this.pauseAdCreative(e),this.isPlaying.add(t=>{t?this.resumeAdCreative(e):this.pauseAdCreative(e)}),t||(a(i)&&(this.getAdDuration=()=>i.call(e)),a(r)&&(this.getAdRemainingTime=()=>r.call(e),this.addDestroyHandler(Nr(()=>{this.remainingTime.dispatch(this.getAdRemainingTime())})))),this.addDestroyHandler(F(()=>{e.stopAd()})),this.addDestroyHandler(n.add(t=>{a(o)&&o.call(e,t)}))})}startAd(){this.shouldPlay.dispatch(!0),this.stopCreative=e=>{let t="AdVideoComplete";void 0!==jv[e]&&(t=jv[e]),this.vpaidEventBus.dispatch(t),this.destroy()},this.startAnimationPlaying().catch(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}),this.addDestroyHandler(()=>{this.shouldPlay.dispatch(!1),this.shouldPlay.removeAll()})}stopAd(){this.destroy()}skipAd(){this.vpaidEventBus.dispatch("AdSkipped"),this.stopAd()}getVideoDurationConsideringDurationLimit(){const{videoParameters:e}=this.params;if(e){const{videoNodeController:t,durationLimit:i}=e,r=t.getDuration(),n=he(r)?r:void 0;if(n&&he(i))return Math.min(n,i);if(n)return n}}async startAnimationPlaying(){const{animationParameters:e,adCreativeWindow:t,getVPAIDLogDetails:i,slot:r,videoParameters:n}=this.params;if(!e)return void this.adCreativeLatch.dispatch(Hv);const{animationMediaFile:o,getPreloadedAdCreativeInitFunction:s,adCreativeParameters:d}=e;let c=s();try{if(!a(c)){const{promise:e,teardown:i}=ur({animationMediaFile:o,win:t});this.addDestroyHandler(i),c=await e}}catch(NE){throw new Qd(NE,{code:"CANNOT_LOAD_AD_CREATIVE_ANIMATION_MEDIA_FILE",details:i()})}if(this.isDestroyed)return;const l=new Fv({slot:r,adParametersString:d,externalLiveCycle:Boolean(n),initAdCreative:c});this.addDestroyHandler(()=>{l.destroy()});const h=await l.promise;this.isDestroyed||this.adCreativeLatch.dispatch(h)}startVideoPlaying(e){const{videoNodeController:t,videoSlotSize:i,videoContentSize:r,videoMediaFile:n,videoTimeout:o,bufferEmptyLimit:s,bufferFullTimeout:d,durationLimit:c,durationFallback:l}=e,{videoNode:h}=t,{clickThroughUrl:u,animationParameters:f,slot:p}=this.params;if(this.getAdVolume=()=>t.getVolume(),this.setAdVolume=e=>{0===e?t.setMuted(!0):t.setVolume(e)},t.onVolumeChange.add(()=>this.vpaidEventBus.dispatch("AdVolumeChange")),t.setSrc(n),void 0!==u){const e=()=>{this.vpaidEventBus.dispatch("AdClickThru",u,void 0,!0)};this.addDestroyHandler(t.onClick.add(()=>{hl.event({name:"AdCreativeWrapperVideoElementClick",data:{clickThroughUrl:u}}),e()})),An(h)&&!kg&&this.addDestroyHandler(Xr(h,{cursor:"pointer"})),void 0===f&&(this.addDestroyHandler(Ie(p,"click",t=>{t.target===p&&(hl.event({name:"AdCreativeWrapperSlotElementClick",data:{clickThroughUrl:u}}),e())})),kg||this.addDestroyHandler(Xr(p,{cursor:"pointer"})))}this.addDestroyHandler(t.onVolumeChange.add(()=>{this.vpaidEventBus.dispatch("AdVolumeChange")})),this.addDestroyHandler(t.onPlayAfterPause.add(()=>{this.videoStartedLatch.getDispatched()&&this.vpaidEventBus.dispatch("AdPlaying")})),this.addDestroyHandler(t.playingState.add(e=>{"pause"===e&&this.vpaidEventBus.dispatch("AdPaused")}));const m=()=>{const e=this.adCreativeLatch.getValue();if(!e||!a(e.adjustAdPosition))return;const i=this.getVideoDurationConsideringDurationLimit(),r=t.getCurrentTime();he(i)&&ft(r)&&e.adjustAdPosition({adDuration:i,adRemainingTime:i-r})};this.addDestroyHandler(En({durationFallback:l,durationLimit:c,videoNodeController:t,callbacks:io({},this.lifeCycleCallbacks,{AdStarted:()=>{this.videoStartedLatch.dispatch(void 0),m()},AdVideoComplete:()=>{this.stopCreative("complete")}})}));const g=new Error;this.shouldPlayTimeCounter.addCallback(o,()=>{if(this.videoStartedLatch.getDispatched())return;const e=new Qd(g,{code:"AD_CREATIVE_VIDEO_TIMEOUT",details:{timeout:o,mediaFile:n}});this.vpaidEventBus.dispatch("AdError",e),this.stopCreative("stopAd")}),this.addDestroyHandler(_n({videoNodeController:t,bufferEmptyLimit:s,callback:()=>{const e=new Qd({code:"AD_CREATIVE_BUFFER_EMPTY_LIMIT",details:{bufferEmptyLimit:s,mediaFile:n}});this.vpaidEventBus.dispatch("AdError",e),this.stopCreative("stopAd")}})),this.addDestroyHandler(wn({videoNodeController:t,bufferFullTimeout:d,callback:()=>{const e=new Qd({code:"AD_CREATIVE_BUFFER_FULL_TIMEOUT",details:{bufferFullTimeout:d,mediaFile:n}});this.vpaidEventBus.dispatch("AdError",e),this.stopCreative("stopAd")}})),t.setSeekAllowed(!1),this.addDestroyHandler(t.onSeekRestore.add(()=>{hl.event({name:"AdCreativeRestoreSeek",data:{},probability:Ud})})),this.addDestroyHandler(()=>{t.setSeekAllowed(!0)}),this.addDestroyHandler(t.onError.add(e=>{this.vpaidEventBus.dispatch("AdError",e),this.stopCreative("stopAd")})),this.addDestroyHandler(t.currentPosition.add(()=>{m(),this.remainingTime.dispatch(this.getAdRemainingTime())})),this.shouldPlay.getValue()&&t.play(),this.shouldPlay.add(e=>{e?t.play():t.pause()}),this.addDestroyHandler(i.add(e=>{const t=this.adCreativeLatch.getValue();t&&a(t.resizeVideoSlot)&&t.resizeVideoSlot(e)})),this.addDestroyHandler(r.add(e=>{const t=this.adCreativeLatch.getValue();t&&a(t.resizeVideoContent)&&t.resizeVideoContent(e)}))}startAdCreative(e){const{slot:t,videoParameters:i,slotSize:n,getVPAIDLogDetails:o}=this.params,a=n.getValue(),s=i?Oe(this.lifeCycleCallbacks,()=>r):this.lifeCycleCallbacks,d=e.startAd({get slot(){return N('You are using "slot" parameter from adCreative.startAd(...) method. This property is deprecated. Use "slot" parameter from initAdCreative method argument.'),hl.error({error:new Qd({code:"USING_SLOT_GETTER_FROM_START_AD_PARAMETERS",details:o()})}),t},callbacks:io({AdClickThru:this.ignoreAfterDestroy((e,t,i)=>{const r=E(e)?e:this.params.clickThroughUrl;this.vpaidEventBus.dispatch("AdClickThru",r,t,i)})},s),requestPause:()=>{this.pauseAd()},requestPlay:()=>{this.resumeAd()},videoSlotSize:i?i.videoSlotSize.getValue():a,size:a,videoContentSize:null===i||void 0===i?void 0:i.videoContentSize.getValue()});if(!ph(d))throw new Qd({code:"AD_CREATIVE_START_AD_RETURNS_NON_PROMISE_RESULT",details:void 0});d.then(this.ignoreAfterDestroy(e=>{i||this.stopCreative(null===e||void 0===e?void 0:e.reason)})).catch(this.ignoreAfterDestroy(e=>{this.vpaidEventBus.dispatch("AdError",e),this.destroy()}))}pauseAdCreative(e){var t;null===(t=e.pauseAd)||void 0===t||t.call(e)}resumeAdCreative(e){var t;null===(t=e.resumeAd)||void 0===t||t.call(e)}}const Wv=15e4,Yv=F(e=>{hl.event({name:"IntersectionObserverMocked",data:{functionCode:T(()=>e.IntersectionObserver.toString())}})}),Gv=F(()=>{hl.event({name:"DocumentHiddenMocked",data:void 0})}),qv=F(e=>{hl.event({name:"IframeIntersectionObserverMocked",data:{functionCode:T(()=>e.IntersectionObserver.toString())}})}),Kv=F(()=>{hl.event({name:"IframeDocumentHiddenMocked",data:void 0})}),Xv=0,Qv=.5,Jv=5e3,Zv="2.0",$v=_({getAdLinear:0,getAdHeight:0,getAdWidth:0,getAdExpanded:0,getAdRemainingTime:0,getAdDuration:0,getAdVolume:0,getAdSkippableState:0});class eb extends rc{static getVpaidAd(e){return eo(new eb({outsideApi:e}))}handshakeVersion(){return Zv}stopAd(){Y("[RemoteVPAID]: call remote stopAd()"),this.destroy({reason:"manual",details:"stopAd"}),ho(this.params.outsideApi.callVpaidMethod("stopAd",[]))}initAd(e,t,i,n,o,a){if(this.isDestroyed)return void hl.error({error:new Qd({code:"VF_VPAID_INIT_CALLED_AFTER_DESTROY",details:{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:o,environmentVars:a}})});const s=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(a,["slot","videoSlot"]);this.params.outsideApi.initCreative([{width:e,height:t,viewMode:i,desiredBitrate:n,creativeData:o,environmentVars:uo({},s,{videoSlot:void 0,slot:void 0})}]).then(r).catch(e=>{this.destroy({reason:"fatal",details:e})})}startAd(){this.callRemoteMethod("startAd",[])}skipAd(){this.callRemoteMethod("skipAd",[])}resizeAd(e,t,i){this.callRemoteMethod("resizeAd",[e,t,i])}pauseAd(){this.callRemoteMethod("pauseAd",[])}resumeAd(){this.callRemoteMethod("resumeAd",[])}expandAd(){this.callRemoteMethod("expandAd",[])}collapseAd(){this.callRemoteMethod("collapseAd",[])}setAdVolume(e){this.callRemoteMethod("setAdVolume",[e])}getAdDuration(){return this.getterValues.getAdDuration}getAdRemainingTime(){return this.getterValues.getAdRemainingTime}getAdVolume(){return this.getterValues.getAdVolume}getAdExpanded(){return this.getterValues.getAdExpanded}getAdHeight(){return this.getterValues.getAdHeight}getAdWidth(){return this.getterValues.getAdWidth}getAdLinear(){return this.getterValues.getAdLinear}getAdSkippableState(){return this.getterValues.getAdSkippableState}constructor(e){super(),this.params=e,fo(this,"unsubscribe",r),fo(this,"getAdIcons",xv),fo(this,"getterValues",Z(md($v,e=>[e,Kg[e]]))),fo(this,"subscribe",(e,t,i)=>{this.params.outsideApi.listenRemoteVpaidEvents(t,(t,r)=>{e.apply(i,r)})});const{outsideApi:t}=e;this.addDestroyHandler(t.listenRemoteVpaidGetterValueChange(this.ignoreAfterDestroy((e,t)=>{this.getterValues[e]=t}))),this.addDestroyHandler(e=>{"fatal"===e.reason&&hl.error({error:new Qd({code:"VF_REMOTE_VPAID_FATAL_DESTROY",details:{error:e.details}})})})}callRemoteMethod(e,t){this.isDestroyed?hl.error({error:new Qd({code:"VF_VPAID_METHOD_CALLED_AFTER_DESTROY",details:{methodName:e,args:t}})}):this.params.outsideApi.callVpaidMethod(e,t).then(r).catch(e=>{this.destroy({reason:"fatal",details:e})})}}const tb=e=>{let{versionSupported:t,versionToCheck:i}=e;const r=md(t.split("."),e=>parseInt(e,10)),n=md(i.split("."),e=>parseInt(e,10));for(let o=0;o<n.length;o++){const e=n[o],t=r[o],i="undefined"===typeof t?0:t;if(e>i)return!1;if(e<i)return!0}return!0},ib=e=>d(e)&&"function"===typeof e.handshakeVersion&&"function"===typeof e.initAd&&"function"===typeof e.startAd&&"function"===typeof e.stopAd&&"function"===typeof e.skipAd&&"function"===typeof e.resizeAd&&"function"===typeof e.pauseAd&&"function"===typeof e.resumeAd&&"function"===typeof e.expandAd&&"function"===typeof e.collapseAd&&"function"===typeof e.subscribe&&"function"===typeof e.unsubscribe,rb=["idle","load","init","start","play"];const nb=e=>Ae(e)||!ni(e),ob=e=>{const{adConfig:{secureMode:t}}=e,i=null!==of&&void 0!==of?of:t;if(!i)return!1;const r=e.getJSMediaFile();if(!r)return!1;switch(i){case"ForceSafe":return!0;case"Safe":return!nb(r.url);case"OnlyYandexCreatives":case"Unsafe":default:return!1}};class ab extends Fg{constructor(e){super(e),vo(this,"onAdSkippableStateChange",new mh),vo(this,"creative",void 0),vo(this,"adSkippableState",!1),vo(this,"isAdCreativeWithVideo",!1),vo(this,"lifeCycleStage",new gh("idle",(e,t)=>{const i=rb.indexOf(e);return rb.indexOf(t)-i!==1&&hl.error({error:new Qd({code:"CREATIVE_STAGES_SEQUENCE_VIOLATED",details:go({},this.getVPAIDLogDetails(),{currentStage:e,nextStage:t})})}),!1})),vo(this,"isOverlayWithoutVideo",null),vo(this,"startVpaidCreative",F(e=>{this.isCreativeStartRequested.dispatch(!0),this.lifeCycleStage.dispatch("start"),Y("VPAID.startAd() called in startVpaidCreative method"),e.startAd();const t=this.shouldPlayTimeCounter.getTime();if(e.subscribe(F(()=>{Y("VPAID dispatched AdStarted");const e=this.shouldPlayTimeCounter.getTime();this.lifeCycleStage.dispatch("play"),hl.values({name:"VpaidCreativeStarted",probability:Ud,data:this.getVPAIDLogDetails(),values:{timeBeforeStart:t,timeToStart:e-t,fullTime:e},labels:{}})}),"AdStarted"),this.isOverlayWithoutVideo){const{promise:e,clear:t}=Eh(Wv);e.then(()=>{this.destroy({reason:"error",details:this.parseVpaidError(new Qd({code:"AD_CREATIVE_MAX_PLAYING_DURATION_REACHED",details:void 0}),"VPAIDPlayingError")})}).catch(U),this.addDestroyHandler(t)}})),vo(this,"updatePosition",this.ignoreAfterDestroy(()=>{var e,t;this.onCurrentPositionChange.dispatch({duration:this.getDuration(),remainingTime:null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdRemainingTime())&&void 0!==e?e:Yg})})),vo(this,"creativeAdStartedCallback",bt(()=>{if(this.isDestroyed)return void hl.error({error:new Qd({code:"VPAID_STARTED_AFTER_AD_DESTROY",details:this.getVPAIDLogDetails()})});this.isCreativeStartRequested.getValue()||hl.error({error:new Qd({code:"VPAID_STARTED_BEFORE_START_AD_CALL",details:this.getVPAIDLogDetails()})});const e=F(()=>{this.isStarted.dispatch(!0)}),t=this.playingState.getValue();Y("VPAID dispatched AdStarted event with playingState=["+t+"]"),"play"!==t?this.playingState.subscribeValueConditionOnce(e=>"play"===e,e):e()},()=>{hl.error({error:new Qd({code:"VPAID_STARTED_MORE_THAN_ONCE",details:this.getVPAIDLogDetails()})})})),vo(this,"createContainerNode",F(e=>{let{isAdCreative:t,isNonLinear:i}=e;const{wrapperNode:r}=this.adDisplayController,o=r.ownerDocument.createElement("div");Ce(o,go({},Xh,{pointerEvents:i?"none":"auto",visibility:"hidden",overflow:"hidden"})),this.isCreativeStartRequested.addOne(()=>{Ce(o,{visibility:"visible"})}),this.addDestroyHandler(()=>{n(o)}),r.appendChild(o);let a=null;return(t||i)&&(a=ao(o))&&Ce(a,Xh),a||o})),vo(this,"prepareVpaidCreative",F(async()=>{this.addDestroyHandler(this.videoNodeController.onVolumeChange.add(()=>{this.onVolumeChange.dispatch(void 0)}));const e=await this.initCreative();if(!e||this.isDestroyed)throw new Qd({code:"VPAID_WAS_DESTROYED_DURING_INIT",details:this.getVPAIDLogDetails()});if(e.subscribe(e=>{this.destroy({reason:"error",details:this.parseVpaidError(e,"VPAIDPlayingError")})},"AdError"),"function"===typeof e.getAdUnitId){const t=e.getAdUnitId();t&&(hl.event({name:"UsingVpaidAdUnitId",data:this.getVPAIDLogDetails(),probability:Ud}),Vp.addUnit(t))}this.creative=e,this.addDestroyHandler(()=>{this.creative=void 0}),this.onReady.dispatch(void 0),"play"!==this.playingState.getValue()?this.startAndPauseVpaidCreative(e):this.startVpaidCreative(e),this.updateAdSkippableState()})),vo(this,"isAdPlayingCalled",!1),vo(this,"getVPAIDLogDetails",()=>({adParametersString:this.getAdParameters(),mediaFile:this.getCurrentSource(),viewerPlaybackParams:this.adPodViewerPlaybackParams,isViewerDestroyed:this.isDestroyed,hasCreativeInstance:Boolean(this.creative),isSlotInDom:Zr(this.adDisplayController.wrapperNode),lifeCycleStage:this.lifeCycleStage.getValue()}));const{adPodViewerPlaybackParams:t}=e,i=new Error,{vpaidTimeout:r}=t;this.shouldPlayTimeCounter.addCallback(r,()=>{const e=this.getSrc(),n=this.lifeCycleStage.getValue(),o={timeout:r,src:e,config:this.adDisplayController.config,viewerPlaybackParams:t,liveCycleStage:n};this.isDestroyed?hl.error({error:new Qd({code:"SHOULD_PLAY_TIMER_IS_STARTED_AFTER_VIEWER_DESTROY",details:o})}):(this.isAdPlayingCalled&&!this.isStarted.getValue()&&hl.error({error:new Qd({code:"VPAID_TIMEOUT_PREVENTED_BY_AD_PLAYING_EVENT",details:o})}),this.isStarted.getValue()||this.isAdPlayingCalled||this.destroy({reason:"error",details:new Qd(i,{code:mo(n,nb(this.getScriptSrc())),details:o})}))}),this.isStarted.addOne(()=>{this.addDestroyHandler(Nr(this.updatePosition))}),this.addDestroyHandler(()=>{this.onAdSkippableStateChange.removeAll()})}play(e){void 0===e&&(e=!0),this.isDestroyed&&hl.error({error:new Qd({code:"PLAY_VPAID_VIEWER_AFTER_DESTROY",details:void 0})}),this.playingState.dispatch(e?"play":"pause"),this.creative?this.resume():this.prepareVpaidCreative().catch(e=>{this.destroy({reason:"error",details:e})})}getCurrentTime(){if(!this.creative)return Xv;const e=this.creative.getAdRemainingTime()||Bg;return le(e)?this.getDuration()-e:Xv}getAdRemainingTime(){if(this.isDestroyed)return 0;if(!this.creative)return this.mediaAd.getDuration();const e=this.creative.getAdRemainingTime();return!le(e)||e<0?this.isStarted.getValue()?Bg:this.getDuration():e}pause(){this.playingState.dispatch("pause"),this.creative&&(Y("VPAID.pauseAd() called in pause method"),this.creative.pauseAd())}resume(){const{creative:e}=this;return e?this.isCreativeStartRequested.getValue()?(this.playingState.dispatch("play"),Y("VPAID.resumeAd() called in resume method"),void e.resumeAd()):void this.startVpaidCreative(e):(Y("VpaidAdPodViewer dispatch playingState=play without creative"),void this.playingState.dispatch("play"))}skipAd(){this.creative&&this.creative.skipAd()}getAdSkippableState(){return this.creative&&"function"===typeof this.creative.getAdSkippableState?this.creative.getAdSkippableState():qg}getDuration(){if(this.creative){const e=this.creative.getAdDuration();if(e>0)return e}const e=this.mediaAd.getDuration();return e||0}getAdWidth(){if(this.creative){const{adWidth:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdWidth)return this.creative.getAdWidth()}return Ig}getAdHeight(){if(this.creative){const{adHeight:e}=this.creative;if("number"===typeof e)return e;if("function"===typeof this.creative.getAdHeight)return this.creative.getAdHeight()}return Cg}resizeAd(e,t,i){var r;void 0===i&&(i=zm.NORMAL),null===(r=this.creative)||void 0===r||r.resizeAd(e,t,i)}getSrc(){return this.getScriptSrc()}setMuted(e){const t=this.videoNodeController.videoNode.volume,i=t>0?t:Qv;this.setVolume(e?0:i)}getVolume(){var e,t;return null!==(e=null===(t=this.creative)||void 0===t?void 0:t.getAdVolume())&&void 0!==e?e:this.videoNodeController.getVolume()}setVolume(e){this.isDestroyed||(this.creative?this.creative.setAdVolume(e):this.videoNodeController.setVolume(e))}startAndPauseVpaidCreative(e){nb(this.getScriptSrc())&&(Y("preload VPAID creative by start and pause"),this.startVpaidCreative(e),hl.event({name:"PreloadVPAIDCreativeByStartAndPause",probability:Ud,data:{vpaidSrc:this.getSrc()}}),Y("VPAID.pauseAd() called for start and pause"),e.pauseAd())}async initCreative(){let e,t;const i=Date.now();this.lifeCycleStage.dispatch("load");const{vastAd:r}=this.mediaAd,{isNonLinear:n}=r,o=Lr(r),a=this.createContainerNode({isAdCreative:o,isNonLinear:n});let s;if(o)Y("[VpaidAdPodViewer]: play creative as AdCreative"),s=a,e=this.wrapAdCreative(s),t=F(()=>{try{e.stopAd()}catch(NE){const t=n?"OVERLAY_STOP_AD_ERROR":"LINEAR_AD_CREATIVE_STOP_AD_ERROR";hl.error({error:new Qd(NE,{code:t,details:this.getVPAIDLogDetails()})})}});else if(ob(this.mediaAd)){Y("[VpaidAdPodViewer]: play creative via VASFrame");const i=bu({container:s=a,initTimeout:Jv});this.addDestroyHandler(i.abortInit);const r=await i.initPromise;if(this.isDestroyed)return void r.destroy(void 0);if(r.addDestroyHandler(()=>{this.destroy({reason:"error",details:new Qd({code:"VPAID_AD_POD_VIEWER_FRAME_DESTROYED",details:{}})})}),this.addDestroyHandler(()=>{r.destroy(void 0)}),this.isDestroyed)return;if(r.assignVideoTag({videoElement:this.videoNodeController.videoNode}),await r.loadCreative(this.getScriptSrc()),this.isDestroyed)return;const n=()=>eb.getVpaidAd(r),o=this.getStandardVpaidCreative(n);e=o.creative,t=F(()=>o.stopAd()),this.addDestroyHandler(t),r.changeFrameVisibility(!0)}else{Y("[VpaidAdPodViewer]: play creative with Friendly Iframe");const i=jm.create({parentElement:a,scope:"VPAID_FRIENDLY_IFRAME",provideLogDetails:this.getVPAIDLogDetails}),r=i.iframe;Ce(r,Xh),s=r.contentDocument.body;const n=r.contentWindow;no(n)&&Kv(),oo(n)&&qv(n),this.addDestroyHandler(()=>{i.destroy(void 0)}),i.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})});const o=await this.loadVpaidMediaFile(n);if(this.isDestroyed)return;const d=this.getStandardVpaidCreative(o);e=d.creative,t=d.stopAd}if(this.onBeforeDestroy.addOne(t),hl.values({name:"VpaidCreativeLoaded",probability:Ud,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-i},labels:{}}),this.isDestroyed)throw new Qd({code:"VPAID_WAS_DESTROYED_DURING_LOAD",details:this.getVPAIDLogDetails()});const{clientWidth:d,clientHeight:c}=this.videoNodeController.videoNode,l=this.getDesiredBitrate(),h={AdParameters:this.getAdParameters()},{canPlayMuted:u,canPlayUnMuted:f}=this.adDisplayController.autoplayAbility,p={slot:s,videoSlot:this.videoNodeController.videoNode,videoSlotCanAutoPlay:this.videoNodeController.videoNode.muted?u:f,isYandexAdPlayer:!0,yandexAdPlaybackParams:{lang:this.config.lang,skipDelay:this.config.skipDelay,controlsSettings:{controlsVisibility:Bu},pauseOnClickThrough:!1,description:this.mediaAd.vastAd.description}},m=lo({creative:e,isYandexCreative:nb(this.getScriptSrc()),getLogDetails:this.getVPAIDLogDetails});this.subscribeCreativeEvents(m);const g=Date.now();return await new Promise((i,r)=>{m.subscribe(()=>{Y("VPAID dispatched AdLoaded event"),i(m)},"AdLoaded"),m.subscribe(e=>{Y("VPAID dispatched AdError event"),r(this.parseVpaidError(e,"VPAIDLoadingError"))},"AdError"),this.lifeCycleStage.dispatch("init");try{e.initAd(d,c,zm.NORMAL,l,h,p)}catch(NE){throw t(),new Qd(NE,{code:"INIT_AD_ERROR",details:this.getVPAIDLogDetails()})}}),hl.values({name:"VpaidCreativeInitialized",probability:Ud,data:this.getVPAIDLogDetails(),values:{timeSpent:Date.now()-g},labels:{}}),m}wrapAdCreative(e){var t;const{vastAd:i}=this.mediaAd,{isNonLinear:r,mediaFiles:n,durationLimit:o}=i,a=this.getAdParameters(),s=null===(t=i.playbackAdParameters)||void 0===t?void 0:t.clickThroughUrl,{parsed:{videoMediaFiles:d,animationMediaFile:c,adParameters:l},errors:h}=ar(a);yt(h);const u=(null===c||void 0===c?void 0:c.type)===Kf.Overlay;if(u!==r)throw new Qd({code:"AD_PARAMETERS_ARE_NOT_FIT_TO_VAST_BY_LINEAR_TYPE",details:this.getVPAIDLogDetails()});if(r&&!function(e){let{url:t}=e;return t===Gf}(n[0]))throw new Qd({code:"CANNOT_PLAY_NON_YANDEX_OVERLAY",details:this.getVPAIDLogDetails()});const{slotSize:f,videoContentSizeSensor:{videoContentSize:p},videoSlotSize:m}=this.adDisplayController,{videoTimeout:g,bufferFullTimeout:v,bufferEmptyLimit:b}=this.adPodViewerPlaybackParams;let y,A;if(!r&&d.length>0){let e=this.mediaAd.getPreloadedVideoFile();if(e||(e=Pr(d,{container:f.getValue(),desiredBitrate:this.getDesiredBitrate()}).prioritisedMediaFile),!e)throw new Qd({code:"NO_APPROPRIATE_VIDEO_SOURCE_FOR_AD_CREATIVE",details:{mediaFiles:d}});y={videoNodeController:this.videoNodeController,videoContentSize:p,videoSlotSize:m,videoMediaFile:go({},e,{url:Qp(e.url)}),videoTimeout:g,bufferFullTimeout:v,bufferEmptyLimit:b,durationFallback:()=>this.mediaAd.getDuration(),durationLimit:o},this.isAdCreativeWithVideo=!0}A=c&&"InteractiveElementsAdCreative"===$f[c.url]?"IV":r?"OVERLAY_FRIENDLY_IFRAME":"LINEAR_AD_CREATIVE_FRIENDLY_IFRAME";const _=jm.createHidden({parentElement:e,scope:A,provideLogDetails:this.getVPAIDLogDetails}),w=_.window;let S;return this.addDestroyHandler(()=>{_.destroy(void 0)}),_.addDestroyHandler(e=>{e&&this.destroy({reason:"error",details:e})}),c&&(S={animationMediaFile:c,getPreloadedAdCreativeInitFunction:this.mediaAd.getPreloadedAdCreativeInitFunction,adCreativeParameters:l}),this.isOverlayWithoutVideo=u&&!y,function(e){const t=eo(new zv(e));return $n(()=>t,{},{onStop:e=>{let{error:t,reason:i}=e;t?hl.error({error:t}):hl.event({name:"AdCreativeMeasured",probability:Ud,data:{stopReason:i}})},onInitMeasurer:e=>{hl.event({name:"AdCreativeInitMeasurer",probability:Ud,data:{measurerData:e}})},onTrackEvent:e=>{Xi(e)},onExecutionError:e=>{hl.error({error:e})},onAdError:e=>{let{error:t}=e;hl.errorToStats(t)}})()}({adCreativeWindow:w,slot:e,animationParameters:S,videoParameters:y,slotSize:f,clickThroughUrl:s,getVPAIDLogDetails:this.getVPAIDLogDetails})}async loadVpaidMediaFile(e){const t=nb(this.getScriptSrc())?"YANDEX_VPAID_FRIENDLY_IFRAME":"VPAID_FRIENDLY_IFRAME";this.addDestroyHandler(Rr(e,(e,i,r)=>{hl.error({error:Or({scope:t,errorType:i,error:e,details:go({},this.getVPAIDLogDetails(),{error:e,data:r})})})}));const i=this.mediaAd.getPreloadVpaidWindow();if(i){const{frameElement:e,getVPAIDAd:t}=i;if(null!==e&&void 0!==e)return this.addDestroyHandler(Hm(e,()=>{this.destroy({reason:"error",details:new Qd({code:"PRELOAD_IFRAME_WAS_UNLOADED",details:void 0})})})),t;hl.event({name:"VpaidAdPodViewer_PreloadFriendlyIframeDestroyed",data:{getVPAIDAdIsAcquired:"function"===typeof t}})}try{const{promise:t,teardown:i}=gm({src:this.getScriptSrc(),win:e});return this.addDestroyHandler(i),t}catch(NE){throw new Qd(NE,{code:"CANNOT_LOAD_VPAID_MEDIA_FILE",details:void 0})}}getStandardVpaidCreative(e){const t=nb(this.getScriptSrc());if("function"!==typeof e)throw new Qd({code:t?"YANDEX_NO_GET_VPAID_AD_FUNC":"NO_GET_VPAID_AD_FUNC",details:go({},this.getVPAIDLogDetails(),{typeOfGetVPAIDAd:typeof e})});let i;try{i=e()}catch(NE){throw new Qd(NE,{code:"GET_VPAID_AD_ERROR",details:this.getVPAIDLogDetails()})}const r=F(()=>{try{i.stopAd()}catch(NE){hl.error({error:new Qd(NE,{code:"STOP_AD_ERROR",details:this.getVPAIDLogDetails()})})}});if(!ib(i))throw new Qd({code:"INVALID_VPAID_API",details:this.getVPAIDLogDetails()});const n=i.handshakeVersion(Zv);if(!tb({versionSupported:Zv,versionToCheck:n}))throw r(),new Qd({code:"VPAID_VERSION_ERROR",details:go({},this.getVPAIDLogDetails(),{playerSupportedVersion:Zv,creativeVersion:n})});return{creative:i,stopAd:r}}getScriptSrc(){return this.getCurrentSource().url}getCurrentSource(){return this.mediaAd.getJSMediaFile()}subscribeCreativeEvents(e){e.subscribe(()=>{this.destroy({reason:"stop",details:void 0})},"AdStopped"),e.subscribe((e,t,i)=>{this.clickThrough({url:e,id:t,playerHandles:Boolean(i)})},"AdClickThru"),e.subscribe(()=>{this.updateAdSkippableState()},"AdSkippableStateChange"),e.subscribe(this.updatePosition,"AdRemainingTimeChange");const t=()=>{const t=e.getAdDuration();t>0&&this.mediaAd.actualizeDuration(t)};e.subscribe(t,"AdStarted"),e.subscribe(()=>{Y("VPAID dispatched AdDurationChange event"),t()},"AdDurationChange"),e.subscribe(this.creativeAdStartedCallback,"AdStarted"),e.subscribe(()=>{Y("VPAID dispatched AdPaused event"),this.onPause.dispatch(void 0)},"AdPaused"),e.subscribe(()=>{Y("VPAID dispatched AdPlaying event"),this.isAdPlayingCalled=!0,this.onResume.dispatch(void 0)},"AdPlaying"),e.subscribe(()=>{this.trackStartEvent()},"AdVideoStart"),e.subscribe(()=>{this.onImpression.dispatch(void 0)},"AdImpression"),e.subscribe(()=>{this.onFirstQuartile.dispatch(void 0)},"AdVideoFirstQuartile"),e.subscribe(()=>{this.onMidpoint.dispatch(void 0)},"AdVideoMidpoint"),e.subscribe(()=>{this.onThirdQuartile.dispatch(void 0)},"AdVideoThirdQuartile");const i=F(()=>this.onBeforeComplete.dispatch(void 0));e.subscribe(()=>{i()},"AdVideoBeforeComplete"),e.subscribe(()=>{this.onVolumeChange.dispatch(void 0)},"AdVolumeChange"),e.subscribe(()=>{this.destroy({reason:"skip",details:void 0})},"AdSkipped"),e.subscribe(()=>{Y("VPAID dispatched AdVideoComplete event"),this.destroy({reason:"complete",details:{canUseMediaAfterPlayback:this.isAdCreativeWithVideo}})},"AdVideoComplete"),e.subscribe(()=>{this.destroy({reason:"close",details:void 0})},"AdUserClose")}parseVpaidError(e,t){const i=this.getVPAIDLogDetails();return"string"===typeof e?new Qd({code:t,message:"String error from vpaid ["+e+"]",details:i}):e?new Qd(e,{code:t,details:i}):new Qd({code:t,message:"unknown error from VPAID creative",details:i})}updateAdSkippableState(){const e=this.getAdSkippableState();this.adSkippableState!==e&&(this.adSkippableState=e,this.onAdSkippableStateChange.dispatch(e))}get videoNodeController(){return this.adDisplayController.videoNodeController}get config(){return this.adDisplayController.config}}const sb=500,db=!1,cb=1e3,lb="https://yandex.ru/socialads-transparency-report",hb=-1,ub=-1===sm,fb=1e3/60,pb=_o(window),mb=pb.requestAnimationFrame,gb=pb.cancelAnimationFrame,vb=.8,bb=1.6,yb=1.2,Ab=50,_b=5,wb=2,Sb=100,Eb=1.8,Tb=3,Cb=.3,Ib=.1;class kb extends rc{constructor(e){super(),this.params=e,wo(this,"blurWrapper",void 0),wo(this,"canvas",void 0),wo(this,"context",void 0),wo(this,"isPlaying",new gh(!1)),wo(this,"framesInterval",Sb),wo(this,"lastTime",void 0),wo(this,"slowFramesCounter",0),wo(this,"slowDevice",!1),wo(this,"repaintTimeoutId",0),wo(this,"rafId",0),wo(this,"repaint",()=>{const{duration:e,currentTime:t}=this.params.videoNode,i=e-t<=Cb;if(!this.isPlaying.getValue()||i)return this.clearRepaintTimeout(),void this.setVisibility(!1);const r=xn(this.params.videoNode);if(!r)return void this.setRepaintTimeout();const{clientWidth:n,clientHeight:o}=this.params.container,a=n/o,s=r.width/r.height,d=s-a;this.prepareBlurCanvas(s,d),this.setVisibility(!0);const{context:c}=this,{videoNode:l}=this.params,{width:h,height:u}=this.canvas;if(this.slowDevice){const e=wb;c.drawImage(l,0,0,r.width,r.height,0,0,e,e),c.drawImage(this.canvas,0,0,e,e,0,0,h,u)}else c.drawImage(l,0,0,r.width,r.height,0,0,h,u);c.globalAlpha=Ib,this.handleSlowDevices(),this.setRepaintTimeout()}),this.blurWrapper=document.createElement("div"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.blurWrapper.appendChild(this.canvas),ge(this.params.container,this.blurWrapper),this.appendStyles(),this.isPlaying.add(e=>{e?(this.repaint(),this.canvas.style.display=""):(this.clearRepaintTimeout(),this.setVisibility(!1))}),this.addDestroyHandler(()=>{this.setPlaying(!1),n(this.blurWrapper)})}setPlaying(e){this.isPlaying.dispatch(e)}appendBlurScale(e,t){const i=[bb,Math.max(e,bb)];t&&i.reverse(),this.slowDevice||bf(this.canvas,{transform:"translate(-50%,-50%) scaleX("+i[0]+") scaleY("+i[1]+")"})}setCanvasOpacity(e){bf(this.canvas,{opacity:e})}simplifyBlur(){const e=2*_b,{clientWidth:t,clientHeight:i}=this.params.container;this.setCanvasSize(t+e,i+e);const r="-"+_b+"px";bf(this.canvas,{left:r,top:r,transform:"",filter:"blur("+_b+"px)",width:100*(1+e/t)+"%",height:100*(1+e/i)+"%"})}appendStyles(){const e={position:"absolute",margin:0,padding:0,top:0,bottom:0,left:0,right:0,overflow:"hidden"},t=zt(this.params.videoNode).position;-1===Dh(["fixed","absolute"],t)&&(e["z-index"]="-1"),bf(this.blurWrapper,e),bf(this.canvas,{position:"absolute",margin:0,padding:0,left:"50%",top:"50%",transform:"translate(-50%,-50%) scaleX("+yb+") scaleY("+yb+")",filter:"blur("+Ab+"px)",opacity:0,transition:"opacity 1s"})}setRepaintTimeout(){this.clearRepaintTimeout(),this.repaintTimeoutId=window.setTimeout(()=>this.rafId=mb(this.repaint),this.framesInterval)}clearRepaintTimeout(){clearTimeout(this.repaintTimeoutId),gb(this.rafId)}handleSlowDevices(){const e=Date.now();if(this.lastTime){const t=e-this.lastTime;t>this.framesInterval*Eb?(this.slowFramesCounter++,this.slowFramesCounter>=Tb&&(this.framesInterval+=t,this.slowFramesCounter=0,this.slowDevice||(this.slowDevice=!0,this.simplifyBlur()))):this.slowFramesCounter=0}this.lastTime=e}prepareBlurCanvas(e,t){const{container:i,videoNode:r}=this.params,n=t<0,o=n?r.offsetHeight*e:r.offsetWidth/e,a=n?o:r.offsetWidth,s=n?r.offsetHeight:o,d=(n?i.offsetWidth:i.offsetHeight)/o*vb;this.setCanvasSize(a,s),this.appendBlurScale(d*vb,n)}setCanvasSize(e,t){const{canvas:i}=this;i.width=e,i.height=t}setVisibility(e){this.setCanvasOpacity(e?1:0)}}const Pb=.1;var Ob;!function(e){e.inline="inline",e.pictureInPicture="picture-in-picture"}(Ob||(Ob={}));const Db=(e,t)=>{let i=0;return()=>{const r=Date.now();r-i>=t&&(e(),i=r)}},Rb=2;class Nb extends rc{constructor(e){var t,i,r;super(),r=void 0,(i="videoContentSize")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.videoContentSize=new gh(xn(e),In),this.addDestroyHandler(Ie(e,"resize",()=>{this.videoContentSize.dispatch(xn(e))})),this.addDestroyHandler(Nr(()=>{this.videoContentSize.dispatch(xn(e))}))}}const Mb=15,Vb=1e3,Bb=[{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}},{enabled:"webkitSupportsFullscreen",element:"webkitDisplayingFullscreen",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}}],xb="Fullscreen is not supported";class Lb{constructor(e,t){void 0===e&&(e=window),this.handlers=[],this.onDestroy=new mh,this.fullscreenElement=null,this.setFullScreenElementFromAPI=()=>{const e=function(e,t){const i=To(e,t);if(!i)return null;let r=e.document[i.element];return t&&t[i.element]&&(r=t),r||null}(this.win,this.video);this.setFullscreenElement(e)},this.win=e,this.video=t,t&&Zl&&(this.onDestroy.addOne(Ie(t,"webkitbeginfullscreen",()=>{this.setFullscreenElement(t)})),this.onDestroy.addOne(Ie(t,"webkitendfullscreen",()=>{this.setFullscreenElement(null)}))),this.names=To(e,t),this.names&&(this.onDestroy.addOne(Ie(this.win.document,this.names.events.change,this.setFullScreenElementFromAPI)),this.setFullScreenElementFromAPI())}requestFullscreenForElement(e,t){if(void 0===this.names)throw new this.win.Error(xb);{const{request:i}=this.names;if(!(i in e))throw new this.win.Error(xb);e[i](t)}}isFullscreen(){return null!==this.fullscreenElement}exit(){if(void 0===this.names)throw new Error(xb);this.video&&this.fullscreenElement===this.video?this.video[this.names.exit]():this.win.document[this.names.exit]()}getFullscreenElement(){return this.fullscreenElement}addHandler(e){if("function"!==typeof e)throw new this.win.Error("Fullscreen handler must be a function");this.handlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter(t=>t!==e)}destroy(){this.handlers.length=0,this.onDestroy.dispatch(void 0)}setFullscreenElement(e){this.fullscreenElement=e,this.handlers.forEach(t=>t(e))}}class Ub{constructor(e){Co(this,"violatedSources",[]),Co(this,"unsubscribeEvent",void 0),Co(this,"securityPolicyViolationCallback",e=>{let{blockedURI:t,violatedDirective:i,originalPolicy:r}=e;if("media-src"!==i)return;const n={blockedURI:t,violatedDirective:i,originalPolicy:r};this.violatedSources.push(n)}),this.unsubscribeEvent=Ie(e,"securitypolicyviolation",this.securityPolicyViolationCallback)}getViolatedSourceBySrc(e){return Zs(this.violatedSources,t=>{let{blockedURI:i}=t;return 0===e.indexOf(i)})}destroy(){this.violatedSources=[],this.unsubscribeEvent()}}const Fb=e=>{e.removeAttribute("src"),e.load()},Hb=function(e){return void 0===e&&(e=window),/firefox/.test(e.navigator.userAgent.toLowerCase())}(window);class jb extends rc{constructor(e){var t,i,r;super(),this.params=e,r=void 0,(i="mediaSource")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.mediaSource=new e.MediaSourceConstructor,Ie(this.mediaSource,"error",this.ignoreAfterDestroy(e=>{Y("MSEController: got an error inside of mediaSource");const t=e.error;this.destroy(new Qd(t,{code:"MSE_CONTROLLER_MEDIA_SOURCE_ERROR",details:{}}))})),Y("MSEController: attach BLOB URL"),this.params.videoSlot.src=URL.createObjectURL(this.mediaSource),this.addDestroyHandler(()=>{Y("MSEController: detach BLOB URL"),Fb(this.params.videoSlot)}),this.init().then(()=>{Y("MSEController: MSE successfully attached"),hl.event({name:"MSEControllerAttachSuccess",data:{},probability:Ud})}).catch(e=>{Y("MSEController: init error"),hl.error({error:new Qd(e,{code:"MSE_CONTROLLER_UNHANDLED_INIT_ERROR"})})})}async init(){const[e,t]=await Promise.all([this.getVideoReader(),this.getSourceBuffer()]);await this.doReadCycle(e,t),await this.finalize(t)}async getVideoReader(){const e=new AbortController;this.addDestroyHandler(()=>{if(e.signal.aborted)return Y("MSEController#reader: abort controller was already aborted"),void hl.error({error:new Qd({code:"MSE_CONTROLLER_FETCH_ALREADY_ABORTED",details:{}})});Y("MSEController#reader: abort controller"),e.abort()});const t=await fetch(this.params.src,{signal:e.signal});if(!t.body)throw new Qd({code:"MSE_CONTROLLER_FETCH_EMPTY_RESPONSE_BODY",details:{}});const i=t.body.getReader();return this.addDestroyHandler(()=>{Y("MSEController#reader: cancel reader"),ho(i.cancel())}),Y("MSEController#reader: got reader"),i}async getSourceBuffer(){"open"!==this.mediaSource.readyState&&await new Promise(e=>Ie(this.mediaSource,"sourceopen",e));const e=this.mediaSource.addSourceBuffer(wm);return Ie(e,"error",this.ignoreAfterDestroy(e=>{Y("MSEController: got an error inside of sourceBuffer");const t=e.error;this.destroy(new Qd(t,{code:"MSE_CONTROLLER_SOURCE_BUFFER_ERROR",details:{}}))})),this.addDestroyHandler(()=>{"open"===this.mediaSource.readyState&&(Y("MSEController#abort source buffer"),e.abort())}),Y("MSEController: got source buffer"),e}async doReadCycle(e,t){Y("MSEController: start read cycle, MSE_CONTROLLER_USES_INTERMEDIATE_BUFFER="+Hb);let i=await e.read(),r=new Uint8Array;do{for(;t.updating;)await new Promise(e=>Ie(t,"updateend",e));if(!i.value)break;if(this.isDestroyed)return;if(Hb){const e=new Uint8Array(r.length+i.value.length);e.set(r),e.set(i.value,r.length),r=e}else t.appendBuffer(i.value);for(;t.updating;)await new Promise(e=>Ie(t,"updateend",e));i=await e.read()}while(i.value);for(Hb&&(Y("MSEController: buffer read complete, length=["+r.length+"]"),t.appendBuffer(r));t.updating;)await new Promise(e=>Ie(t,"updateend",e));Y("MSEController: read cycle complete")}async finalize(e){for(Y("MSEController#close streams");e.updating;)await new Promise(t=>Ie(e,"updateend",t));"open"===this.mediaSource.readyState?(Y("MSEController#finalize: close stream"),this.mediaSource.endOfStream()):Y("MSEController#finalize: media source is closed")}}const zb=e=>{if(!Vm||!Pm)throw new Qd({code:"MSE_CONTROLLER_ENVIRONMENT_IS_NOT_SUPPORTED",details:{}});return new jb(Io({},e,{MediaSourceConstructor:Pm}))},Wb=e=>"canPlayMseForAbd"===Er(e).mseAvailability,Yb=50,Gb=2;class qb{constructor(e,t){this.video=e,this.onSeekRestore=t,ko(this,"unsubscribeVideoTimeupdate",void 0),ko(this,"lastLegalCurrentTime",void 0),ko(this,"lastTimestamp",void 0),ko(this,"seekAllowed",!0),ko(this,"onVideoTimeUpdate",()=>{const{currentTime:e}=this.video;this.isSeekingIllegal()?(this.video.currentTime=this.lastLegalCurrentTime,this.onSeekRestore()):(this.lastLegalCurrentTime=e,this.lastTimestamp=Date.now())}),this.lastLegalCurrentTime=e.currentTime,this.lastTimestamp=Date.now(),this.unsubscribeVideoTimeupdate=Ie(e,"timeupdate",this.onVideoTimeUpdate)}setSeekAllowed(e){this.seekAllowed=e}isSeekingIllegal(){return!this.seekAllowed&&this.isSeekingVideo()}destroy(){this.seekAllowed=!0,this.unsubscribeVideoTimeupdate()}isSeekingVideo(){if(!this.lastLegalCurrentTime)return!1;const e=Date.now()-this.lastTimestamp;if(e<Yb)return!1;const{currentTime:t,playbackRate:i}=this.video;return(t-this.lastLegalCurrentTime)/(e/1e3)>(i||1)*Gb}}const Kb=1,Xb=Math.ceil(2/(Lm/_p)),Qb=500,Jb=1e3,Zb=.25,$b=1e3,ey=1e3,ty=.1,iy=wd;class ry extends rc{constructor(e){super(),this.videoNode=e,Po(this,"onClick",new mh),Po(this,"currentPosition",new gh({currentTime:0,duration:0},In)),Po(this,"playingState",new gh(this.videoNode.paused?yg.PAUSE:yg.PLAY)),Po(this,"onError",new mh),Po(this,"onEnd",new mh),Po(this,"onVolumeChange",new mh),Po(this,"onPlay",new mh),Po(this,"onPlayAfterPause",new mh),Po(this,"onBufferingAfterPlay",new mh),Po(this,"isBuffering",new gh(!1)),Po(this,"onPlaying",new mh),Po(this,"fullscreenApi",void 0),Po(this,"onSeekRestore",new mh),Po(this,"pauseRequest",new gh(-1)),Po(this,"seekController",void 0),Po(this,"cspErrorHandler",void 0),Po(this,"activeMSEController",void 0),this.seekController=new qb(e,()=>this.onSeekRestore.dispatch(void 0));const t=An(e)?e.ownerDocument.defaultView:window;this.fullscreenApi=new Lb(t,e),this.cspErrorHandler=new Ub(t);let i=this.playingState.getValue();this.playingState.add(e=>{const{currentTime:t,duration:r,paused:n,ended:o}=this.videoNode;switch(Y("VideoNodeController.playingStateChange=["+JSON.stringify({previousPlayingState:i,nextPlayingState:e,currentTime:t,duration:r,paused:n,ended:o})+"]"),e){case yg.PLAY:"pause"===i&&this.onPlayAfterPause.dispatch(void 0),this.onPlay.dispatch(void 0);break;case yg.END:this.onEnd.dispatch(void 0);break;case yg.BUFFERING:"play"===i&&this.onBufferingAfterPlay.dispatch(void 0)}this.isBuffering.dispatch(e===yg.BUFFERING),i=e});const r={error:()=>{const{src:e}=this.videoNode,t=()=>{const t=this.cspErrorHandler.getViolatedSourceBySrc(e);return t?new Qd({code:"MEDIA_SRC_VIOLATES_CSP_POLICY",details:{violatedSource:t}}):void 0},i=()=>{const e=t();e&&hl.error({error:e})};let r=t();if(!r){r=this.getVideoNodeError();const{promise:e,clear:t}=Eh($b);this.addDestroyHandler(()=>{t(),i()}),e.then(i).catch(U)}this.onError.dispatch(r)},play:()=>{this.playingState.dispatch(yg.PLAY)},playing:()=>{this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}),this.onPlaying.dispatch(void 0),this.playingState.dispatch(yg.PLAY)}};this.subscribeClick(),this.subscribeTimeupdate(),this.subscribePause(),this.subscribeEnded(),this.subscribeBuffering(),this.subscribeVolumeChange();for(const n in r)r.hasOwnProperty(n)&&e.addEventListener(n,r[n]);this.addDestroyHandler(()=>{for(const t in r)r.hasOwnProperty(t)&&e.removeEventListener(t,r[t]);this.fullscreenApi.destroy(),this.seekController.destroy(),this.cspErrorHandler.destroy(),this.onSeekRestore.removeAll()})}play(){Y("VideoNodeController.play");const e=this.videoNode.play();ph(e)&&e.catch(e=>{this.shouldIgnorePlayRejection(e)||hl.error({error:new Qd(e,{code:"VIDEO_PLAY_REJECTED",details:{errorCode:e.code,errorName:e.name,errorMessage:e.message}})})})}pause(){Y("VideoNodeController.pause"),this.pauseRequest.dispatch(Date.now()),this.videoNode.pause()}setSrc(e){const{url:t}=e,{videoNode:i}=this;this.activeMSEController&&(this.activeMSEController.destroy(void 0),this.activeMSEController=void 0);const r=Wb(e);Y("VideoNodeController.setSrc playWithMSE=["+r+"] url=["+t+"]"),cn(i,()=>{if(!r)return i.src=t,void i.load();const e=zb({src:t,videoSlot:i});this.activeMSEController=e,e.addDestroyHandler(this.ignoreAfterDestroy(e=>{this.activeMSEController=void 0,e&&this.onError.dispatch(e)})),this.addDestroyHandler(()=>{e.destroy(void 0)})})}getWidth(){return this.videoNode.clientWidth}getHeight(){return this.videoNode.clientHeight}getCurrentTime(){return function(e){const t=e.currentTime||0;return Math.max(0,t)}(this.videoNode)}getDuration(){return function(e){const t=e.duration||0;return Math.max(0,t)}(this.videoNode)}setCurrentTime(e){this.videoNode.currentTime=e}setVisibleControls(e){this.videoNode.controls=e}isFullscreen(){return this.fullscreenApi.getFullscreenElement()===this.videoNode}getPaused(){return this.videoNode.paused}getMuted(){return 0===this.getVolume()}setMuted(e){!function(e,t){cn(e,()=>{e.muted=t;const i=e.volume;if(!t&&0===i){const t=i>0?i:Qv;e.volume=t}})}(this.videoNode,e)}getVolume(){return(e=this.videoNode).muted?0:e.volume;var e}setVolume(e){!function(e,t){cn(e,()=>{e.volume=t,e.muted=0===t})}(this.videoNode,e)}setSeekAllowed(e){this.seekController.setSeekAllowed(e)}getVideoNodeError(){const{videoNode:e}=this,{src:t,currentSrc:i,currentTime:r,duration:n,error:o}=e,a=o&&o.code,s={code:a,message:o&&o.message||"",src:t,currentSrc:i,currentTime:r,duration:n};if(!o||"undefined"===typeof MediaError)return new Qd({code:"VIDEO_ERROR",details:s});switch(a){case MediaError.MEDIA_ERR_ABORTED:return new Qd({code:"MEDIA_ERR_ABORTED",details:s});case MediaError.MEDIA_ERR_NETWORK:return new Qd({code:"MEDIA_ERR_NETWORK",details:s});case MediaError.MEDIA_ERR_DECODE:return new Qd({code:r>0?"MEDIA_ERR_DECODE_DURING_PLAYBACK":"MEDIA_ERR_DECODE_ON_START",details:s});case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return new Qd({code:"MEDIA_ERR_SRC_NOT_SUPPORTED",details:s});default:return new Qd({code:"MEDIA_ERROR_UNRECOGNIZED",details:s})}}subscribeClick(){const e=()=>{this.onClick.dispatch(void 0)},t=tg>=11?Eo(this.videoNode,e):Ie(this.videoNode,"click",e);this.addDestroyHandler(t)}subscribeTimeupdate(){let e=0;const t=()=>{this.seekController.isSeekingIllegal()||(e=Date.now(),this.currentPosition.dispatch({currentTime:this.getCurrentTime(),duration:this.getDuration()}))},i=Ie(this.videoNode,"timeupdate",t,{passive:!0}),r=Nr(()=>{const i=Date.now()-e;this.playingState.getValue()===yg.PLAY&&i>Qb&&(Y("dispatch synthetic timeupdate event for currentTime=["+this.videoNode.currentTime+"] duration=["+this.videoNode.duration+"] ended=["+this.videoNode.ended+"]"),t())});this.addDestroyHandler(i),this.addDestroyHandler(r)}subscribePause(){const{videoNode:e}=this,t=Ie(e,"pause",()=>{this.getCurrentTime()>=this.getDuration()||this.playingState.dispatch(yg.PAUSE)},{passive:!0}),i=Nr(()=>{const{paused:t,ended:i}=e;if(this.playingState.getValue()===yg.PLAY&&t&&!i){const{currentTime:t,duration:i}=e;Y("DetectVideoPauseByPausedProperty currentTime=["+t+"] duration=["+i+"]"),hl.event({name:"DetectVideoPauseByPausedProperty",data:{currentTime:t,duration:i}}),this.playingState.dispatch(yg.PAUSE)}});this.addDestroyHandler(t),this.addDestroyHandler(i)}subscribeEnded(){const e=Ie(this.videoNode,"ended",()=>{this.seekController.isSeekingIllegal()||(this.getCurrentTime()+Zb>=this.getDuration()?this.playingState.dispatch(yg.END):Y("video ended ignored with currentTime=["+this.getCurrentTime()+"] duration=["+this.getDuration()+"]"))},{passive:!0});let t=0,i=NaN;const r=Nr(()=>{const e=this.getDuration(),r=this.getCurrentTime(),{paused:n}=this.videoNode,o=this.playingState.getValue();if(e>0&&r>=e)return void(o!==yg.END&&(hl.event({name:"DetectVideoEndByCurrentTime",data:void 0}),this.playingState.dispatch(yg.END)));const a=!n&&e>0&&r===i&&e-r<Kb&&this.playingState.getValue()===yg.PLAY;i=r,a?t>=Xb?(t=0,o!==yg.END&&(hl.event({name:"DetectVideoEndByStalledOffset",data:void 0}),this.playingState.dispatch(yg.END))):t++:t=0});this.addDestroyHandler(e),this.addDestroyHandler(r)}subscribeBuffering(){let e=r;const t=Ng(this.videoNode,t=>{const i=t?yg.BUFFERING:this.videoNode.paused?yg.PAUSE:yg.PLAY;if(e(),this.playingState.dispatch(i),t&&iy){const{clear:t,promise:i}=Eh(ey);e=t,this.addDestroyHandler(t),i.then(()=>{if("buffering"!==this.playingState.getValue())return;const e=this.getCurrentTime()+ty;this.setCurrentTime(e);const{currentSrc:t,src:i}=this.videoNode;hl.event({name:"RecoverSafariPlayingHangup",data:{currentSrc:t,src:i,currentTime:this.getCurrentTime(),duration:this.getDuration()}})}).catch(U)}});this.addDestroyHandler(t)}subscribeVolumeChange(){this.addDestroyHandler(Ie(this.videoNode,"volumechange",()=>{this.onVolumeChange.dispatch(void 0)}))}shouldIgnorePlayRejection(e){if(20!==e.code&&"AbortError"!==e.name)return!1;if(this.isDestroyed)return!0;return Date.now()-this.pauseRequest.getValue()<=Jb}}const ny=140,oy=e=>!1!==e.abuse,ay={isCloseAvailable:!1,isCloseDialogActive:!1},sy=(e,t,i,r)=>{const n=e[t];let o=n;return i?o=jd(n,e=>e!==r):i||Le(n,r)||(o=[...n]).push(r),Do({},e,{[t]:o})};let dy=0;const cy=100;class ly{enableRetainLastMediaAfterPlayback(){this.retainLastMediaAfterPlayback=!0}constructor(e){let{config:t,videoNode:i,videoWrapperNode:o,renderSkin:a}=e;No(this,"slotVisibilitySensor",void 0),No(this,"slotSize",void 0),No(this,"videoContentSizeSensor",void 0),No(this,"videoSlotSize",void 0),No(this,"wrapperNode",void 0),No(this,"onReady",new mh),No(this,"onBeforeDestroy",new mh),No(this,"onDestroy",new mh),No(this,"onBeforeAdStart",new mh),No(this,"onAdStart",new mh),No(this,"adSlowStart",new gh(!1)),No(this,"onAdMediaStart",new mh),No(this,"onAdMediaEnd",new mh),No(this,"onAdEnd",new mh),No(this,"onAdSkipped",new mh),No(this,"onClickThrough",new mh),No(this,"isFinished",void 0),No(this,"config",void 0),No(this,"videoNodeController",void 0),No(this,"videoNode",void 0),No(this,"desiredBitrate",void 0),No(this,"autoplayAbility",Ro({},mg)),No(this,"onDetectAutoplayAbility",new mh),No(this,"onAdStartRejected",new mh),No(this,"adContentSize",new gh(void 0,In)),No(this,"onAdStop",new mh),No(this,"onAdPodPlayAdMedia",new mh),No(this,"onAdPodStart",new mh),No(this,"onAdPodImpression",new mh),No(this,"onAdPodFirstQuartile",new mh),No(this,"onAdPodMidpoint",new mh),No(this,"onAdPodThirdQuartile",new mh),No(this,"onAdPodPause",new mh),No(this,"onAdPodResume",new mh),No(this,"onAdPodTrackingEvent",new mh),No(this,"onAdPodError",new mh),No(this,"onAdPodComplete",new mh),No(this,"onAdPodClose",new mh),No(this,"onAdInteraction",new mh),No(this,"adMediaState",new gh({name:"idle"},In)),No(this,"abuseParameters",new gh(Ag,In)),No(this,"adVolume",new gh(ml)),No(this,"adPodDuration",new gh(Vg)),No(this,"adHasBeenUnmuted",new gh(!1)),No(this,"adVolumeAvailability",new gh(db)),No(this,"onCurrentPositionChange",new mh),No(this,"timeToSkip",new gh(hb)),No(this,"adSkippableState",new gh(qg)),No(this,"playingState",new gh("idle",(e,t)=>"idle"===t?(hl.error({error:new Qd({code:"ATTEMPT_TO_CHANGE_ADC_PLAYING_STATE_TO_IDLE",details:void 0})}),!0):e===t)),No(this,"adPodCloseState",new gh(ay,In)),No(this,"combinedSkinControlsVisibility",new gh({},In)),No(this,"adSystemType",new gh(void 0)),No(this,"socialAdvertising",new gh(!1)),No(this,"abuseScreenStatus",new gh("hidden")),No(this,"pauseByOpenAbuseScreen",new gh(!1)),No(this,"retainLastMediaAfterPlayback",!1),No(this,"renderSkin",void 0),No(this,"skinControlsHideReasons",new gh(Z(md(Vu,e=>[e,[]])))),No(this,"isNonLinearAdPlaying",new gh(!1)),No(this,"isCreativeWithOwnControls",new gh(!1)),No(this,"vastAdControlsSettings",new gh(void 0)),No(this,"shouldHandleResize",!0),No(this,"emitAdEnd",void 0),No(this,"viewersList",[]),No(this,"currentViewer",void 0),No(this,"nativeControlsHideStyle",void 0),No(this,"adType",void 0),No(this,"showAdCounter",0),No(this,"shouldBlurBeVisibleByApiLogic",new gh(!0)),No(this,"adPodBackground",new gh(void 0)),No(this,"adPodDestroyReasonObjects",[]),No(this,"onElementInteraction",Db(()=>{this.onAdInteraction.dispatch(void 0)},sb)),No(this,"isFakeVideoElementWithoutVolumeChangeSupport",void 0),No(this,"addSkin",F(()=>{const e=document.createElement("div");Ce(e,{position:"absolute",top:"0",left:"0",right:"0",bottom:"0",zIndex:"1",pointerEvents:"none"}),this.wrapperNode.appendChild(e);const t="Multiroll"===ac?null:ao(e),{firstRenderPromise:i,runtimeErrorPromise:r,clear:o}=this.renderSkin(t||e,this);i.catch(e=>{hl.error({error:new Qd(e,{code:"PREACT_SKIN_FIRST_RENDER_ERROR",details:void 0})}),this.destroy(e)}),r.catch(e=>{hl.error({error:new Qd(e,{code:"PREACT_SKIN_RUNTIME_ERROR",details:void 0})}),this.destroy(e)}),this.onDestroy.add(()=>{o(),n(e)})})),No(this,"openAdSystemWebsite",()=>{const e=this.socialAdvertising.getValue(),t=e?lb:_h("YANDEX_DIRECT_LINK",this.config.lang),i=!this.getPaused(),r=Date.now();if(hl.event({name:"OpenAdSystemWebsite",data:{adSystemType:this.adSystemType.getValue(),pauseByOpenWebsite:i,adSystemWebsiteUrl:t,socialAdvertising:e}}),i&&this.pause(),null===window.open(t,"_blank"))return;const n=ke(window.document,o=>{o&&(hl.event({name:"ReturnBackAfterOpenAdSystemWebsite",data:{timeSpentBeforeReturn:Date.now()-r,adSystemType:this.adSystemType.getValue(),adSystemWebsiteUrl:t,pauseByOpenWebsite:i,socialAdvertising:e}}),n(),i&&this.resume())});this.onDestroy.add(n)}),No(this,"abuseVariantChooseHandler",e=>{if(!this.currentViewer)return void hl.error({error:new Qd({code:"ABUSE_CALLED_WITHOUT_VIEWER",details:void 0})});const{abuseUrl:t}=this.abuseParameters.getValue();t||hl.error({error:new Qd({code:"ABUSE_CALLED_WITHOUT_URL",details:void 0})});const{reason:i,action:r}=_g[e];qi({eventName:"close",trackingEventDetails:void 0,trackingUrls:[R(t,{"reason-id":""+i,"action-id":""+r},{override:!0})],options:this.getAdPlacementOptions()}),this.currentViewer.destroy({reason:"close",details:void 0}),hl.event({name:"AbuseVariantChoose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue(),variant:e},probability:xd}),this.closeAbuseScreen()}),No(this,"abuseButtonClickHandler",()=>{const e=!("pause"===this.playingState.getValue());e&&this.pause(),hl.event({name:"AbuseScreenOpen",data:{pauseByOpenAbuseScreen:e},probability:xd}),this.pauseByOpenAbuseScreen.dispatch(e),this.abuseScreenStatus.dispatch("selection")}),No(this,"abuseScreenCloseHandler",()=>{hl.event({name:"AbuseScreenClose",data:{pauseByOpenAbuseScreen:this.pauseByOpenAbuseScreen.getValue()},probability:xd}),this.closeAbuseScreen()}),No(this,"handleAbuseScreenCloseByResumeError",()=>{hl.error({error:new Qd({code:"ABUSE_SCREEN_CLOSE_BY_RESUME",details:void 0})}),this.abuseScreenStatus.dispatch("hidden")}),No(this,"subscribeInteractionHandlers",()=>{if(!Km(this.wrapperNode))return r;const e=[],t=An(this.videoNode);return yc(["mousemove","mousedown","mouseup","contextmenu","touchstart","touchmove","touchend"],i=>{e.push(Ie(this.wrapperNode,i,this.onElementInteraction)),t&&e.push(Ie(this.videoNode,i,this.onElementInteraction))}),()=>H(e)}),this.onDestroy.add(this.onBeforeDestroy),no(window)&&Gv(),oo(window)&&Yv(window);const s=void 0===i.volume||void 0===i.muted;s&&hl.error({error:new Qd({code:"FAKE_VIDEO_ELEMENT_WITHOUT_VOLUME_CHANGE_SUPPORT",details:void 0})}),this.isFakeVideoElementWithoutVolumeChangeSupport=s,this.wrapperNode=o,this.renderSkin=a,this.slotVisibilitySensor=new eg(o,{numberOfMeasurementSteps:rv}),this.videoContentSizeSensor=new Nb(i),this.videoContentSizeSensor.videoContentSize.add(e=>{Y("videoContentSize changed to "+JSON.stringify(e))});const d=new uv(o);if(this.slotSize=d.onResize,this.slotSize.add(e=>{this.shouldHandleResize&&this.resizeAd(e.width,e.height)}),this.onDestroy.add(()=>{d.destroy()}),An(i)){const e=new uv(i);this.onDestroy.add(()=>e.destroy()),this.videoSlotSize=e.onResize}else this.videoSlotSize=this.slotSize;this.onDestroy.add(()=>{this.slotVisibilitySensor.destroy(void 0),this.videoContentSizeSensor.destroy()});const{config:c,errors:l}=yo(t);yt(l),this.config=c,this.videoNode=i,this.timeToSkip.add(e=>{this.adSkippableState.dispatch(0===e)});const h=this.adVolume.add(e=>{0!==e&&(this.adHasBeenUnmuted.dispatch(!0),h())});this.onAdPodPlayAdMedia.add(e=>{const{abuseUrl:t}=e.mediaAd.vastAd;this.abuseParameters.dispatch({abuseUrl:t})}),++dy===cy&&hl.error({error:new Qd({code:"TOO_MANY_CREATE_AD_DISPLAY_CONTROLLER_REQUESTS",details:void 0})}),hl.event({name:"CreateAdDisplayController",probability:Ud,data:{config:this.config}}),this.desiredBitrate=t.desiredBitrate,this.videoNodeController=new ry(i),this.onAdEnd.add(()=>this.setVisibleNativeControls(!0)),this.onReady.add(()=>this.setVisibleNativeControls(!1));const u=this.config.controlsSettings;this.onDestroy.add(function(e,t){let{isFakeVideoElementWithoutVolumeChangeSupport:i,playingState:r,showGuiForVpaid:n,controlsSettingsFromConfig:o,slotSize:a,isNonLinearAdPlaying:s,skinControlsHideReasons:d,isCreativeWithOwnControls:c,vastAdControlsSettings:l}=e,h={};return Ne([r,a,s,d,c,l],(e,t,r,a,s,d)=>{let{width:c}=t;if(!("idle"!==e)||!(c>=ny)||s&&!n||r)return Bu;const l={controlsVisibility:Oe(a,e=>!(e.length>0)&&void 0)};return pn(d,o,l,i?{controlsVisibility:{mute:!1}}:void 0).controlsVisibility},bt(e=>{t(h=e)},e=>{for(const i of Vu)if(e[i]!==h[i])return void t(h=e)}))}({isFakeVideoElementWithoutVolumeChangeSupport:this.isFakeVideoElementWithoutVolumeChangeSupport,playingState:this.playingState,showGuiForVpaid:this.config.showGuiForVpaid,controlsSettingsFromConfig:u,slotSize:this.slotSize,isNonLinearAdPlaying:this.isNonLinearAdPlaying,skinControlsHideReasons:this.skinControlsHideReasons,isCreativeWithOwnControls:this.isCreativeWithOwnControls,vastAdControlsSettings:this.vastAdControlsSettings},e=>{this.combinedSkinControlsVisibility.dispatch(e)})),this.onAdPodPlayAdMedia.add(e=>{let{mediaAd:t}=e;this.isCreativeWithOwnControls.dispatch(t.isCreativeWithOwnControls()),this.adSystemType.dispatch(t.getIsYandexCreative()?"yandex":"external"),this.socialAdvertising.dispatch(function(e){var t;return!0===(null===(t=e.adParametersObject)||void 0===t?void 0:t.socialAdvertising)}(t.vastAd));const i=bn(t.vastAd);this.vastAdControlsSettings.dispatch(i)}),this.onAdMediaEnd.add(()=>{this.isCreativeWithOwnControls.dispatch(!1),this.adSystemType.dispatch(void 0),this.vastAdControlsSettings.dispatch(void 0)}),this.onBeforeAdStart.addOne(()=>{const e=Date.now();let t;const i=()=>{void 0!==t&&(Y("cancel slow start timeout"),clearTimeout(t),t=void 0)};t=setTimeout(()=>{const t=Date.now()-e;Y("mark slow start, actual passed time=["+t+"]ms"),hl.event({name:"AdSlowStart",probability:Ud,data:{actualTime:t}}),this.adSlowStart.dispatch(!0)},cb),this.onAdStart.addOne(()=>{i()}),this.onDestroy.add(()=>{i()})}),this.onAdMediaStart.add(e=>{let{viewer:t}=e;this.adPodBackground.dispatch(t.adPodViewerPlaybackParams.background)}),this.onAdMediaEnd.add(()=>{this.adPodBackground.dispatch(void 0)}),this.onDestroy.add(()=>{this.isFinished=!0,this.playingState.dispatch("end"),yc(this.viewersList,e=>{e.destroy({reason:"destroy",details:void 0})}),this.viewersList.length=0,this.skinControlsHideReasons.removeAll(),this.abuseParameters.removeAll(),this.playingState.removeAll(),this.onAdStop.removeAll(),this.onAdPodPlayAdMedia.removeAll(),this.onAdPodStart.removeAll(),this.onAdPodPause.removeAll(),this.onAdPodResume.removeAll(),this.onAdPodTrackingEvent.removeAll(),this.onCurrentPositionChange.removeAll(),this.timeToSkip.removeAll(),this.onAdPodComplete.removeAll(),this.onAdPodClose.removeAll(),this.onAdInteraction.removeAll(),this.adVolume.removeAll(),this.currentViewer&&(this.currentViewer.isCreativeStartRequested.getValue()&&(void 0===this.adType&&hl.error({error:new Qd({code:"EMPTY_AD_TYPE_WHILE_PLAYING",details:void 0})}),this.onAdMediaEnd.dispatch({adType:this.adType})),this.currentViewer.destroy({reason:"destroy",details:void 0}),this.currentViewer=void 0),this.videoNodeController.destroy(),n(this.nativeControlsHideStyle)}),this.onDestroy.add(Ne([this.vastAdControlsSettings,this.abuseParameters,this.abuseScreenStatus],Oo,e=>this.adPodCloseState.dispatch(e)))}async prepareToPlayAd(e){this.config.autoplay=!1;const t=this.onReady.promise(),i=this.onAdEnd.promise();this.showAd(e),await Promise.race([t,i.then(()=>{throw new Qd({code:"AD_STOPPED_BEFORE_READY_TO_PLAY",details:void 0})})])}showAd(e){var t;const i=Date.now(),r=An(this.videoNode)?Zr(this.videoNode):void 0;if(!1===r){const e=Km(this.wrapperNode)?Zr(this.wrapperNode):void 0;return hl.error({error:new Qd({code:"WRAPPER_OR_VIDEO_NODE_NOT_IN_DOM",details:{videoNodeInDom:r,wrapperInDom:e}})}),Promise.resolve()}if(!e.mediaAds.length)return hl.error({error:new Qd({code:"NO_AD_PODS_TO_PLAY_IN_SHOW_AD_METHOD",details:{config:this.config}})}),Promise.resolve();this.showAdCounter++,this.showAdCounter>1&&hl.event({name:"CallShowAdMultipleTimes",probability:Ud,data:void 0});const{adBreak:n}=e.getFirstMediaAd(),o=null!==(t=n.adType)&&void 0!==t?t:"preroll";return this.adType=o,this.isFinished=!1,new Promise((t,r)=>{this.addSkin(),this.viewersList=md(e.mediaAds,e=>{e.vastAd.trackingEvents=ot(e.vastAd.trackingEvents,this.config.trackingEvents);const t=function(e){let{playbackParameters:t,mediaAd:i}=e;const{vastAd:r}=i,n=pn(bn(r),t.controlsSettings),{skipDelay:o,eventName:a}=i.getSkipDelayParameters();let s;return void 0!==a&&hl.event({name:a,probability:Ud,data:void 0}),!0===t.backgroundBlur?s="blur":r.backgroundColor?s={color:r.backgroundColor}:!0===r.backgroundBlur&&!1!==t.backgroundBlur&&(s="blur"),{controlsSettings:n,background:s,showGuiForVpaid:!0===t.showGuiForVpaid||i.shouldShowGuiForVpaid(),skipDelay:"number"===typeof t.skipDelay?t.skipDelay:o,bufferFullTimeout:"number"===typeof t.bufferFullTimeout?t.bufferFullTimeout:i.getBufferFullTimeout(),bufferEmptyLimit:he(t.bufferEmptyLimit)?t.bufferEmptyLimit:i.getBufferEmptyLimit(),videoTimeout:he(t.videoTimeout)?t.videoTimeout:i.getVideoStartTimeout(),vpaidTimeout:he(t.vpaidTimeout)?t.vpaidTimeout:i.getVpaidStartTimeout(),clickThroughUrl:"string"===typeof t.clickThroughUrl?t.clickThroughUrl:r.clickThrough,isClickable:"string"===typeof t.clickThroughUrl||i.isClickable()}}({playbackParameters:this.config,mediaAd:e}),i={adDisplayController:this,mediaAd:e,adPodViewerPlaybackParams:t},r=e.contentType===Fp.js?new ab(i):new zg(i);return r.onImpression.add(this.onAdPodImpression),r.onFirstQuartile.add(this.onAdPodFirstQuartile),r.onMidpoint.add(this.onAdPodMidpoint),r.onThirdQuartile.add(this.onAdPodThirdQuartile),r}),this.initBackground(this.viewersList),this.isNonLinearAdPlaying.dispatch(this.getIfIsNonLinear()),this.emitAdEnd=t,this.onBeforeAdStart.dispatch({adType:o}),this.onAdPodStart.addOne(()=>{hl.values({name:"AdStarted",probability:Ud,data:{config:this.config},labels:{},values:{startTime:Date.now()-i}})}),this.startAdPlayback(o).then(t).catch(e=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdMediaEnd.dispatch({adType:o}),r(e)}),this.onDestroy.add(this.subscribeInteractionHandlers())}).catch(e=>{hl.errorToStats(e)}).then(()=>{this.isFinished=!0,this.playingState.dispatch("end"),this.onAdEnd.dispatch({adType:o})})}getAdPlacementOptions(e){void 0===e&&(e=this.currentViewer);const{videoNode:t}=this;let i,r,n=0;if(e&&(n=e.getBufferingTime()),e&&(i=e.mediaAd.adBreak.adType),e){const t=e.mediaAd.getMediaFiles();t.length>0&&(r=function(e,t){let{type:i,url:r}=e,{vastAd:n}=t;if($i({type:i})!==Fp.js)return"video";if(!Ae(r))return"external";try{const{adFormatType:e}=mi(n.adParameters);return e}catch(NE){return"external"}}(t[0],{vastAd:e.mediaAd.vastAd}))}return Ln({slotSize:this.slotSize.getValue(),videoSlotSize:this.videoSlotSize.getValue(),slotVisibilityRatio:this.slotVisibilitySensor.getVisibilityRatio(),videoNode:t,bufferingTime:n,adBreakType:i,adFormatType:r})}setMuted(e){this.currentViewer?this.currentViewer.setMuted(e):this.videoNodeController.setMuted(e)}resizeAd(e,t,i){var r;void 0===i&&(i=zm.NORMAL),null===(r=this.currentViewer)||void 0===r||r.resizeAd(e,t,i)}clickThrough(e){this.currentViewer&&this.currentViewer.clickThrough(e)}async play(e){void 0===e&&(e=!0);const{currentViewer:t,config:i}=this;return e&&(i.autoplay=!0),t?(t.play(e),new Promise((e,i)=>{t.addDestroyHandler(t=>{const r=yn(t);r?i(r):e()})})):Promise.reject(new Error("AdSDK Error: play request without AdMedia"))}pause(){this.currentViewer?this.currentViewer.pause():this.isFinished||this.playingState.dispatch("pause")}resume(){this.currentViewer?this.currentViewer.resume():this.isFinished||this.playingState.dispatch("play")}close(){this.destroyNextViewers("close")}skipAllViewers(){this.skipCurrentViewer(),this.destroyNextViewers("skip")}skipCurrentViewer(){if(!this.currentViewer)return this.stop(),void hl.error({error:new Qd({code:"SKIP_NOT_PLAYING_AD_POD",details:{isFinished:this.isFinished}})});this.currentViewer.getAdSkippableState()?this.currentViewer.skipAd():hl.error({error:new Qd({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD_POD",details:void 0})})}stop(){this.isFinished=!0,this.playingState.dispatch("end"),this.onAdStop.dispatch(void 0),this.emitAdEnd&&this.emitAdEnd()}getAdWidth(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdWidth())&&void 0!==e?e:Ig}getAdHeight(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getAdHeight())&&void 0!==e?e:Cg}trackEvent(e,t){var i;null===(i=this.currentViewer)||void 0===i||i.trackEvent(e,t)}getCurrentContentType(){return this.currentViewer?this.currentViewer.contentType:void 0}getAdRemainingTime(){if(this.isFinished)return 0;if(this.currentViewer){let e=this.currentViewer.getAdRemainingTime();for(let t=this.getCurrentViewerIndex()+1;t<this.viewersList.length;t++){e+=this.viewersList[t].mediaAd.getDuration()}return e}return this.getDuration()}getAdPodRemainingTime(){var e;if(this.isFinished)return 0;if(this.currentViewer)return this.currentViewer.getAdRemainingTime();const[t]=this.viewersList;return null!==(e=null===t||void 0===t?void 0:t.mediaAd.getDuration())&&void 0!==e?e:0}getCurrentTime(){return this.currentViewer?this.getCurrentViewerStartTime()+this.currentViewer.getCurrentTime():0}getAdPodDuration(){if(this.currentViewer){const e=this.currentViewer.getDuration();if(e>0)return e}return 0}getDuration(){let e=0;return yc(this.viewersList,t=>{const i=t.getDuration();i>0&&(e+=i)}),e}getPaused(){return this.currentViewer?"play"!==this.currentViewer.playingState.getValue():!!this.isFinished||"pause"===this.playingState.getValue()}getVolume(){return this.adVolume.getValue()}setVolume(e){this.adVolume.dispatch(e);const{currentViewer:t}=this;t?t.setVolume(e):this.videoNodeController.setVolume(e)}getCurrentSrc(){var e,t;return null!==(e=null===(t=this.currentViewer)||void 0===t?void 0:t.getSrc())&&void 0!==e?e:""}getMuted(){const{currentViewer:e}=this;return e?0===e.getVolume():this.videoNodeController.getMuted()}getAdVolumeAvailability(){return this.adVolumeAvailability.getValue()}setBlurDisplay(e){this.shouldBlurBeVisibleByApiLogic.dispatch(e)}getCurrentViewerIndex(){return this.currentViewer?Math.max(this.viewersList.indexOf(this.currentViewer),0):0}getViewerLength(){return this.viewersList.length}disableResizeHandling(){this.shouldHandleResize=!1}enableResizeHandling(){const{width:e,height:t}=this.wrapperNode.getBoundingClientRect();this.resizeAd(e,t),this.shouldHandleResize=!0}destroy(e){this.onDestroy.dispatch(e),this.onDestroy.removeAll(),this.onBeforeAdStart.removeAll(),this.onAdStart.removeAll(),this.onAdMediaStart.removeAll(),this.onAdMediaEnd.removeAll(),this.onAdEnd.removeAll(),this.onReady.removeAll(),this.adContentSize.removeAll(),this.adSlowStart.removeAll(),this.adMediaState.removeAll()}setSkinControlHideReason(e,t,i){this.skinControlsHideReasons.dispatch(sy(this.skinControlsHideReasons.getValue(),e,t,i))}areAllAdPodsCompleted(){return $u(this.adPodDestroyReasonObjects,e=>{let{reason:t}=e;return"complete"===t})}isLastAdPodRetainedMedia(){const e=this.adPodDestroyReasonObjects[this.adPodDestroyReasonObjects.length-1];return!!Boolean(e)&&(!!this.retainLastMediaAfterPlayback&&("complete"===e.reason&&e.details.canUseMediaAfterPlayback))}setVisibleNativeControls(e){this.getIfIsNonLinear()||(e?n(this.nativeControlsHideStyle):(this.videoNode.controls=!1,this.nativeControlsHideStyle||(this.nativeControlsHideStyle=Ao(this.wrapperNode,"\n                        #"+this.videoNode.id+"::-webkit-media-controls{\n                            display: none !important;\n                        }\n                    ")),document.head.appendChild(this.nativeControlsHideStyle)))}closeAbuseScreen(){this.pauseByOpenAbuseScreen.getValue()&&this.resume(),this.abuseScreenStatus.dispatch("hidden")}trackError(e){this.currentViewer&&this.currentViewer.trackError(e)}getAutoplay(){if(this.getCurrentViewerIndex()>0)return Y("autoplay=true due to subsequent viewer"),!0;if(this.autoplayAbility.requireUserGesture)return Y("autoplay=false due to requireUserGesture"),!1;const{autoplay:e}=this.config;if(void 0!==e)return Y("autoplay=["+e+"] due to config"),e;const t=this.playingState.getValue();if("idle"!==t){const e="pause"!==t;return Y("autoplay=["+e+"] due to playingStateValue"),e}return Y("autoplay=true due to default"),!0}initBackgroundColor(e){let t=r;this.onDestroy.add(()=>t()),this.onDestroy.add(this.adPodBackground.add(i=>{d(i)&&E(i.color)?t=Xr(e,{backgroundColor:i.color}):t()}))}initBackground(e){let{backgroundSlot:t}=this.config;const i=Boolean(t);if(i||(t=function(e){if(!An(e))return;const{parentElement:t}=e;if(t)return t;hl.error({error:new Qd({code:"NO_PARENT_ELEMENT_FOR_BACKGROUND",details:void 0})})}(this.videoNode)),!t)return void Y("BackgroundBlur container cannot be created");if(this.initBackgroundColor(t),!eh(e,e=>{let{adPodViewerPlaybackParams:t}=e;return"blur"===t.background}))return;if(Y("BackgroundBlur is presented in AdBreak"),!ub)return void Y("BackgroundBlur is NOT supported");const r=new kb({container:t,videoNode:this.videoNode});hl.event({name:"InitBackgroundBlur",data:{isBackgroundSlotFromConfig:i},probability:Ud}),this.onDestroy.add(Ne([this.shouldBlurBeVisibleByApiLogic,this.adPodBackground,this.videoContentSizeSensor.videoContentSize,this.slotSize],(e,t,r,n)=>{if(!e)return!1;if(void 0===r)return!1;if("blur"!==t)return!1;if(i)return!0;const o=n.width/n.height,a=r.width/r.height-o;return Math.abs(a)>Pb},e=>{r.setPlaying(e)})),this.onDestroy.add(()=>r.destroy())}playAdMedia(e,t){this.currentViewer=e,e.trackEvent("onCreativeInit",void 0);let i=NaN;e.playingState.subscribeValueConditionOnce(e=>"play"===e,()=>{i=Date.now()}),this.adContentSize.dispatch(e.mediaAd.getAdContentDimensions()),e.isStarted.addOne(()=>{this.adContentSize.dispatch(e.getAdContentSize())}),e.addDestroyHandler(()=>{this.adContentSize.dispatch(void 0)}),e.isStarted.add(()=>{isNaN(i)?hl.error({error:new Qd({code:"AdPodStartWithoutPlayRequest",details:void 0})}):Hd&&hl.values({name:"AdPodStart",values:{startTime:Date.now()-i},data:{src:e.getSrc(),config:this.config,playRequestTime:String(i)},labels:{contentType:e.contentType}})}),this.onAdPodPlayAdMedia.dispatch(e);const r=e.playingState.getValue();"idle"!==r&&hl.error({error:new Qd({code:"VIEWER_PLAYING_STATE_INITIALIZED_BEFORE_START",details:{playingState:r}})}),e.playingState.subscribeValueCondition(e=>"end"!==e,t=>{this.currentViewer===e?this.playingState.dispatch(t):hl.error({error:new Qd({code:"VIEWER_PLAYING_STATE_DISPATCHED_OUT_OF_LIFECYCLE",details:{playingState:t}})})});const n=this.getAutoplay();n&&(this.config.autoplay=!0),e.addDestroyHandler(e=>{const i=yn(e);i&&(this.trackError(i),hl.error({error:i}),xr("AdPod playing error",i),this.onAdPodError.dispatch(i)),this.currentViewer=void 0,t(e)}),this.onAdPodComplete.add(()=>{e.isDestroyed||(e.destroy({reason:"destroy",details:void 0}),hl.error({error:new Qd({code:"VIEWER_IS_NOT_DESTROYED_AFTER_COMPLETE",details:{src:e.getSrc()}})}))}),e.play(n)}getCurrentViewerStartTime(){const e=this.getCurrentViewerIndex();let t=0;for(let i=0;i<e;i++)t+=this.viewersList[i].getDuration();return t}async startAdPlayback(e){const{videoNode:t}=this;if(!this.getIfIsNonLinear()){!0===t.loop&&(t.loop=!1,this.onBeforeDestroy.addOne(()=>{t.loop=!0}));const e=function(e){if(!An(e))return r;const{controls:t}=e,i=e.getAttribute("poster"),n={autoplay:e.getAttribute("autoplay"),controls:e.getAttribute("controls"),height:e.getAttribute("height"),poster:""===i?null:i,preload:e.getAttribute("preload"),width:e.getAttribute("width"),style:e.getAttribute("style")},o=nn(e,{crossorigin:null}),a=Xr(e,{objectFit:""}),{parentElement:s}=e;return F(()=>{Fe(e,n),e.controls=t,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(e),o(),a(),cn(e,()=>{e.load()}),s&&s!==e.parentElement&&hl.error({error:new Qd({code:"VIDEO_NODE_DOM_POSITION_CHANGED",details:{hasParentAfterChange:Boolean(e.parentElement)}})})})}(t);this.onBeforeDestroy.addOne(e);const i=So(t);this.onBeforeDestroy.addOne(i);const n=function(e){if(!An(e))return r;const t=e.getAttribute("src")||e.src||null,i=md(s(e.getElementsByTagName("source")),e=>({src:e.getAttribute("src"),type:e.getAttribute("type")}));return F(()=>{t?e.setAttribute("src",t):e.removeAttribute("src"),yc(i,t=>{const i=e.ownerDocument.createElement("source");e.appendChild(i),h(t,(e,t)=>{i.setAttribute(t,String(e))})}),cn(e,()=>{e.load()})})}(t);this.onBeforeDestroy.addOne(()=>{this.isLastAdPodRetainedMedia()||n()})}let i;const n=$u(this.viewersList,e=>e.mediaAd.getIsIndependentOnVideoElement()),{videoSlotCanAutoPlay:o}=this.config;this.videoNode;if(n?(Y("autoplayAbility=positive for independentOnVideoElement ad"),i=gg):"boolean"===typeof o?(Y("autoplayAbility=["+o+"] due to videoSlotCanAutoPlay"),i=o?gg:mg):An(this.videoNode)?(Y("start autoplay ability request"),i=await this.requestAutoplayAbility(),Y("autoplayAbility=["+JSON.stringify(i)+"]")):(Y("autoplayAbility=positive for fake video element"),i=gg),this.isFinished)throw new Qd({code:"AD_FINISHED_DURING_RAA",details:void 0});this.autoplayAbility=i,this.onDetectAutoplayAbility.dispatch(i),i.requireUserGesture&&this.onAdStartRejected.dispatch(void 0),this.autoplayAbility.requireMute&&this.videoNodeController.setMuted(!0);const a=F(()=>{this.onReady.dispatch(void 0)}),d=F(()=>{this.onAdStart.dispatch({adType:e})});return yc(this.viewersList,(t,i)=>{t.addDestroyHandler(t=>{let{reason:i}=t;"complete"===i?this.onAdPodComplete.dispatch(void 0):"skip"===i?this.onAdSkipped.dispatch({adType:e}):"close"===i&&this.onAdPodClose.dispatch(void 0)}),t.onReady.addOne(a),t.isStarted.addOne(d),t.isStarted.add(()=>{this.onAdPodStart.dispatch(void 0)}),t.onPause.add(()=>{this.onAdPodPause.dispatch(void 0)}),t.onResume.add(()=>{this.onAdPodResume.dispatch(void 0)}),t.onVolumeChange.add(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.adVolume.dispatch(t.getVolume())}),t.isStarted.addOne(()=>{this.onAdMediaStart.dispatch({viewer:t,adType:e}),this.adPodDuration.dispatch(t.getDuration())}),t.isStarted.add(()=>{t.addDestroyHandler(this.videoNodeController.onBufferingAfterPlay.add(()=>{this.adMediaState.dispatch({name:"stalled"})})),t.addDestroyHandler(this.videoNodeController.playingState.add(e=>{e===yg.PLAY&&this.adMediaState.dispatch({name:"playing"})}))}),t.addDestroyHandler(()=>{this.adMediaState.dispatch({name:"idle"})}),t.onCurrentPositionChange.add(e=>{let{duration:t,remainingTime:i}=e;const r=ft(i)?t-i:0;this.onCurrentPositionChange.dispatch({viewerTime:r,viewerDuration:t,totalTime:this.getCurrentViewerStartTime()+r,totalDuration:this.getDuration()}),this.adPodDuration.dispatch(t)}),t.onClickThrough.add(e=>this.onClickThrough.dispatch(e));const{skipDelay:r}=t.adPodViewerPlaybackParams;(function(e){return!e.isVpaidAdPodViewer()||(!!e.adPodViewerPlaybackParams.showGuiForVpaid||(!!e.mediaAd.getIsYandexCreative()||!!Lr(e.mediaAd.vastAd)))})(t)?t.onCurrentPositionChange.add(e=>{let{duration:t,remainingTime:i}=e;const n=function(e){let{remainingTime:t,duration:i,skipDelay:r}=e;if(0===r)return hb;if(r>i-Rb)return hb;if(!ft(t))return hb;const n=i-t;return r<=n?0:r-n}({remainingTime:i,duration:t,skipDelay:r});this.timeToSkip.dispatch(n)}):t.onAdSkippableStateChange.add(e=>{this.timeToSkip.dispatch(e?0:hb)})}),new Promise(t=>{this.playAdViewers(e,()=>{t()})})}playAdViewers(e,t){this.adPodDestroyReasonObjects=[];const i=md(this.viewersList,t=>i=>{if(this.timeToSkip.dispatch(hb),this.isFinished){const e=new Qd({code:"AD_BREAK_IS_STOPPED",details:void 0});return t.mediaAd.trackError(e),this.adPodDestroyReasonObjects.push({reason:"error",details:e}),i()}const r=this.getAdPodContainerSizeError(t);if(r)return t.mediaAd.trackError(r),this.onAdPodError.dispatch(r),this.adPodDestroyReasonObjects.push({reason:"error",details:r}),i();this.adVolume.dispatch(this.videoNodeController.getVolume()),this.adVolumeAvailability.dispatch(gn(t.mediaAd.vastAd)),this.playAdMedia(t,t=>{this.adPodDestroyReasonObjects.push(t),this.onAdMediaEnd.dispatch({adType:e}),i()})});let r=-1;!function e(){const n=i[++r];void 0!==n?n(e):t()}()}getAdPodContainerSizeError(e){if(!e.mediaAd.getIsYandexCreative())return;const t=this.slotSize.getValue();if(Nn(t))return;if(Nn(this.wrapperNode.getBoundingClientRect()))return;const i=0===t.width||0===t.height,r="none"===zt(this.wrapperNode).display;let n;return new Qd({code:n=i?r?"SLOT_DISPLAY_NONE":"SLOT_ZERO_SIZE":"SLOT_SMALL_SIZE",details:{slotSize:t,config:this.config,adConfig:e.mediaAd.adConfig}})}async requestAutoplayAbility(){const e=Date.now(),{promise:t,stop:i}=function(e,t){let{checkSoundEnabled:i=!0}=void 0===t?{}:t;const r=un(e),n=new bg(e,{checkSoundEnabled:i,promise:r});return{promise:n.promise,stop:n.stop}}(this.videoNode,{checkSoundEnabled:!this.getMuted()});return this.onDestroy.add(i),new Promise(r=>{t.then(t=>{hl.values({name:"DetectAutoplayAbility",values:{duration:Date.now()-e},data:{config:this.config,autoplayAbility:t},labels:{},probability:Ud}),r(t)}).catch(()=>{this.isFinished||hl.error({error:new Qd({code:"RAA_WAS_STOPPED_WITHOUT_AD_FINISH",details:void 0})})}),"idle"===this.playingState.getValue()&&this.playingState.addOne(e=>{Y("RAA stopped by playingState=["+e+"]"),i(),r(gg)})})}destroyNextViewers(e){const{viewersList:t,currentViewer:i}=this;i&&i.destroy({reason:"destroy",details:void 0});for(let r=this.getCurrentViewerIndex()+1;r<t.length;r++){const{mediaAd:i}=t[r];i.trackEvent(e,this.getAdPlacementOptions(t[r]),void 0)}this.stop()}getIfIsNonLinear(){return $u(this.viewersList,e=>e.isNonLinear())}}let hy,uy;!function(e){e.AdStarted="AdStarted",e.AdStartRejected="AdStartRejected",e.AdPlayingStateChange="AdPlayingStateChange",e.AdPodStarted="AdPodStarted",e.AdPodImpression="AdPodImpression",e.AdPodVideoFirstQuartile="AdPodVideoFirstQuartile",e.AdPodVideoMidpoint="AdPodVideoMidpoint",e.AdPodVideoThirdQuartile="AdPodVideoThirdQuartile",e.AdRemainingTimeChange="AdRemainingTimeChange",e.AdPodSkipped="AdPodSkipped",e.AdClickThru="AdClickThru",e.AdPodStopped="AdPodStopped",e.AdPodComplete="AdPodComplete",e.AdPodClose="AdPodClose",e.AdPodError="AdPodError",e.AdStopped="AdStopped",e.AllAdPodVideoComplete="AllAdPodVideoComplete",e.AdSkippableStateChange="AdSkippableStateChange",e.AdVolumeChange="AdVolumeChange",e.AdVolumeAvailabilityStateChange="AdVolumeAvailabilityStateChange",e.AdContentSizeChange="AdContentSizeChange",e.AdPodCloseStateChange="AdPodCloseStateChange",e.AdInteraction="AdInteraction",e.AdMediaStateChange="AdMediaStateChange"}(hy||(hy={})),function(e){e.adComplete="adComplete",e.stopAd="stopAd"}(uy||(uy={}));class fy extends rc{constructor(e){let{videoSlot:t,slot:i,mediaAds:n,playbackParameters:o,onPlayAd:a,renderSkin:s}=e;super(),Mo(this,"pauseAd",this.createPlaybackMethod("pauseAd",()=>{this.adDisplayController.pause()})),Mo(this,"resumeAd",this.createPlaybackMethod("resumeAd",()=>{this.adDisplayController.resume()})),Mo(this,"isPlayAdCalled",!1),Mo(this,"adDisplayController",void 0),Mo(this,"onAllAdPodComplete",new mh),Mo(this,"videoSlot",void 0),Mo(this,"slot",void 0),Mo(this,"mediaAds",void 0),Mo(this,"playbackParameters",void 0),Mo(this,"onPlayAd",void 0),Mo(this,"lastMediaRetained",!1),Mo(this,"getPublicInstance",()=>({playAd:this.playAd,stopAd:this.stopAd,pauseAd:this.pauseAd,getAdPlayingState:this.getAdPlayingState,resumeAd:this.resumeAd,subscribe:this.subscribe,skipAd:this.skipAd,getAdSkippableState:this.getAdSkippableState,getAdPodTimeToSkip:this.getAdPodTimeToSkip,getAdPodCloseState:this.getAdPodCloseState,getAdVolume:this.getAdVolume,setAdVolume:this.setAdVolume,getAdVolumeAvailabilityState:this.getAdVolumeAvailabilityState,getAdRemainingTime:this.getAdRemainingTime,getAdPodRemainingTime:this.getAdPodRemainingTime,getAdDuration:this.getAdDuration,getAdPodDuration:this.getAdPodDuration,getAdContentSize:this.getAdContentSize,getAdMediaState:this.getAdMediaState,getMediaElementStatusAfterAdStopped:this.getMediaElementStatusAfterAdStopped})),Mo(this,"getAdMediaState",()=>this.adDisplayController.adMediaState.getValue()),Mo(this,"getAdContentSize",()=>this.adDisplayController.adContentSize.getValue()),Mo(this,"getMediaElementStatusAfterAdStopped",()=>{if(this.isDestroyed)return{lastMediaRetained:this.lastMediaRetained}}),Mo(this,"playAd",()=>{if(this.isPlayAdCalled){Te(new Qd({code:"ATTEMPT_TO_PLAY_AD_SECOND_TIME",details:void 0}))}else this.isPlayAdCalled=!0,this.onPlayAd(),this.adDisplayController.showAd(this.mediaAds).then(()=>{this.destroy(uy.adComplete)}).catch(U)}),Mo(this,"stopAd",()=>{this.destroy(uy.stopAd)}),Mo(this,"getAdPlayingState",()=>this.isPlayAdCalled?this.adDisplayController.isFinished?"end":this.adDisplayController.playingState.getValue():"idle"),Mo(this,"getAdSkippableState",()=>this.adDisplayController.adSkippableState.getValue()),Mo(this,"getAdPodTimeToSkip",()=>!this.isPlayAdCalled||this.isDestroyed?hb:this.adDisplayController.timeToSkip.getValue()),Mo(this,"getAdPodCloseState",()=>this.adDisplayController.adPodCloseState.getValue()),Mo(this,"getAdVolume",()=>!this.isPlayAdCalled||this.isDestroyed?ml:this.adDisplayController.getVolume()),Mo(this,"setAdVolume",e=>{this.isPlayAdCalled&&!this.isDestroyed&&(0===e?this.adDisplayController.setMuted(!0):this.adDisplayController.setVolume(e))}),Mo(this,"getAdVolumeAvailabilityState",()=>!this.isPlayAdCalled||this.isDestroyed?db:this.adDisplayController.getAdVolumeAvailability()),Mo(this,"getAdRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdRemainingTime():this.getAdDuration()),Mo(this,"getAdPodRemainingTime",()=>this.isPlayAdCalled?this.adDisplayController.getAdPodRemainingTime():this.getAdPodDuration()),Mo(this,"getAdDuration",()=>this.isPlayAdCalled?this.adDisplayController.getDuration():this.mediaAds.getDuration()),Mo(this,"getAdPodDuration",()=>{var e;if(this.isPlayAdCalled)return this.adDisplayController.getAdPodDuration();const[t]=this.mediaAds.mediaAds;return null!==(e=null===t||void 0===t?void 0:t.getDuration())&&void 0!==e?e:0}),Mo(this,"skipAd",()=>{this.getAdSkippableState()?this.adDisplayController.skipAllViewers():hl.error({error:new Qd({code:"ATTEMPT_TO_SKIP_NOT_SKIPPABLE_AD",details:void 0})})}),Mo(this,"subscribe",(e,t)=>{if("function"!==typeof t)return r;const i=i=>{try{t(i)}catch(NE){hl.error({error:new Qd({code:"APC_CALLBACK_ERROR",details:{eventName:e,data:i}})}),U(NE)}},n=()=>{i({})};switch(e){case hy.AdMediaStateChange:return this.adDisplayController.adMediaState.add(n);case hy.AdContentSizeChange:return this.adDisplayController.adContentSize.add(n);case hy.AdStarted:return this.adDisplayController.onAdStart.add(n);case hy.AdPodStarted:return this.adDisplayController.onAdMediaStart.add(n);case hy.AdPodImpression:return this.adDisplayController.onAdPodImpression.add(n);case hy.AdPodVideoFirstQuartile:return this.adDisplayController.onAdPodFirstQuartile.add(n);case hy.AdPodVideoMidpoint:return this.adDisplayController.onAdPodMidpoint.add(n);case hy.AdPodVideoThirdQuartile:return this.adDisplayController.onAdPodThirdQuartile.add(n);case hy.AdRemainingTimeChange:return this.adDisplayController.onCurrentPositionChange.add(()=>{i({})});case hy.AdPodSkipped:return this.adDisplayController.onAdSkipped.add(n);case hy.AdClickThru:return this.adDisplayController.onClickThrough.add(n);case hy.AdPodError:return this.adDisplayController.onAdPodError.add(e=>{let t;"string"===typeof e.code?t=e.code:(t="AD_POD_UNRECOGNIZED_ERROR_CODE",hl.error({error:new Qd({code:t,details:{error:e}})})),i({code:t})});case hy.AdPodStopped:return this.adDisplayController.onAdMediaEnd.add(n);case hy.AdPodComplete:return this.adDisplayController.onAdPodComplete.add(n);case hy.AdPodClose:return this.adDisplayController.onAdPodClose.add(n);case hy.AllAdPodVideoComplete:return this.onAllAdPodComplete.add(n);case hy.AdStopped:return this.adDisplayController.onDestroy.add(n);case hy.AdSkippableStateChange:return this.adDisplayController.adSkippableState.add(e=>{i({skippableState:e})});case hy.AdVolumeChange:return this.adDisplayController.adVolume.add(()=>{i({})});case hy.AdVolumeAvailabilityStateChange:return this.adDisplayController.adVolumeAvailability.add(()=>{i({})});case hy.AdPlayingStateChange:return this.adDisplayController.playingState.add(e=>{i({playingState:e})});case hy.AdStartRejected:return this.adDisplayController.onAdStartRejected.add(n);case hy.AdPodCloseStateChange:return this.adDisplayController.adPodCloseState.add(n);case hy.AdInteraction:return this.adDisplayController.onAdInteraction.add(n);default:return r}}),this.videoSlot=t,this.slot=i,this.mediaAds=n,this.playbackParameters=o,this.onPlayAd=a,this.adDisplayController=new ly({config:this.playbackParameters,videoNode:this.videoSlot,videoWrapperNode:this.slot,renderSkin:s}),this.playbackParameters.retainLastMediaAfterPlayback&&this.adDisplayController.enableRetainLastMediaAfterPlayback(),this.adDisplayController.onDestroy.add(()=>{this.adDisplayController.areAllAdPodsCompleted()&&this.onAllAdPodComplete.dispatch(void 0),this.lastMediaRetained=this.adDisplayController.isLastAdPodRetainedMedia()}),this.addDestroyHandler(()=>{this.adDisplayController.destroy()})}createPlaybackMethod(e,t){return()=>{if(this.isPlayAdCalled&&!this.isDestroyed)t();else{Te(new Qd({code:this.isDestroyed?"CALL_PLAYBACK_METHOD_AFTER_STOP":"CALL_PLAYBACK_METHOD_BEFORE_PLAY",details:{methodName:e}}))}}}}var py,my,gy,vy,by,yy,Ay={},_y=[],wy=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;py={__e:function(e,t){for(var i,r;t=t.__;)if((i=t.__c)&&!i.__)try{if(i.constructor&&null!=i.constructor.getDerivedStateFromError&&(r=!0,i.setState(i.constructor.getDerivedStateFromError(e))),null!=i.componentDidCatch&&(r=!0,i.componentDidCatch(e)),r)return zo(i.__E=i)}catch(t){e=t}throw e}},Fo.prototype.setState=function(e,t){var i;i=this.__s!==this.state?this.__s:this.__s=Vo({},this.state),"function"==typeof e&&(e=e(i,this.props)),e&&Vo(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),zo(this))},Fo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),zo(this))},Fo.prototype.render=Uo,my=[],gy="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,by=Ay,yy=0;const Sy=e=>xo(Uo,null,wh(e.components,(t,i)=>i(na({},e.componentsProps,{children:t})),e.children));class Ey extends Fo{static isValidPreactError(e){return xe(e)||Kc(e)}static createPreactError(e){return xe(e)?e:new Qd(e,{code:"PREACT_ERROR",details:{error:e}})}constructor(){var e,t,i;super(),e=this,t="initialRender",i=new gh({status:"initial"}),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,this.initialRender.addOne(e=>{"initial"!==e.status&&this.props.onFirstRender(e)})}componentDidCatch(e){const t=Ey.createPreactError(e);hl.error({error:t});const{status:i}=this.initialRender.getValue();"initial"===i?this.initialRender.dispatch({status:"error",error:t}):this.props.onRuntimeError(t)}componentDidMount(){this.initialRender.dispatch({status:"success"})}render(){return this.props.children}}var Ty,Cy,Iy,ky=[],Py=py.__r,Oy=py.diffed,Dy=py.__c,Ry=py.unmount;py.__r=function(e){Py&&Py(e),Ty=0,(Cy=e.__c).__H&&(Cy.__H.__h.forEach(fa),Cy.__H.__h.forEach(pa),Cy.__H.__h=[])},py.diffed=function(e){Oy&&Oy(e);var t=e.__c;if(t){var i=t.__H;i&&i.__h.length&&(1!==ky.push(t)&&Iy===py.requestAnimationFrame||((Iy=py.requestAnimationFrame)||function(e){var t,i=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(i,100);"undefined"!=typeof window&&(t=requestAnimationFrame(i))})(ua))}},py.__c=function(e,t){t.some((function(e){try{e.__h.forEach(fa),e.__h=e.__h.filter((function(e){return!e.__||pa(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],py.__e(i,e.__v)}})),Dy&&Dy(e,t)},py.unmount=function(e){Ry&&Ry(e);var t=e.__c;if(t){var i=t.__H;if(i)try{i.__.forEach((function(e){return e.t&&e.t()}))}catch(e){py.__e(e,t.__v)}}};const Ny=ra({isAbuseSupported:!1,abuseButtonClickHandler:r,abuseScreenStatus:"hidden",abuseScreenCloseHandler:r,abuseVariantChooseHandler:r,pauseByOpenAbuseScreen:!1}),My=e=>{let{adDisplayController:t}=e;const i=va(t.pauseByOpenAbuseScreen),r=va(t.abuseScreenStatus),{abuseParameters:n,playingState:o}=t,{abuseUrl:a}=va(n);return sa(()=>{const e=o.subscribeValueCondition(e=>"play"===e,()=>{"hidden"!==r&&t.handleAbuseScreenCloseByResumeError()});return()=>{e()}},[r]),{isAbuseSupported:Boolean(a),abuseButtonClickHandler:t.abuseButtonClickHandler,abuseScreenStatus:r,abuseScreenCloseHandler:t.abuseScreenCloseHandler,abuseVariantChooseHandler:t.abuseVariantChooseHandler,pauseByOpenAbuseScreen:i}},Vy=()=>ha(Ny),By=ra({layoutVariant:"regular"}),xy=e=>{let{adDisplayController:t}=e;const{controlsVariant:i}=t.config.controlsSettings;return{layoutVariant:"banner"===i?"banner":"regular"}},Ly=()=>ha(By);var Uy=function(){for(var e,t,i=0,r="";i<arguments.length;)(e=arguments[i++])&&(t=ba(e))&&(r&&(r+=" "),r+=t);return r};const Fy={full:"ABUSE_SCREEN_DESCRIPTION",short:"ABUSE_SCREEN_DESCRIPTION_SHORT"},Hy=ra(gl),jy=e=>va(e),zy=()=>ha(Hy),Wy=ra({element:document.body,window}),Yy=e=>{return{element:e,window:e.ownerDocument.defaultView}},Gy=()=>ha(Wy);Number(new Date);class qy{constructor(){var e,t,i;e=this,t="usingStylesByContainersMap",i=new WeakMap,t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}addStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return this.usingStylesByContainersMap.set(e,new Map([[t,1]])),!0;const r=i.get(t);return r?(i.set(t,r+1),!1):(i.set(t,1),!0)}removeStyleUsing(e,t){const i=this.usingStylesByContainersMap.get(e);if(!i)return!0;const r=i.get(t);return!r||(i.set(t,r-1),!(r>1)&&(i.delete(t),0===i.size&&this.usingStylesByContainersMap.delete(e),!0))}}const Ky=new class{constructor(){Aa(this,"stylesUsingCounter",new qy),Aa(this,"styleElementsMap",new WeakMap)}useStyleModule(e,t){const i=t,o=[];for(let r=0;r<i.length;r++){const[t,n]=i[r];if(n){if(this.stylesUsingCounter.addStyleUsing(e,t)){const i=Ao(e,n),r=this.styleElementsMap.get(e);r?r.set(t,i):this.styleElementsMap.set(e,new Map([[t,i]]))}o.push(t)}}return o.length?F(()=>{yc(o,t=>{const i=this.stylesUsingCounter.removeStyleUsing(e,t),r=this.styleElementsMap.get(e);i&&r&&(n(r.get(t)),r.delete(t),0===r.size&&this.styleElementsMap.delete(e))})}):r}},Xy=ra(e=>_h(e,vh)),Qy=e=>{let{adDisplayController:t}=e;const{lang:i}=t.config;return e=>_h(e,i)},Jy=()=>ha(Xy),Zy=ra({socialAdvertising:!1}),$y=e=>{let{adDisplayController:t}=e;return{socialAdvertising:va(t.socialAdvertising)}},eA=()=>ha(Zy),tA=450;var iA=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{d:"M1 1l24 24M1 25L25 1",stroke:"#F2F2F2","stroke-width":"2"},[])])};const rA=e=>{let{className:t}=e;return xo(iA,{className:t})};var nA=i(29),oA=i.n(nA);const aA=e=>{let{children:t,isActive:i=!0,onClick:r,className:n,buttonClassName:o,contentClassName:a}=e;return _a(oA.a),xo("div",{className:Uy(nA.locals.Button,n,{[nA.locals.Button_active]:i}),onClick:r},xo("div",{className:nA.locals.Button__clickable},xo("div",{className:o},xo("div",{className:Uy(nA.locals.Button__content,a)},t))))};var sA=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"7",height:"12",viewBox:"0 0 7 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{d:"M5.8 6l.34.34a.48.48 0 000-.68L5.8 6zM.66 1.54l4.8 4.8.68-.68-4.8-4.8-.68.68zm4.8 4.12l-4.8 4.8.68.68 4.8-4.8-.68-.68z",fill:"#fff"},[])])};const dA=e=>{let{className:t}=e;return xo(sA,{className:t})};var cA=i(18),lA=i.n(cA);const hA=e=>{let{onClick:t,size:i,text:r,className:n}=e;_a(lA.a);const o=Uy(cA.locals.AbuseVariantButton,n,{[cA.locals.AbuseVariantButton_middle]:"middle"===i}),a=Uy(cA.locals.AbuseVariantButton__content,{[cA.locals.AbuseVariantButton__content_middle]:"middle"===i}),s=Uy({[cA.locals.AbuseVariantButton__icon_middle]:"middle"===i}),d=la(e=>{e.stopPropagation(),t()},[]);return xo(aA,{className:o,contentClassName:cA.locals.AbuseVariantButton__basecontent,onClick:d},xo("div",{className:a},r,xo(dA,{className:s})))};var uA=i(10),fA=i.n(uA);const pA=()=>{_a(fA.a);const e=Jy(),t=zy(),i=wa(t),{width:r,height:n}=t,{abuseVariantChooseHandler:o,abuseScreenCloseHandler:a}=Vy(),{socialAdvertising:s}=eA(),d=e("ABUSE_SCREEN_TITLE"),c=ca(()=>Oe(_g,(e,t)=>()=>o(t)),[o]),l=function(e){let{translate:t,socialAdvertising:i,abuseScreenWidth:r}=e;return i?{notInterestedSocialAd:t("ABUSE_VARIANT_NOT_INTERESTED_SOCIAL_AD"),politicalSocialAd:t("ABUSE_VARIANT_POLITICAL_SOCIAL_AD"),shockingContentSocialAd:t("ABUSE_VARIANT_SHOCKING_CONTENT_SOCIAL_AD"),falseInfoSocialAd:t("ABUSE_VARIANT_FALSE_INFO_SOCIAL_AD")}:{notInterested:t("ABUSE_VARIANT_NOT_INTERESTED"),annoying:t("ABUSE_VARIANT_ANNOYING"),spam:t(r<600?"ABUSE_VARIANT_SPAM_SHORT":"ABUSE_VARIANT_SPAM")}}({translate:e,socialAdvertising:s,abuseScreenWidth:r}),h=function(e){if(!(e<350))return e<450?"short":"full"}(n),u=void 0===h?void 0:e(Fy[h]),f=Boolean(u),p=r<700,m=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?360:i?t>=400?320:240:t>=500?280:t>=400?240:200}({hasDescription:f,abuseScreenWidth:r}),g=n>200,v=function(e){let{abuseScreenWidth:t,hasDescription:i}=e;return t>=600?27:i&&t>=400?25:t>=500?19:17}({hasDescription:f,abuseScreenWidth:r}),b={marginBottom:Ea({isShortDescription:"short"===h,abuseScreenWidth:r}),fontSize:r<400?11:13,lineHeight:r<400?"15px":"21px"};return xo("div",{className:uA.locals.AbuseScreen},xo("div",{className:Uy(uA.locals.AbuseScreen__content,{[uA.locals.AbuseScreen__content_centered]:p}),style:{width:m,paddingBottom:p&&g?"5%":0}},g&&xo("div",{className:Uy({[uA.locals.AbuseScreen__title_centered]:!f}),style:{fontSize:v,marginBottom:r<500?7:14},dangerouslySetInnerHTML:{__html:d}}),f&&xo("div",{style:b},u),xo("div",{className:uA.locals.AbuseScreen__buttons},md(_(l),e=>xo(hA,{key:e,className:uA.locals.AbuseScreen__button,size:Sa({abuseScreenWidth:r,hasDescription:f}),text:l[e],onClick:c[e]})))),xo("div",{onClick:a,className:Uy(uA.locals.AbuseScreen__crossContainer,{[uA.locals.AbuseScreen__crossContainer_medium]:"middle"===i})},xo(rA,{className:uA.locals.AbuseScreen__cross})))},mA=ra({}),gA=e=>{let{adDisplayController:t}=e;return va(t.combinedSkinControlsVisibility)},vA=()=>ha(mA),bA=ra({playingState:"idle",play:r,pause:r,isStarted:!1,isSlowStart:!1}),yA={"play-circle-click":"SkinPlayByCircleButton","play-tgo":"SkinTGOPlayByButton","pause-tgo":"SkinTGOPausedByButton"},AA=e=>{let{adDisplayController:t}=e;const[i,r]=aa(!1),n=va(t.playingState),o=va(t.adSlowStart);return sa(()=>{const e=t.onAdStart.addOne(()=>{r(!0)});return()=>{e()}},[]),{playingState:n,play:la(e=>{var i;t.resume(),hl.event({name:null!==(i=yA[e])&&void 0!==i?i:"SkinPlayByButton",data:{reason:e}})},[]),pause:la(e=>{var i;t.pause(),hl.event({name:null!==(i=yA[e])&&void 0!==i?i:"SkinPausedByButton",data:{reason:e}})},[]),isStarted:i,isSlowStart:o}},_A=()=>ha(bA),wA=ra({timeToSkip:hb,skipCurrentAdPod:r}),SA=e=>{let{adDisplayController:t}=e;const{timeToSkip:i}=t;return{timeToSkip:va(i),skipCurrentAdPod:la(()=>{const e=i.getValue();0===i.getValue()?t.skipCurrentViewer():hl.event({name:"ClickToInactiveSkipButton",data:{timeToSkipValue:e}})},[])}},EA=()=>ha(wA),TA={volumeStatus:"unavailable",setMuted:r},CA=ra(TA),IA=e=>{let{adDisplayController:t}=e;const[i,r]=aa(TA.volumeStatus);sa(()=>{const{adVolume:e,adVolumeAvailability:i,adHasBeenUnmuted:n}=t,o=Ta({adVolume:e.getValue(),adVolumeAvailability:i.getValue(),adHasBeenUnmuted:n.getValue()});return r(o),Ne([e,i,n],(e,t,i)=>Ta({adVolume:e,adVolumeAvailability:t,adHasBeenUnmuted:i}),r)},[]);return{volumeStatus:i,setMuted:e=>{t.setMuted(e)}}},kA=()=>ha(CA);var PA=i(68),OA=i.n(PA),DA=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.263 4.06c2.08 2.159 3.227 4.929 3.227 7.8 0 2.871-1.146 5.641-3.227 7.8l-1.73-1.42c1.703-1.768 2.641-4.032 2.641-6.38 0-2.347-.938-4.613-2.641-6.38l1.73-1.42zM7.61 9.26l3.964-3.9h1.33v13h-1.33l-3.97-3.9H3.64v-5.2h3.97zm11.248 2.6a7.666 7.666 0 00-2.053-5.2l-1.73 1.487a5.48 5.48 0 011.467 3.712 5.48 5.48 0 01-1.467 3.714l1.73 1.487a7.667 7.667 0 002.053-5.2z",fill:"#F2F2F2"},[])])};const RA=e=>{let{className:t}=e;return _a(OA.a),xo(DA,{className:Uy(PA.locals.MuteIcon,t)})};var NA=i(20),MA=i.n(NA);const VA=e=>{let{isActive:t=!0,className:i,size:r}=e,n=function(e,t){if(null==e)return{};var i,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)i=o[r],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,["isActive","className","size"]);_a(MA.a);const o=Uy(NA.locals.SquareButton,i,{[NA.locals.SquareButton_active]:t,[NA.locals.SquareButton_middle]:"middle"===r});return xo(aA,Ca({},n,{isActive:t,className:o,buttonClassName:NA.locals.SquareButton__basebutton,contentClassName:NA.locals.SquareButton__basecontent}))};var BA=i(21),xA=i.n(BA);const LA=e=>{let{onClick:t,size:i}=e;return _a(xA.a),xo(VA,{className:BA.locals.MuteButton,onClick:t,size:i},xo("div",{className:BA.locals.MuteButton__content},xo("div",{className:Uy(BA.locals.MuteButton__iconContainer,{[BA.locals.MuteButton__iconContainer_middle]:"middle"===i})},xo(RA,{className:BA.locals.MuteButton__icon}))))};var UA=i(69),FA=i.n(UA),HA=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"26",height:"24",viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.61 4L2.5 5.328 7.145 9.24H3.637v5.201h3.966l3.973 3.901h1.33v-4.25L19.92 20s.3-.292.62-.64c.242-.271.582-.697.582-.697L3.61 4zm12.907 8.412l2.002 1.686a7.556 7.556 0 00.346-2.258 7.666 7.666 0 00-2.054-5.2l-1.732 1.487a5.48 5.48 0 011.469 3.713c0 .192-.01.383-.031.572zm3.817 3.215l1.79 1.508A10.962 10.962 0 0023.5 11.84c0-2.871-1.147-5.642-3.23-7.801l-1.73 1.42c1.704 1.767 2.643 4.034 2.643 6.381a8.918 8.918 0 01-.85 3.787zM9.98 6.907l2.925 2.464V5.339h-1.33L9.981 6.907z",fill:"#F2F2F2"},[])])};const jA=e=>{let{className:t}=e;return _a(FA.a),xo(HA,{className:Uy(UA.locals.UnmuteIcon,t)})};var zA=i(13),WA=i.n(zA);const YA=e=>{let{onClick:t,size:i,unmuteText:r}=e;return _a(WA.a),xo(VA,{className:zA.locals.UnmuteButton,onClick:t,size:i},xo("div",{className:zA.locals.UnmuteButton__content},xo("div",{className:Uy(zA.locals.UnmuteButton__iconContainer,{[zA.locals.UnmuteButton__iconContainer_middle]:"middle"===i})},xo(jA,{className:zA.locals.UnmuteButton__icon})),r&&xo("div",{className:Uy(zA.locals.UnmuteButton__text,{[zA.locals.UnmuteButton__text_middle]:"middle"===i,[zA.locals.UnmuteButton__without_text]:!r})},r)))},GA=()=>{const{volumeStatus:e,setMuted:t}=kA(),i=la(()=>{t(!0)},[]),r=la(()=>{t(!1)},[]),n=wa(zy());if("unmuted"===e)return xo(LA,{onClick:i,size:n});const{layoutVariant:o}=Ly();let a;return"banner"!==o&&("mutedStart"===e&&"middle"===n)&&(a=_h("UNMUTE",vh)),xo(YA,{onClick:r,unmuteText:a,size:n})};var qA=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"34",height:"28",viewBox:"0 0 34 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 14L0 28V0l24 14zm10 14V0h-4v28h4z",fill:"#fff"},[])])};const KA=e=>{let{className:t}=e;return xo(qA,{className:t})},XA=e=>{let{timeToSkipString:t,iconClassName:i,digitsContainerClassName:r}=e;if(!t)return xo(KA,{className:i});const[n,o]=t;return xo("div",{className:r},xo("span",null,n),xo("span",null,o))};var QA=i(30),JA=i.n(QA);const ZA=e=>{let{isActive:t,onClick:i,countdownString:r}=e;_a(JA.a);const n=la(e=>{e.stopPropagation(),i()},[]);return xo(VA,{className:Uy(QA.locals.SkipButtonSmall,{[QA.locals.SkipButtonSmall__disabled]:!t}),onClick:n,size:"small",isActive:t},xo("div",{class:QA.locals.SkipButtonSmall__content},xo(XA,{timeToSkipString:r,iconClassName:QA.locals.SkipButtonSmall__timeToSkipString__icon})))};var $A=i(14),e_=i.n($A);const t_=e=>{let{isActive:t,onClick:i,skipText:r,countdownString:n}=e;_a(e_.a);const o=la(e=>{e.stopPropagation(),i()},[]);return xo(VA,{className:Uy($A.locals.SkipButtonWithText,{[$A.locals.SkipButtonWithText__disabled]:!t}),onClick:o,size:"middle",isActive:t},xo("div",{className:$A.locals.SkipButtonWithText__content},xo("div",{className:$A.locals.SkipButtonWithText__text},r),xo("div",{className:$A.locals.SkipButtonWithText__timeToSkipString},xo(XA,{timeToSkipString:n,iconClassName:$A.locals.SkipButtonWithText__icon,digitsContainerClassName:$A.locals.SkipButtonWithText__digitsContainer}))))},i_=2,r_=()=>{const e=zy(),{skipCurrentAdPod:t,timeToSkip:i}=EA(),r=Jy(),n=wa(e),o=function(e){if(e<=0)return"";const t=Math.ceil(e)%100;return ie(String(t),i_,"0")}(i),a=0===i;return"small"===n?xo(ZA,{onClick:t,countdownString:o,isActive:a}):xo(t_,{onClick:t,skipText:r("SKIP"),countdownString:o,isActive:a})};class n_{constructor(e,t){this.callback=t,Ia(this,"animationFrameFunctions",void 0),Ia(this,"time",0),Ia(this,"startTime",0),Ia(this,"id",0),Ia(this,"started",!1),Ia(this,"loop",()=>{this.clearTimeouts();const e=Date.now(),t=e-this.startTime;this.startTime=e,this.time+=t,this.callback({time:this.time,diff:t}),this.started&&this.startDelay()}),this.animationFrameFunctions=_o(e)}start(){this.started||(this.started=!0,this.startTime=Date.now(),this.startDelay())}stop(){this.started&&(this.started=!1,this.clearTimeouts(),this.time+=Date.now()-this.startTime)}startDelay(){this.id=this.animationFrameFunctions.requestAnimationFrame(this.loop)}clearTimeouts(){this.animationFrameFunctions.cancelAnimationFrame(this.id)}}const o_=1500;class a_{constructor(e){this.params=e,ka(this,"animationFramesController",void 0),ka(this,"position",0),ka(this,"offset",0),ka(this,"duration",void 0),ka(this,"onFinishOnce",void 0),ka(this,"onAnimationFrame",e=>{let{diff:t}=e;const i=t/this.duration,r=o_/this.duration;if(Math.abs(this.offset)>=r){const e=this.position+i+this.offset;return void this.setPosition(e)}const n=i*(1+this.offset/r);this.position=$r(this.position+n,0,1),this.position>=1&&this.onFinishOnce(),this.offset+=i-n,this.params.callback(this.position)}),this.duration=e.duration,this.onFinishOnce=F(e.onFinish),this.animationFramesController=new n_(e.win,this.onAnimationFrame)}start(){this.animationFramesController.start()}stop(){this.animationFramesController.stop()}adjustPosition(e){this.offset=e-this.position}setDuration(e){this.duration=e}setPosition(e){e>=1&&this.onFinishOnce(),this.position!==e&&(this.position=$r(e,0,1),this.offset=0,this.params.callback(e))}}const s_={currentTime:NaN,duration:Vg},d_=ra(0),c_=e=>{let{adDisplayController:t,slotElement:i}=e;const[n,o]=aa(s_.currentTime/s_.duration);return sa(()=>{var e,n;const a=new gh(s_.currentTime),s=new gh(s_.duration),d=null!==(e=null===(n=i.ownerDocument)||void 0===n?void 0:n.defaultView)&&void 0!==e?e:window,c=new a_({win:d,duration:s.getValue()*_p,callback:e=>{const t=$r(e,0,1);o(t)},onFinish:r});s.add(e=>{c.setDuration(e*_p)});const l=Ne([a,s],(e,t)=>e/t,e=>c.adjustPosition(e)),h=Ne([a,s,t.playingState],(e,t,i)=>le(e)&&le(t)&&"play"===i,e=>{e?c.start():c.stop()});let u=r;const f=t.onAdMediaStart.add(e=>{let{viewer:i}=e;a.dispatch(0),s.dispatch(i.getDuration()),u=t.onCurrentPositionChange.add(e=>{let{viewerTime:t,viewerDuration:i}=e;a.dispatch(t),s.dispatch(i)})}),p=t.onAdMediaEnd.add(()=>{u()});return()=>{p(),f(),u(),h(),l(),c.stop(),s.removeAll(),a.removeAll()}},[]),n},l_={currentNumber:0,count:0},h_=ra(l_),u_=e=>{let{adDisplayController:t}=e;const[i,r]=aa(l_.currentNumber),[n,o]=aa(l_.count),a=la(e=>o(e),[]);return sa(()=>{const e=t.onAdMediaStart.add(()=>{const e=t.getCurrentViewerIndex(),i=t.getViewerLength();r(e),a(i)});return()=>{e()}},[]),{currentNumber:i,count:n}},f_=4,p_=e=>Math.floor(1e4*e)/1e4;var m_=i(22),g_=i.n(m_);const v_="#ff1a2d",b_=e=>{let{currentNumber:t,count:i,color:r=""+v_,adAnimationProgress:n}=e;_a(g_.a);const{width:o,transform:a}=function(e){let{currentNumber:t,count:i}=e;const r=f_*(i-1)/i,n="calc("+p_(100/i)+"% - "+p_(r)+"px)",o=t*f_;return{width:n,transform:"translateX("+("calc("+p_(100*t)+"% + "+p_(o)+"px)")+")"}}({currentNumber:t,count:i});return xo("div",{className:m_.locals.TimelineBar__container,style:{width:o,transform:a}},xo("div",{className:Uy(m_.locals.TimelineBar,m_.locals.TimelineBar__background)}),xo("div",{className:Uy(m_.locals.TimelineBar,m_.locals.TimelineBar__progress),style:{transform:"scaleX("+n+")",backgroundColor:r}}))};var y_=i(70),A_=i.n(y_);const __=()=>{_a(A_.a);const{currentNumber:e,count:t}=ha(h_),i=(()=>ha(d_))();return xo("div",{className:y_.locals.Timeline},md(function(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}(t),r=>xo(b_,r<e?{key:r,adAnimationProgress:1,currentNumber:r,count:t}:r===e?{key:r,adAnimationProgress:i,currentNumber:r,count:t}:{key:r,adAnimationProgress:0,currentNumber:r,count:t})))};var w_=i(71),S_=i.n(w_);const E_=()=>{_a(S_.a);const{timeToSkip:e}=EA(),{playingState:t}=_A(),i=vA(),{volumeStatus:r}=kA(),n="idle"!==t&&"unavailable"!==r&&!1!==i.mute,o=e!==hb&&!1!==i.skip,a=!1!==i.timeline;return xo("div",null,xo("div",{className:w_.locals.ButtonControls},xo("div",null,n&&xo(GA,null)),xo("div",null,o&&xo(r_,null))),a&&xo(__,null))};i(72);new Map,new Set;var T_=i(73),C_=i.n(T_),I_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{fill:"#FC0",d:"M14.684 3.292Q17.053 5.661 17.053 9q0 3.34-2.369 5.708Q12.34 17.053 9 17.053V18q3.742 0 6.371-2.629Q18 12.742 18 9q0-3.718-2.629-6.371Q12.742 0 9 0v.947q3.34 0 5.684 2.345z"},[])])};ic({propertyName:"SPINNER_ICON_GLOBAL_CALLBACK",win:window});const k_=e=>{let{className:t}=e;return _a(C_.a),xo(I_,{className:Uy(T_.locals.SpinnerIcon__css_animated,t)})},P_=k_;var O_=i(74),D_=i.n(O_);const R_=e=>{let{className:t}=e;return _a(D_.a),xo(P_,{className:Uy(O_.locals.Spinner,t)})};var N_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{d:"M30 60c16.569 0 30-13.431 30-30C60 13.431 46.569 0 30 0 13.431 0 0 13.431 0 30c0 16.569 13.431 30 30 30z",fill:"#000","fill-opacity":".65"},[]),xo("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const M_=e=>{let{className:t}=e;return xo(N_,{className:t})};var V_=i(23),B_=i.n(V_);const x_=e=>{let{onClick:t,size:i}=e;_a(B_.a);const r=Uy(V_.locals.CirclePlayButton,{[V_.locals.CirclePlayButton_middle]:"middle"===i}),n=Uy(V_.locals.CirclePlayButton__icon,{[V_.locals.CirclePlayButton__icon_middle]:"middle"===i});return xo(aA,{className:r,contentClassName:V_.locals.CirclePlayButton__basecontent,onClick:t},xo(M_,{className:n}))},L_=()=>{const e=wa(zy()),{play:t}=_A(),i=la(()=>{t("play-circle-click")},[]);return xo(x_,{size:e,onClick:i})};var U_=i(75),F_=i.n(U_);const H_=()=>{_a(F_.a);const{playingState:e,isStarted:t,isSlowStart:i}=_A(),r=vA(),{layoutVariant:n}=Ly(),o="pause"===e,a=o&&!1!==r.play,s="banner"===n?o&&!t:a,d=!s&&!o&&!t&&i&&!1!==r.loader;return xo("div",{className:U_.locals.CenterControls},s&&xo(L_,null),d&&xo(R_,null))};var j_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 10h-4v12h4V10zm8 0h-4v12h4V10z",fill:"#fff"},[])])};const z_=e=>{let{className:t}=e;return xo(j_,{className:t})};var W_=i(39),Y_=i.n(W_);const G_=e=>{let{onClick:t,size:i}=e;_a(Y_.a);const r=Uy(W_.locals.PauseButton__icon,{[W_.locals.PauseButton__icon_middle]:"middle"===i});return xo(VA,{className:W_.locals.PauseButton,onClick:t,size:i},xo(z_,{className:r}))};var q_=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{d:"M25.423 19.454c-.793-.476-1.19-.714-1.516-.684a1 1 0 00-.713.404C23 19.44 23 19.901 23 20.826v18.348c0 .925 0 1.388.194 1.652a1 1 0 00.713.404c.326.03.723-.208 1.516-.684l15.29-9.174c.755-.453 1.132-.679 1.26-.971a1 1 0 000-.802c-.128-.292-.505-.518-1.26-.971l-15.29-9.174z",fill:"#fff","fill-rule":"evenodd","clip-rule":"evenodd"},[])])};const K_=e=>{let{className:t}=e;return xo(q_,{className:t})};var X_=i(40),Q_=i.n(X_);const J_=e=>{let{onClick:t,size:i}=e;_a(Q_.a);const r=Uy(X_.locals.SquarePlayButton__icon,{[X_.locals.SquarePlayButton__icon_middle]:"middle"===i});return xo(VA,{className:X_.locals.SquarePlayButton,onClick:t,size:i},xo(K_,{className:r}))},Z_=()=>{const{playingState:e,play:t,pause:i}=_A(),r=wa(zy()),n=la(()=>{i("pause-tgo")},[]),o=la(()=>{t("play-tgo")},[]);return"play"===e?xo(G_,{onClick:n,size:r}):xo(J_,{onClick:o,size:r})};var $_=i(76),ew=i.n($_);const tw=()=>{_a(ew.a);const{playingState:e,isStarted:t}=_A(),{volumeStatus:i}=kA(),r="pause"===e&&t,n="play"===e,o=n||r,a=(n||r||"end"===e)&&"unavailable"!==i;return xo("div",null,xo("div",{className:$_.locals.TgoButtonControls},xo("div",null,o&&xo(Z_,null)),xo("div",null,a&&xo(GA,null))))};var iw=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),[xo("g",{filter:"url(#svg-abuse-jsx-inline-1RCLVi9)",fill:"#fff"},[xo("rect",{x:"13.5",y:"8.25",width:"3",height:"3",rx:"1.5"},[]),xo("rect",{x:"13.5",y:"13.5",width:"3",height:"3",rx:"1.5"},[]),xo("rect",{x:"13.5",y:"18.75",width:"3",height:"3",rx:"1.5"},[])]),xo("filter",{id:"svg-abuse-jsx-inline-1RCLVi9",x:"-16",y:"-16",width:"62",height:"62",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},[xo("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"},[]),xo("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),xo("feOffset",{},[]),xo("feGaussianBlur",{stdDeviation:"8"},[]),xo("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),xo("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"},[]),xo("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),xo("feOffset",{},[]),xo("feGaussianBlur",{stdDeviation:"4"},[]),xo("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),xo("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"},[]),xo("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),xo("feOffset",{},[]),xo("feGaussianBlur",{stdDeviation:"2"},[]),xo("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),xo("feBlend",{mode:"normal",in2:"effect2_dropShadow",result:"effect3_dropShadow"},[]),xo("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),xo("feOffset",{},[]),xo("feGaussianBlur",{stdDeviation:"1"},[]),xo("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"},[]),xo("feBlend",{mode:"normal",in2:"effect3_dropShadow",result:"effect4_dropShadow"},[]),xo("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},[]),xo("feOffset",{dy:"1"},[]),xo("feGaussianBlur",{stdDeviation:".5"},[]),xo("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"},[]),xo("feBlend",{mode:"normal",in2:"effect4_dropShadow",result:"effect5_dropShadow"},[]),xo("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect5_dropShadow",result:"shape"},[])]),xo("clipPath",{id:"svg-abuse-jsx-inline-3qWaf6Y"},[xo("path",{d:"M0 0h30v30H0z"},[])])])};const rw=e=>{let{className:t}=e;return xo(iw,{className:t})};var nw=i(41),ow=i.n(nw);const aw=e=>{let{size:t,onClick:i}=e;return _a(ow.a),xo("div",{className:Uy(nw.locals.AbuseButton,{[nw.locals.AbuseButton_middle]:"middle"===t}),onClick:i},xo(rw,{className:nw.locals.AbuseButton__icon}))},sw=ra({adSystemType:void 0,openAdSystemWebsite:r}),dw=e=>{let{adDisplayController:t}=e;return{adSystemType:va(t.adSystemType),openAdSystemWebsite:t.openAdSystemWebsite}};var cw=function(e){e.styles;var t=Object.assign({},e);return delete t.styles,xo("svg",Object.assign({height:"14",viewBox:"0 0 67 14",width:"67",xmlns:"http://www.w3.org/2000/svg"},t),[xo("path",{d:"M4.133.977h-.616c-.932 0-1.834.616-1.834 2.405 0 1.728.827 2.284 1.834 2.284h.616zm-.962 5.65l-1.834 4.119H0l2.014-4.404C1.067 5.862.436 4.99.436 3.382.436 1.127 1.863 0 3.562 0H5.29v10.746H4.133V6.628zM27.774 6.958c0-2.374.916-3.892 2.69-3.892.676 0 1.067.18 1.397.39l-.165 1.113c-.315-.27-.766-.526-1.247-.526-.842 0-1.443.947-1.443 2.855 0 1.894.45 2.976 1.398 2.976.57 0 1.007-.225 1.277-.466l.27.872c-.405.346-.886.57-1.577.57-1.623 0-2.6-1.307-2.6-3.892zm-3.427.015v3.773h-1.172V3.17h1.172v3.502l1.818-3.502h1.188l-1.879 3.562 2.15 4.013h-1.278zm-5.516-.706h1.94c0-1.292-.211-2.24-.888-2.24-.721 0-.977.887-1.052 2.24zm1.293 4.584c-1.563 0-2.525-1.247-2.525-3.577 0-2.435.676-4.208 2.284-4.208 1.263 0 2.09.947 2.09 3.517v.646h-3.157c0 1.713.481 2.615 1.413 2.615.661 0 1.187-.3 1.488-.51l.27.9c-.48.376-1.112.617-1.863.617zm-4.99-6.733h-1.307v.135c0 1.593-.075 3.923-.707 5.531h2.014zm1.759 8.116H15.84v-1.488h-3.247v1.488h-1.052v-2.45h.466c.691-1.608.767-3.953.767-5.967v-.646h3.516v6.613h.602zM10.866 3.17v7.575H9.709V7.349H7.965v3.397H6.793V3.17h1.172v3.216H9.71V3.171zM39.121.616h-2.33c-.045 2.72-.12 4.794-.24 6.343-.135 1.608-.376 2.675-.781 3.17h3.351zm.796 10.13H35.32l-.106 1.788h-.586V10.13h.316c.526-.436.782-1.639.932-3.171.15-1.594.195-3.968.24-6.959h3.758v10.13h.736v2.404h-.586zM45.223 5.47c0-.39.03-.72.06-1.036h-.045c-.105.33-.24.646-.406.976l-2.464 5.336h-.602V3.17h.662v5.26c0 .406-.03.737-.06 1.067h.044c.106-.345.256-.676.406-1.007l2.465-5.32h.616v7.575h-.676zM51.294 6.793c0-1.984-.54-3.156-1.412-3.156-.676 0-1.247.721-1.578 1.533v4.238c.3.616.721.917 1.398.917.961 0 1.593-1.142 1.593-3.532zm-2.99 3.427v2.87h-.707V3.171h.617l.06 1.248c.33-.722.886-1.398 1.728-1.398 1.263 0 1.999 1.518 1.999 3.712 0 2.78-.932 4.148-2.345 4.148a1.716 1.716 0 01-1.352-.661zM53.67 6.523h2.75c.12-2.014-.482-2.916-1.248-2.916-.797 0-1.443 1.022-1.503 2.916zm1.652 3.757c1.007 0 1.533-.812 1.533-.812l.226.571s-.571.857-1.774.857c-1.608 0-2.344-1.458-2.344-3.937 0-2.48.932-3.938 2.21-3.938 1.307 0 2.148 1.368 1.908 4.058h-3.427c.03 2.074.571 3.2 1.668 3.2zM59.125 10.746h-.707V3.17h.707v3.562l2.54-3.562h.691l-2.495 3.517 2.675 4.058h-.781l-2.63-3.923zM65.257 3.757v6.989h-.707V3.757h-1.758v-.586H67v.586z"},[])])},lw=i(31),hw=i.n(lw);const uw=e=>{let{size:t,adSystemType:i,onClick:r}=e;_a(hw.a);const n=Jy(),o="yandex"===i;return xo("a",{className:Uy(lw.locals.AdLabel,{[lw.locals.AdLabel_middle]:"middle"===t,[lw.locals.AdLabel_withIcon]:o}),title:n("YANDEX_DIRECT"),onClick:r},o?xo(cw,{className:lw.locals.AdLabel_icon}):n("AD_TITLE"))};var fw=i(77),pw=i.n(fw);const mw=e=>{let{onClick:t}=e;_a(pw.a);const i=Jy()("SOCIAL_ADVERTISING_AD_LABEL");return xo("a",{className:fw.locals.SocialAdvertisingAdLabel,title:i,onClick:t},i)},gw=()=>{const e=wa(zy()),{adSystemType:t,openAdSystemWebsite:i}=(()=>ha(sw))(),{socialAdvertising:r}=eA();return r?xo(mw,{onClick:i}):void 0===t||"yandex"===t?null:xo(uw,{size:e,adSystemType:t,onClick:i})};var vw=i(78),bw=i.n(vw);const yw=()=>{_a(bw.a);const{playingState:e}=_A(),t=vA(),{isAbuseSupported:i,abuseButtonClickHandler:r}=Vy(),n=wa(zy()),o=!1!==t.adLabel&&"idle"!==e,a=oy(t)&&i;return xo("div",{className:vw.locals.TopControls},o&&xo(gw,null),a&&xo(aw,{onClick:r,size:n}))},Aw=()=>{const{abuseScreenStatus:e}=Vy();if("selection"===e)return xo(pA,null);const{layoutVariant:t}=Ly(),i="banner"===t?()=>null:E_;return xo(Uo,null,xo("banner"===t?tw:yw,null),xo(H_,null),xo(i,null))},_w=ra(Vg),ww=e=>{let{adDisplayController:t}=e;return va(t.adPodDuration)},Sw=[e=>xo(Wy.Provider,{value:Yy(e.slotElement),children:e.children}),e=>xo(bA.Provider,{value:AA(e),children:e.children}),e=>xo(h_.Provider,{value:u_(e),children:e.children}),e=>xo(d_.Provider,{value:c_(e),children:e.children}),e=>xo(_w.Provider,{value:ww(e),children:e.children}),e=>xo(Hy.Provider,{value:jy(e.adDisplayController.slotSize),children:e.children}),e=>xo(wA.Provider,{value:SA(e),children:e.children}),e=>xo(Xy.Provider,{value:Qy(e),children:e.children}),e=>xo(mA.Provider,{value:gA(e),children:e.children}),e=>xo(CA.Provider,{value:IA(e),children:e.children}),e=>xo(By.Provider,{value:xy(e),children:e.children}),e=>xo(Ny.Provider,{value:My(e),children:e.children}),e=>xo(sw.Provider,{value:dw(e),children:e.children}),e=>xo(Zy.Provider,{value:$y(e),children:e.children})];const Ew=(e=>(t,i)=>{const r=new mh,n=new mh,o=new mh,a=new Promise((e,t)=>{r.addOne(()=>{r.removeAll(),n.removeAll(),e()}),n.addOne(()=>{r.removeAll(),n.removeAll(),t()})}),s=new Promise((e,t)=>{o.addOne(()=>{t()})}),d=xo(Ey,{onFirstRender:e=>{"success"===e.status?r.dispatch(void 0):n.dispatch(void 0)},onRuntimeError:()=>{o.dispatch(void 0)}},xo(Sy,{components:Sw,componentsProps:{adDisplayController:i,slotElement:t}},e()));return Y("Skin: render skin"),ia(d,t),{firstRenderPromise:a,runtimeErrorPromise:s,clear:()=>{r.removeAll(),n.removeAll(),Y("Skin: destroy skin"),ia(null,t)}}})(()=>xo(Aw,null));var Tw=new WeakMap,Cw=new WeakMap,Iw=new WeakMap,kw=new WeakMap,Pw=new WeakMap,Ow=new WeakMap,Dw=new WeakMap;class Rw{constructor(e,t){var i=this;Tw.set(this,{writable:!0,value:void 0}),Cw.set(this,{writable:!0,value:[]}),Iw.set(this,{writable:!0,value:[]}),kw.set(this,{writable:!0,value:void 0}),Pw.set(this,{writable:!0,value:void 0}),Oa(this,"createPlaybackController",(function(e,t,r){void 0===r&&(r={}),hl.event({name:"CreatePlaybackController",probability:Ud,data:{config:r}});const n=Pa(r,["autoplay"]),{config:o,errors:a}=yo(n);yt(a);const s="VideoBannerAd"===ac||"Test"===ac,d=r.renderSkin,c=new fy({videoSlot:e,slot:t,mediaAds:Da(i,kw),playbackParameters:o,onPlayAd:()=>Da(i,Ow).call(i,"PublicControllerPlayAd"),renderSkin:s&&d?d:Ew}).getPublicInstance(),l=jd(Da(i,Iw),e=>{let{event:t}=e;return"CreateAdPlaybackController"===t});return yc(l,e=>{let{handler:t}=e;return t({playbackController:c})}),c})),Oa(this,"showAd",(function(e,t,r){void 0===r&&(r={}),Da(i,Ow).call(i,"AdStoreShowAd");const n=i.createPlaybackController(e,t,r);Da(i,Cw).push(n);const o=new Promise(e=>{n.subscribe(hy.AdStopped,()=>{Ra(i,Cw,jd(Da(i,Cw),e=>e!==n)),e()})});return n.playAd(),o})),Oa(this,"getAdDuration",()=>Da(this,kw).getDuration()),Oa(this,"separateAdPods",()=>md(Da(this,kw).mediaAds,e=>{const t=new Rw(new qm([e]),Da(this,Pw));return yc(Da(this,Iw),e=>{let{event:i,handler:r}=e;t.subscribe(i,r)}),t})),Oa(this,"getAdSourceTypes",()=>jd(md(Da(this,kw).mediaAds,e=>{let{contentType:t}=e;return t}),(e,t,i)=>i.indexOf(e)===t)),Oa(this,"setStatsRootFields",e=>{hl.setRootFields(e)}),Oa(this,"hasNotReplacedBroadcastAd",()=>eh(Da(this,kw).mediaAds,e=>e.isNotReplacedBroadcastAd())),Oa(this,"hasYandexCreative",()=>eh(Da(this,kw).mediaAds,e=>e.getIsYandexCreative())),Oa(this,"getNonYandexVastXmlTree",()=>this.hasYandexCreative()?void 0:function e(t){const i=md(t.children,t=>e(t));return{xmlString:t.xmlString,children:i}}(Da(this,Pw))),Oa(this,"destroy",()=>{yc(Da(this,Cw),e=>{e.stopAd()}),Da(this,Cw).length=0,Da(this,Dw).call(this,"AdStoreDestroy"),Ra(this,Tw,void 0),Da(this,Iw).length=0}),Oa(this,"preload",e=>{let{preloadTimeout:t=Ru}=e,i=Pa(e,["preloadTimeout"]);if(a(vc(window)))return Promise.resolve();const n=Eh(t).promise.then(()=>Da(this,Dw).call(this,"Timeout"));if(void 0===Da(this,Tw)){const e=md(Da(this,kw).mediaAds,e=>e.preload(i));Ra(this,Tw,Promise.all(e).then(r))}return Promise.race([Da(this,Tw),n])}),Oa(this,"filterAdPodsIndependentOnHtmlControls",e=>{const[t,i]=Xe(Da(this,kw).mediaAds,e=>e.getIfIsRequiredHtmlControls());Ra(this,kw,new qm(i)),yc(t,t=>{t.trackError(new Qd({code:"CANNOT_SHOW_CPC_CONTROLS",details:{mediaFile:t.getJSMediaFile(),reason:e}}))})}),Oa(this,"preventPlaying",(e,t)=>{yc(Da(this,kw).mediaAds,i=>{i.trackError(new Qd({code:"AD_STORE_PLAYING_PREVENTED",details:{mediaFiles:i.vastAd.mediaFiles,reason:e,details:t}}))}),Ra(this,kw,new qm([]))}),Oa(this,"getAdPodsCount",()=>Da(this,kw).mediaAds.length),Oa(this,"subscribe",(e,t)=>(Da(this,Iw).push({event:e,handler:t}),()=>{Ra(this,Iw,jd(Da(this,Iw),i=>{return!(i.event===e&&i.handler===t)}))})),Ow.set(this,{writable:!0,value:e=>{yc(Da(this,kw).mediaAds,t=>{t.isPreloaded()||t.cancelPreloading(e)})}}),Dw.set(this,{writable:!0,value:e=>{yc(Da(this,kw).mediaAds,t=>{t.cancelPreloading(e)})}}),Ra(this,kw,e),Ra(this,Pw,t)}}class Nw extends rc{constructor(e){let{adConfig:t,whenVmapLoaded:i,adBreak:r,adPlacementOptions:n}=e;if(super(),Na(this,"whenVmapLoaded",void 0),Na(this,"adBreak",void 0),Na(this,"vmap",void 0),Na(this,"adConfig",void 0),Na(this,"adPlacementOptions",void 0),Na(this,"getPublicInstance",()=>({loadAd:this.loadAd,destroy:()=>this.destroy()})),Na(this,"load",async e=>{await this.whenVmapLoaded;const{mediaAds:t}=await this.startLoadAd({adBreak:e});return t}),Na(this,"loadAd",async()=>{try{await this.whenVmapLoaded;const e=this.adBreak?this.adBreak:this.getDefaultAdBreakToPlayAd();if(!e)throw new Qd({code:"AD_BREAK_IS_NOT_FOUND",details:{adConfig:this.adConfig,adBreaks:this.getAdBreaks()}});const{mediaAds:t,vast:i}=await this.startLoadAd({adBreak:e});return new Rw(t,i)}catch(NE){throw xr(NE),hl.errorToStats(NE),NE}}),Na(this,"getInPageBlock",()=>Kr(this.getAdBreaks(),"inpage")[0]),Na(this,"getPrerollBlock",()=>Kr(this.getAdBreaks(),"preroll")[0]),Na(this,"getDefaultAdBreakToPlayAd",()=>{const{impId:e}=this.adConfig;return e?function(e,t){return Zs(e,e=>e.impId===t)}(this.getAdBreaks(),e):Kr(this.getAdBreaks(),"preroll")[0]}),this.adConfig=t,this.whenVmapLoaded=i,this.adBreak=r,this.adPlacementOptions=n,Y("AdLoader: create"),hl.event({name:"CreateAdLoader",probability:Ud,data:{adConfig:t,adBreak:r}}),af({secureMode:t.secureMode,url:void 0})){const e=wu();e.addUser(),this.addDestroyHandler(()=>{e.removeUser()}),"idle"===e.state.getValue().name&&e.init({container:document.body,initTimeout:Jv})}i.then(e=>{this.vmap=e}).catch(e=>{hl.errorToStats(e)})}getAdBreaks(){if(this.adBreak)return[this.adBreak];if(this.vmap)return this.vmap.adBreaks;throw new Qd({code:"NO_AD_BREAK_OR_VMAP_IN_AD_LOADER",details:void 0})}async startLoadAd(e){let{adBreak:t}=e;const{adConfig:i,adPlacementOptions:r}=this;return qr({adConfig:i,adBreak:t,adPlacementOptions:r,win:window})}}let Mw;!function(e){e.start="start",e.end="end"}(Mw||(Mw={}));const Vw={[Mw.start]:"preroll",[Mw.end]:"postroll"},Bw=_({inpage:0,preroll:0,midroll:0,pauseroll:0,overlay:0,postroll:0,replaced:0,notReplaced:0,inroll:0,"inroll-overlay":0}),xw="linear,nonlinear",Lw="linear",Uw="nonlinear",Fw=0,Hw=0,jw=0,zw={dark:"dark",light:"light"},Ww={top:"top",bottom:"bottom",auto:"auto","bottom-right":"bottom-right","bottom-left":"bottom-left","top-left":"top-left","top-right":"top-right"};let Yw;!function(e){e.manual="manual",e.auto="auto"}(Yw||(Yw={}));const Gw=e=>{const t=La("Collapse",e);return!0===La("Repeat",e)?Yw.auto:!1===t?Yw.manual:null},qw=e=>{if(!d(e))return;const{preferableAdSize:t}=e;if(!d(t))return;const{width:i,height:r}=t;return he(i)&&he(r)?{width:i,height:r}:void 0},Kw=_(tf),Xw=e=>{if(!d(e))return"Unsafe";const{secureMode:t}=e;return t&&-1!==Kw.indexOf(t)?t:"Unsafe"},Qw=async e=>{let{url:t,vmapLoadParams:i,timeout:n}=e;const o=Date.now();let s;hl.event({name:"VmapLoadStart",data:i,probability:Ud});try{const e=!a(vc(window)),i="boolean"===typeof kh?kh:e;s=await vt({url:t,data:null,timeout:n,withCredentials:i})}catch(NE){const t=Ku({thrownError:NE,errorCode:"VMAP_LOAD_ERROR",errorDetails:i,timeoutCode:"VMAP_LOAD_TIMEOUT",timeoutDetails:i});throw hl.error({error:t}),t}const{responseStatus:d,responseText:c}=s;if(200!==d){const e=(e=>{const t=e.match(/<!-- Page (\d+) disabled -->/i);if(!Array.isArray(t))return;const[,i]=t;return void 0!==i?parseInt(i,10):void 0})(c);if(he(e))throw new Qd({code:"BAD_PARTNER_OR_DOMAIN_FOR_VMAP_REQUEST",details:Ja({},i,{responseStatus:d,disabledPageId:e})});throw new Qd({code:"INVALID_VMAP_RESPONSE_STATUS",details:Ja({},i,{responseStatus:d,responseText:s.responseText})})}try{const{vmap:e,events:t,errors:n}=function(e,t,i){const{xml:n,responseText:o}=e,a={responseText:o};if(null===n||void 0===n)throw new Qd({code:"VMAP_EMPTY_RESPONSE",details:ja({},t,{vmapXmlObject:e})});const s=n.querySelector("VMAP");if(!s)throw new Qd({code:"NO_VMAP_ROOT_NODE",details:a});const d=s.querySelectorAll("AdBreak");if(null===d||0===d.length)throw new Qd({code:"NO_VMAP_AD_BREAKS",details:a});const c=new nS,l=n.querySelector("VMAP > Extensions");if(!l)throw new Qd({code:"NO_VMAP_EXTENSIONS",details:a});r(s.querySelectorAll("TrackingEvents"));const h=e=>{const t=l.querySelector('Extension[type="'+e+'"]');return t?$e(t):""},u=e=>parseInt(h(e),10);c.isSingleVideoSession=(e=>"true"===h(e))("SingleVideoSession");const f={sessionId:h("SessionID"),vastTimeout:u("VASTTimeout"),videoTimeout:u("VideoTimeout"),vpaidTimeout:u("VPAIDTimeout"),wrapperTimeout:u("WrapperTimeout"),wrapperMaxCount:u("WrapperMaxCount"),bufferFullTimeout:u("BufferFullTimeout"),bufferEmptyLimit:u("BufferEmptyLimit")},p=[],m=[];for(let r=0;r<d.length;r++)try{const{adBreak:e,errors:t,events:n}=Ha(ja({},f,i),a,d[r]);c.adBreaks.push(e),p.push(...t),m.push(...n)}catch(NE){p.push(NE)}return{vmap:c,errors:p,events:m}}(s,i,Qa(i.config));return yt(n),yc(t,e=>hl.event(Ja({labels:void 0},e))),hl.values({name:"VmapLoadSuccess",data:Ja({},i,{vmap:e}),probability:Ud,labels:{},values:{timeSpent:Date.now()-o}}),e}catch(NE){throw hl.errorToStats(NE),NE}},Jw=3e3,Zw=()=>Fs()/_p,$w="adsdksessionwatchedtimesinceadmap",eS=0;class tS{constructor(){var e,t,i;i=void 0,(t="storage")in(e=this)?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,void 0!==localStorage&&(this.storage=localStorage)}update(e){let{category:t}=e;!function(e){let{category:t,storage:i,now:r=Zw}=e;if(!i)return;const n=Za(i);n[t]=r();try{i.setItem($w,JSON.stringify(n))}catch(o){}}({category:t,storage:this.storage})}getWatchedTimeSinceAd(e){let{category:t}=e;return function(e){let{category:t,storage:i,now:r=Zw}=e;if(!i)return eS;const n=Za(i)[t];if(!he(n))return eS;const o=r();if(!he(o))return eS;const a=o-n;return he(a)?a:eS}({category:t,storage:this.storage})}}const iS="https://an.yandex.ru/vmap/",rS=e=>{const{category:t,startWatchedTime:i}=e,r=function(e){let{vmapId:t,category:i}=e;return t&&i?{"vmap-id":String(t),"video-category-id":String(i)}:t?{"vmap-id":String(t),"video-category-id":void 0}:{"vmap-id":void 0,"video-category-id":String(i)}}(e),n=Bp(e);let o;try{o=new tS}catch(NE){}let a=eS;return"number"===typeof t&&o&&(a=o.getWatchedTimeSinceAd({category:t})),$a({},n,r,{wtime:"number"===typeof i?String(Math.floor(i)):void 0,"wtime-since-ad":String(Math.floor(a)),client_type:"html"})};class nS{constructor(){es(this,"adBreaks",[]),es(this,"isSingleVideoSession",!1)}static async load(e,t){const i=Ga(e),r=function(e){let{config:t,adPlacementOptions:i=vl,win:r=window}=e;const{partnerId:n}=t;if(!n)throw new Qd({code:"VMAP_CONFIG_WITHOUT_PARTNER_ID",details:void 0});const o=rS(t),a=_e({url:R(""+iS+n,o),ignoreAbd:!0,options:i}),s=vc(r);return"function"===typeof s?s(R(a,{abd:"1"})):a}({config:i,adPlacementOptions:t,win:window}),{vmapLoadTimeout:n}=i;let o=Jw;n&&(o=n);const a={url:r,config:e,timeout:o};return await Qw({url:r,vmapLoadParams:a,timeout:o})}}const oS={impId:Fw,sessionId:"",vastTimeout:3e3,videoTimeout:1e4,vpaidTimeout:1e4,wrapperTimeout:3e3,wrapperMaxCount:3,bufferFullTimeout:5e3,bufferEmptyLimit:5},aS={adTagURI:"",adFoxParameters:void 0},sS=ts({adType:"preroll"},aS,oS),dS="0",cS=rs({adType:"inpage",replayMode:null,stick:!1},aS,oS),lS={repeatAfter:jw,maxRepeatCount:Hw,repeatNumber:0,timeOffset:10},hS=ns({adType:"midroll",broadcastReplace:!1},aS,lS,oS),uS=os({adType:"overlay"},aS,lS,oS),fS=as({adType:"postroll"},aS,oS),pS={inpage:cS,preroll:sS,midroll:hS,postroll:fS,overlay:uS},mS=_(pS),gS=async function(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i="preroll"),void 0===r&&(r=vl);const{adConfig:n,adBreak:o,warnings:a}=function(e,t,i){const{vastBase64:r,adBreakType:n}=e,o=cs(e,["vastBase64","adBreakType"]),a=[],s=Ka(o),{config:{videoContentId:d},errors:c}=s,l=cs(s.config,["videoContentId"]);a.push(...c);const h=ds({},l,{videoContentId:is(d)});let u,f;if(r&&(h.vast=Be(r)),ss(n)?f=n:t&&(a.push(new Qd({code:"USING_SYNTHETIC_VMAP_TYPE_PARAMETER",details:{adLoaderConfig:e,useDefaultAdPlaybackParameters:t,syntheticVMAPType:i}})),ss(i)&&(f=i)),f){const e=Qa(o);u=ds({},pS[f],e)}return{adConfig:h,adBreak:u,warnings:a}}(e,t,i);yt(a);const{adFoxParameters:s}=n;if(s){const e=o||sS,t=new nS;return t.adBreaks=[e],new Nw({adConfig:n,whenVmapLoaded:Promise.resolve(t),adBreak:e,adPlacementOptions:r})}if(o){const e=new nS;return e.adBreaks=[o],new Nw({adConfig:n,whenVmapLoaded:Promise.resolve(e),adBreak:e.adBreaks[0],adPlacementOptions:r})}const d=nS.load(n,r),c=new Nw({adConfig:n,whenVmapLoaded:d,adPlacementOptions:r});return d.catch(()=>{c.destroy()}),d.then(()=>c)},vS="_displayController_"+Math.floor(1e3*Math.random());class bS{get displayController(){return hl.warning({name:"GetDisplayControllerInPublicController",message:"AdSDK Warning: get displayController is deprecated, it will NOT be working in next versions"}),hs(this)}set displayController(e){hl.warning({name:"SetDisplayControllerInPublicController",message:"AdSDK Warning: set displayController is deprecated, it will NOT be working in next versions"}),ls(this,e)}constructor(e){us(this,"onClickThrough",void 0),us(this,"onStartError",void 0),us(this,"onPlayStateChanged",void 0),us(this,"onAdSkippableStateChange",void 0),us(this,"onComplete",void 0),us(this,"onFulfilled",void 0),us(this,"onSlotVisible",void 0),us(this,"onBeforeAdStart",void 0),us(this,"onAdStartRejected",void 0),us(this,"onAdStart",void 0),us(this,"onAdEnd",void 0),us(this,"onAdMediaStart",void 0),us(this,"onAdMediaEnd",void 0),us(this,"onAdSkipped",void 0),us(this,"onAdImpression",void 0),us(this,"onAdContentSizeChange",void 0),us(this,"onAdRemainingTimeChange",void 0),us(this,"adStarted",!1),us(this,"paused",!0),ls(this,e),hs(this).onBeforeAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onBeforeAdStart)try{this.onBeforeAdStart(t)}catch(RE){console.error(RE)}}),hs(this).onAdStartRejected.add(()=>{if("function"===typeof this.onAdStartRejected)try{this.onAdStartRejected()}catch(RE){console.error(RE)}}),hs(this).onAdStart.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdStart)try{this.onAdStart(t)}catch(RE){console.error(RE)}}),hs(this).onAdMediaStart.add(e=>{let{adType:t}=e;if(this.adStarted=!0,!this.paused&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(RE){console.error(RE)}if("function"===typeof this.onAdMediaStart)try{this.onAdMediaStart(t)}catch(RE){console.error(RE)}}),hs(this).onAdMediaEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onComplete)try{this.onComplete()}catch(RE){console.error(RE)}if("function"===typeof this.onAdMediaEnd)try{this.onAdMediaEnd(t)}catch(RE){console.error(RE)}if("function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(RE){console.error(RE)}}),hs(this).onAdEnd.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdEnd)try{this.onAdEnd(t)}catch(RE){console.error(RE)}}),hs(this).onClickThrough.add(()=>{if("function"===typeof this.onClickThrough)try{this.onClickThrough()}catch(RE){console.error(RE)}}),hs(this).onAdSkipped.add(e=>{let{adType:t}=e;if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(t)}catch(RE){console.error(RE)}}),hs(this).onAdPodClose.add(()=>{if("function"===typeof this.onAdSkipped)try{this.onAdSkipped(void 0)}catch(RE){console.error(RE)}});const t=()=>{if(this.paused=!1,this.adStarted&&"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!0)}catch(RE){console.error(RE)}};hs(this).onAdPodResume.add(t),hs(this).onAdPodStart.add(t),hs(this).onAdPodPause.add(()=>{if(this.paused=!0,"function"===typeof this.onPlayStateChanged)try{this.onPlayStateChanged(!1)}catch(RE){console.error(RE)}}),hs(this).adSkippableState.add(e=>{if("function"===typeof this.onAdSkippableStateChange)try{this.onAdSkippableStateChange(e)}catch(RE){console.error(RE)}}),hs(this).onAdPodImpression.add(()=>{if("function"===typeof this.onAdImpression)try{this.onAdImpression()}catch(RE){console.error(RE)}}),hs(this).adContentSize.add(()=>{if("function"===typeof this.onAdContentSizeChange)try{this.onAdContentSizeChange()}catch(RE){console.error(RE)}}),hs(this).onCurrentPositionChange.add(()=>{if("function"===typeof this.onAdRemainingTimeChange)try{this.onAdRemainingTimeChange()}catch(RE){console.error(RE)}})}getCurrentContentType(){const e=hs(this);if(void 0!==e&&null!==e)return e.getCurrentContentType()}play(e){void 0===e&&(e=0===hs(this).getVolume());const t=async()=>{hs(this).setMuted(hs(this).autoplayAbility.requireMute||e);try{await hs(this).play()}catch(NE){hl.error({error:new Qd(NE,{code:"PUBLIC_CONTROLLER_PLAY_ERROR"})})}};void 0===hs(this).getCurrentContentType()?hs(this).onAdPodPlayAdMedia.addOne(t):t()}resume(){this.play()}pause(){hs(this).pause()}skip(){hl.event({name:"PublicControllerSkip",probability:Ud,data:{}}),hs(this).skipAllViewers()}clickThrough(){hs(this).clickThrough()}getPaused(){return hs(this).getPaused()}getMuted(){return 0===hs(this).getVolume()}getVolume(){return hs(this).getVolume()}setVolume(e){hs(this).setVolume(e)}getDuration(){return hs(this).getDuration()}getAdWidth(){return hs(this).getAdWidth()}getAdHeight(){return hs(this).getAdHeight()}getCurrentTime(){return hs(this).getCurrentTime()}getAdSkippableState(){return hs(this).adSkippableState.getValue()}getAdContentSize(){return hs(this).adContentSize.getValue()}setStatsRootFields(e){hl.event({name:"UsingSetStatsRootFieldsInPublicController",probability:Ud,data:void 0}),hl.setRootFields(e)}destroy(){hs(this).destroy()}}const yS={width:16,height:9},AS=ra({descriptionText:"",buttonText:"",onButtonClick:r,progress:0});var _S=i(47),wS=i.n(_S);const SS=e=>{let{children:t,onClick:i}=e;return _a(wS.a),xo("div",{className:_S.locals.PackshotButton,onClick:i},xo("div",{className:_S.locals.PackshotButton__content},t))};var ES=i(79),TS=i.n(ES);const CS=e=>{let{width:t,height:i}=e;return _a(TS.a),xo("div",{className:ES.locals.PackshotOverlay,style:{width:t+"px",height:i+"px"}})};var IS=i(24),kS=i.n(IS);const PS=()=>{_a(kS.a);const{width:e,height:t}=zy(),i=function(e){let{width:t}=e;return t<560?13:t<720?14:16}({width:e}),{descriptionText:r,buttonText:n,onButtonClick:o,progress:a}=(()=>ha(AS))();return xo("div",{className:IS.locals.PackshotScreen,style:{width:e+"px",height:t+"px"}},xo("div",{className:IS.locals.PackshotScreen__packshotOverlayWrapper},xo(CS,{width:e,height:t})),xo("div",{className:IS.locals.PackshotScreen__buttonWrapper},xo(SS,{onClick:o},n)),xo("div",{className:IS.locals.PackshotScreen__textBlock,style:{fontSize:i+"px"}},r),xo("div",{className:IS.locals.PackshotScreen__timelineBarWrapper},xo(b_,{adAnimationProgress:a,currentNumber:0,count:1,color:"white"})))},OS=[e=>xo(Wy.Provider,{value:Yy(e.slotElement),children:e.children}),e=>xo(Hy.Provider,{value:jy(e.containerSize),children:e.children}),e=>xo(AS.Provider,{value:fs(e),children:e.children})],DS=1e4;class RS extends rc{constructor(e){super(),this.props=e,ps(this,"runtimeErrorPromise",void 0),ps(this,"firstRenderPromise",void 0),ps(this,"animationProgress",new gh(0)),ps(this,"packshotScreen",void 0);const{duration:t,container:i,containerSize:r,buttonText:n="",descriptionText:o="",onButtonClick:a}=this.props,s=i.ownerDocument.defaultView,d=!he(t),c=new mh;this.runtimeErrorPromise=new Promise((e,t)=>{c.addOne(()=>{t()})});const l=new mh,h=new mh;this.firstRenderPromise=new Promise((e,t)=>{l.addOne(()=>{l.removeAll(),h.removeAll(),e()}),h.addOne(()=>{l.removeAll(),h.removeAll(),t()})});if(this.addDestroyHandler(()=>{l.removeAll(),h.removeAll(),Y("Packshot: destroy packshot"),ia(null,i)}),this.addDestroyHandler(()=>{hl.event({name:"PackshotDestroyed",data:void 0})}),this.packshotScreen=xo(Ey,{onRuntimeError:()=>{c.dispatch(void 0)},onFirstRender:e=>{"success"===e.status?l.dispatch(void 0):h.dispatch(void 0)}},xo(Sy,{components:OS,componentsProps:{containerSize:r,slotElement:i,descriptionText:o,onButtonClick:()=>{a(),hl.event({name:"PackshotButtonClicked",data:void 0})},buttonText:n,animationProgress:this.animationProgress}},xo(PS,null))),ia(this.packshotScreen,i),hl.event({name:"PackshotRendered",data:void 0}),d){const e=new n_(s,e=>{let{time:t}=e;const i=Math.atan(t/DS)/(.5*Math.PI);this.animationProgress.dispatch(i)});this.addDestroyHandler(()=>{e.stop()}),e.start()}else{const e=new a_({win:s,duration:t*_p,callback:e=>{this.animationProgress.dispatch(e)},onFinish:()=>{hl.event({name:"PackshotTimelineFinished",data:void 0})}});this.animationProgress.add(t=>{t>=1&&e.stop()}),this.addDestroyHandler(()=>{e.stop()}),e.start()}}}const NS={multiplier:1,isVertical:!1},MS={width:"",height:"",marginLeft:"",marginTop:""},VS=eh([/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],e=>null!==navigator.userAgent.match(e)),BS=(e,t,i)=>{const n=e.ownerDocument.defaultView.IntersectionObserver;let o=r;const a=new Promise(r=>{const a=new n(e=>{let[{isIntersecting:t,intersectionRatio:i}]=e;(t||i>0)&&(o(),r())},{threshold:i,rootMargin:t+" 0px"});a.observe(e),o=()=>{a.disconnect()}});return{teardown:o,promise:a}},xS=40,LS=/^(\d+\.)?\d+m?s$/,US=/ms$/,FS=/calc\(([^\)]+)\)/,HS=/[-/*()]/;var jS=i(119),zS=i.n(jS);const{locals:WS}=zS.a,{STICKY_ANIMATION_DURATION_STYLE_VALUE:YS}=WS,GS=function e(t){if(FS.test(t)){const[,i]=t.match(FS);if(HS.test(i))throw new TypeError("Can't parse CSS duration string from ["+t+"]");const r=i.split("+").map(e=>e.trim());if(!r.every(e=>LS.test(e)))throw new TypeError("Can't parse CSS duration string from ["+t+"]");return r.reduce((t,i)=>t+e(i),0)}if(!LS.test(t))throw new TypeError("Can't parse CSS duration string from ["+t+"]");const i=parseFloat(t);return US.test(t)?i:i*_p}(YS),qS=GS,KS="200%";let XS=!1;const QS={lock:()=>{XS=!0},unLock:()=>{XS=!1},isLocked:()=>XS},JS=((e,t)=>i=>{let r,n;const o=()=>{e(n),n=NaN},a=function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return o(),n=t(e=>{n=NaN,r=i.call(this,e,...a)}),r};return a.cancel=o,a})(gb,mb),ZS={stickTo:"auto",stickyColorScheme:"dark"},$S=e=>"bottom-right"===e||"top-right"===e||"bottom-left"===e||"top-left"===e;class eE extends rc{constructor(){super(),Es(this,"initialState","Inline"),Es(this,"currentState",this.initialState),Es(this,"nextState",void 0),Es(this,"transitionWays",{Inline:"Detached",Detached:"Sticky",Sticky:"Attached",Attached:"Inline"}),Es(this,"onStateChange",[]),Es(this,"subscribeForStateTransition",(e,t)=>this.subscribeForStateChange(i=>{if(e.previousState===i.previousState&&e.nextState===i.nextState)return t(i)})),this.addDestroyHandler(()=>{this.onStateChange.length=0})}getCurrentState(){return this.currentState}isWithinTransition(){return void 0!==this.nextState}getNextState(){return this.nextState}subscribeForStateChange(e){return this.onStateChange.push(e),()=>{this.onStateChange=jd(this.onStateChange,t=>t!==e)}}isValidTransition(e){return e===this.transitionWays[this.currentState]}async setState(e){if(!this.isValidTransition(e))throw new ReferenceError("StickyFSA: invalid transition from ["+this.currentState+"] to ["+e+"]");const t=this.currentState;this.nextState=e;for(const i of this.onStateChange)await i({previousState:t,nextState:e});this.currentState=e,this.nextState=void 0}}var tE=i(38),iE=i.n(tE);const rE=dv,nE=e=>{let{adWidth:t,adHeight:i,windowWidth:r,description:n,isAdaptiveCreative:o}=e;if(!n)return!1;if(o)return!0;const a=rE*(t/i);return!!he(a)&&a/r<.55},{locals:oE}=iE.a,aE=i(225);class sE extends rc{constructor(e){super(),this.params=e,Ts(this,"setDescription",r),Ts(this,"description",""),Ts(this,"withDisabledAnimation",e=>{this.setAnimationEnabled(!1),e(),function(e){e.offsetLeft}(this.params.stickyWrapper),this.setAnimationEnabled(!0)}),Ts(this,"waitForAnimationEnd",()=>{const e=Eh(GS),t=e=>e.target===this.params.stickyWrapper&&("width"===e.propertyName||"transform"===e.propertyName);let i=r;const n=new Promise(e=>i=Ie(this.params.stickyWrapper,"transitionend",i=>{t(i)&&e()})),o=()=>{e.clear(),i()};return this.addDestroyHandler(o),Promise.race([e.promise,n]).then(o)}),this.render(),this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper,!0),$S(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__variant__flyroll,!0):this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__variant__covering,!0)}updateAdditionalContentVisibility(){const e=this.params.adContentSize.getValue(),t=$S(this.params.stickyConfig.stickTo)||nE({adWidth:(null===e||void 0===e?void 0:e.width)||0,adHeight:(null===e||void 0===e?void 0:e.height)||0,windowWidth:this.params.win.innerWidth,description:this.description,isAdaptiveCreative:!e||void 0===e.width||void 0===e.height});this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__additionalContent_enabled,t)}setAnimatingStateClassName(e){this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__isAnimating,e)}handleClassNames(){let e=!1,t=!1;switch(this.params.stickyFSA.getNextState()||this.params.stickyFSA.getCurrentState()){case"Inline":e=!0,t=!1;break;case"Detached":e=!1,t=!1;break;case"Sticky":e=!1,t=!0;break;case"Attached":e=!0,t=!1;break;default:throw new Error("unhandled state, should never be executed")}this.setAttachStateClassNames(e),this.setStickyStateClassNames(t)}setAnimationEnabled(e){e?this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__unAnimated,!1):this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__unAnimated,!0)}render(){const{stickyWrapper:e}=this.params,t=e.appendChild(this.renderAdditionalContent()),i=e.appendChild(this.renderCross());this.addDestroyHandler(()=>{n(t),n(i)})}renderAdditionalContent(){const e=document.createElement("div");if(this.toggleClassName(e,oE.yaInpageAdditionalContent,!0),$S(this.params.stickyConfig.stickTo)){const t=document.createElement("div");this.toggleClassName(t,oE.yaInpageAdditionalContent__adTitle,!0),t.innerHTML="\u0440\u0435\u043a\u043b\u0430\u043c\u0430",e.appendChild(t)}else{switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleClassName(e,oE.yaInpageAdditionalContent_dark,!0);break;default:r()}e.appendChild(this.renderDescription()),e.appendChild(this.renderActionButton())}const t=document.createElement("div");return this.toggleClassName(t,oE.yaInpageAdditionalContentContainer,!0),t.appendChild(e),t}renderDescription(){var e=this;const t=document.createElement("div");return this.toggleClassName(t,oE.yaInpageAdditionalContent__description,!0),this.addDestroyHandler(Ie(t,"click",this.params.onActionClick)),this.setDescription=function(i){void 0===i&&(i=""),e.description=i,t.innerText=i,e.updateAdditionalContentVisibility()},t}renderActionButton(){const e=document.createElement("div");this.toggleClassName(e,oE.yaInpageAdditionalContent__buttonClickableArea,!0);const t=document.createElement("div");return this.toggleClassName(t,oE.yaInpageAdditionalContent__button,!0),t.appendChild(e),t.innerText="\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",this.addDestroyHandler(Ie(t,"click",this.params.onActionClick)),t}renderCross(){const e=document.createElement("div");return this.toggleClassName(e,oE.yaInpageCross,!0),e.innerHTML=aE,this.addDestroyHandler(Ie(e,"click",this.params.onCrossClick)),e}toggleClassName(e,t,i){const{classList:r}=e;return i?r.add(t):r.remove(t)}toggleStickyWrapperClassName(e,t){return this.toggleClassName(this.params.stickyWrapper,e,t)}setStickyStateClassNames(e){if(this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__inline,!e),this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__sticky,e),$S(this.params.stickyConfig.stickTo)?this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__sticky__flyroll,e):this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__sticky__covering,e),!$S(this.params.stickyConfig.stickTo))switch(this.params.stickyConfig.stickyColorScheme){case"dark":this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__sticky__covering_color_scheme_dark,e);break;case"light":this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__sticky__covering_color_scheme_light,e);break;default:r()}}setAttachStateClassNames(e){this.toggleStickyWrapperClassName(oE.yaInPageStickyWrapper__detached,!e)}}const dE=320,cE=e=>{let{direction:t,offsets:i,getInpageCurrentRect:r,getViewDimensions:n,getStickyDimensions:o,getPlaceholderDimensions:a}=e;const s=i.x*-t.x,d=i.y*-t.y,c=r(),l=c.left,h=c.top,u=n(),f={x:(-1===t.x?0:u.width-c.width)-l+s,y:(-1===t.y?0:u.height-c.height)-h+d},p=o(),m=a(),g={x:p.width/m.width,y:p.height/m.height};return{origin:(1===t.y?"bottom":0===t.y?"center":"top")+" "+(1===t.x?"right":0===t.y?"center":"left"),translation:f,scale:g}},lE={covering:{x:0,y:0},flyroll:{x:32,y:24}};class hE{constructor(e){var t,i,r;this.params=e,r={horizontal:"right",vertical:"bottom"},(i="intrinsicStickPosition")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r,this.actualizeStickPosition(),"auto"===this.params.stickyConfig.stickTo&&this.params.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},()=>this.actualizeStickPosition())}getViewDimensions(){const{clientHeight:e,clientWidth:t}=this.params.win.document.documentElement;return{height:e,width:t}}getStickyDimensions(){const e=this.getViewDimensions().width;return $S(this.params.stickyConfig.stickTo)&&e>=1600?{width:360,height:202}:{width:dE,height:rE}}getPlaceholderDimensions(){const{width:e,height:t}=this.params.getPlaceholderDOMRect();return{width:e,height:t}}fromDOMDimensionsToCSSDimensions(e){return{width:e.width+"px",height:e.height+"px"}}getTransformStyles(){const{intrinsicStickPosition:e}=this,t=$S(this.params.stickyConfig.stickTo)?lE.flyroll:lE.covering,i={x:$S(this.params.stickyConfig.stickTo)?"right"===e.horizontal?1:-1:0,y:"bottom"===e.vertical?1:-1},{origin:r,scale:n,translation:o}=cE({direction:i,offsets:t,getInpageCurrentRect:()=>this.params.getStickyWrapperDOMRect(),getViewDimensions:()=>this.getViewDimensions(),getStickyDimensions:()=>this.getStickyDimensions(),getPlaceholderDimensions:()=>this.getPlaceholderDimensions()});return{transformOrigin:r,transform:"translate("+o.x+"px, "+o.y+"px) scale("+n.x+", "+n.y+")"}}getInlineStateRect(){const e="top"===this.intrinsicStickPosition.vertical?"0":"",t="bottom"===this.intrinsicStickPosition.vertical?"0":"",i="left"===this.intrinsicStickPosition.horizontal?"0":"";return Cs({top:e,right:"right"===this.intrinsicStickPosition.horizontal?"0":"",bottom:t,left:i},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getDetachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getStickyWrapperDOMRect(),{width:o,height:a}=this.getViewDimensions(),s="bottom"===e.vertical?a-n+"px":"";return Cs({top:"top"===e.vertical?r+"px":"",bottom:s,left:"left"===e.horizontal?t+"px":"",right:"right"===e.horizontal?o-i+"px":""},this.fromDOMDimensionsToCSSDimensions(this.getPlaceholderDimensions()))}getStickyStateRect(){const{intrinsicStickPosition:e}=this,t=$S(this.params.stickyConfig.stickTo)?lE.flyroll:lE.covering,i="top"===e.vertical?t.y+"px":"",r="bottom"===e.vertical?t.y+"px":"",n="left"===e.horizontal?t.x+"px":"",o="right"===e.horizontal?t.x+"px":"",a=this.getStickyDimensions();return{top:i,right:o,bottom:r,left:n,width:$S(this.params.stickyConfig.stickTo)?a.width+"px":"100%",height:a.height+"px"}}getAttachedStateRect(){const{intrinsicStickPosition:e}=this,{left:t,right:i,top:r,bottom:n}=this.params.getPlaceholderDOMRect(),{left:o,right:a,top:s,bottom:d,width:c,height:l}=this.params.getStickyWrapperDOMRect();return{top:"top"===e.vertical?s-r+"px":"",bottom:"bottom"===e.vertical?n-d+"px":"",left:"left"===e.horizontal?o-t+"px":"",right:"right"===e.horizontal?i-a+"px":"",width:c+"px",height:l+"px"}}actualizeStickPosition(){const{stickTo:e}=this.params.stickyConfig;if(this.intrinsicStickPosition={vertical:"top-right"===e||"top-left"===e||"top"===e?"top":"bottom",horizontal:"bottom-right"===e||"top-right"===e?"right":"left"},"auto"!==e)return;const t=this.params.getInlineContainerTopCornerPosition()<=0;this.intrinsicStickPosition.vertical=t?"top":"bottom"}}const uE=["position","left","top","bottom","width","height","background","display","zIndex","transform"];class fE{constructor(e){var t,i,r;this.elements=e,r=[],(i="storedStyles")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r}save(){yc(this.elements,e=>{this.storedStyles.push(this.extract(e))})}restore(){yc(this.elements,(e,t)=>{Ce(e,this.storedStyles[t])}),this.storedStyles.length=0}extract(e){return wh(uE,(t,i)=>(t[i]=e.style[i],t),{})}}class pE extends rc{constructor(e){super(),this.params=e,ks(this,"win",void 0),ks(this,"stickyInpageLayout",void 0),ks(this,"stickyFSA",void 0),ks(this,"stickyPositioning",void 0),ks(this,"stylesStore",void 0),ks(this,"stickyConfig",void 0),ks(this,"handleWindowResize",JS(()=>{this.stickyInpageLayout.updateAdditionalContentVisibility()})),ks(this,"setDescription",e=>this.stickyInpageLayout.setDescription(e)),ks(this,"handleFromInlineToDetachTransition",()=>{this.stylesStore.save(),this.stickyInpageLayout.updateAdditionalContentVisibility(),this.stickyInpageLayout.withDisabledAnimation(()=>{Ce(this.params.stickyWrapper,Is({position:"fixed"},this.stickyPositioning.getDetachedStateRect()))}),$S(this.stickyConfig.stickTo)||Ce(this.params.wrapper,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions())),this.stickyInpageLayout.handleClassNames()}),ks(this,"handleFromDetachToStickyTransition",async()=>{$S(this.stickyConfig.stickTo)?Ce(this.params.stickyWrapper,this.stickyPositioning.getTransformStyles()):(Ce(this.params.stickyWrapper,this.stickyPositioning.getStickyStateRect()),Ce(this.params.wrapper,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getStickyDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>{Ce(this.params.stickyWrapper,Is({transform:"",transformOrigin:""},this.stickyPositioning.getStickyStateRect()))}),this.stickyInpageLayout.handleClassNames()}),ks(this,"handleFromStickyToAttachTransition",async()=>{this.stickyInpageLayout.withDisabledAnimation(()=>{Ce(this.params.stickyWrapper,Is({position:"absolute"},this.stickyPositioning.getAttachedStateRect()))}),this.stickyInpageLayout.handleClassNames()}),ks(this,"handleFromAttachToInlineTransition",async()=>{this.stickyInpageLayout.handleClassNames(),$S(this.stickyConfig.stickTo)?(this.stickyInpageLayout.withDisabledAnimation(()=>{Ce(this.params.stickyWrapper,this.stickyPositioning.getInlineStateRect())}),this.stickyInpageLayout.withDisabledAnimation(()=>{Ce(this.params.stickyWrapper,this.stickyPositioning.getTransformStyles())}),Ce(this.params.stickyWrapper,{transform:""})):(Ce(this.params.stickyWrapper,this.stickyPositioning.getInlineStateRect()),Ce(this.params.wrapper,this.stickyPositioning.fromDOMDimensionsToCSSDimensions(this.stickyPositioning.getPlaceholderDimensions()))),this.stickyInpageLayout.setAnimatingStateClassName(!0),await this.stickyInpageLayout.waitForAnimationEnd(),this.stickyInpageLayout.setAnimatingStateClassName(!1),this.stickyInpageLayout.withDisabledAnimation(()=>this.stylesStore.restore())}),this.win=this.params.placeholder.ownerDocument.defaultView,this.stickyFSA=new eE,this.addDestroyHandler(()=>this.stickyFSA.destroy()),this.stickyConfig=Is({},ZS,Pe(this.params.stickyConfig)),this.stickyInpageLayout=new sE({stickyFSA:this.stickyFSA,stickyWrapper:this.params.stickyWrapper,win:this.win,stickyConfig:this.stickyConfig,adContentSize:this.params.adContentSize,onActionClick:this.params.onActionClick,onCrossClick:this.params.onCrossClick}),this.addDestroyHandler(()=>this.stickyInpageLayout.destroy()),this.stickyPositioning=new hE({stickyFSA:this.stickyFSA,getInlineContainerTopCornerPosition:()=>this.params.stickyWrapper.getBoundingClientRect().top,stickyConfig:this.stickyConfig,win:this.win,getPlaceholderDOMRect:()=>this.params.placeholder.getBoundingClientRect(),getStickyWrapperDOMRect:()=>this.params.stickyWrapper.getBoundingClientRect()}),this.stylesStore=new fE([this.params.stickyWrapper,this.params.wrapper]),this.addDestroyHandler(Ie(this.win,"resize",this.handleWindowResize)),this.stickyFSA.subscribeForStateTransition({previousState:"Inline",nextState:"Detached"},this.handleFromInlineToDetachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Detached",nextState:"Sticky"},this.handleFromDetachToStickyTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Sticky",nextState:"Attached"},this.handleFromStickyToAttachTransition),this.stickyFSA.subscribeForStateTransition({previousState:"Attached",nextState:"Inline"},this.handleFromAttachToInlineTransition)}async goSticky(){await this.stickyFSA.setState("Detached"),await this.stickyFSA.setState("Sticky")}async unSticky(){await this.stickyFSA.setState("Attached"),await this.stickyFSA.setState("Inline")}}const mE=(e,t)=>"replayMode"in e?e.replayMode:t.replayMode,gE=e=>{let{win:t,inPageConfig:i,adBreak:r}=e;return!Hp(t)&&("boolean"===typeof i.stick?i.stick:r.stick)};class vE extends rc{constructor(e){super(),this.params=e,Ds(this,"publicController",void 0),Ds(this,"displayController",void 0),Ds(this,"displayControllerOnAdEndPromise",void 0),Ds(this,"adLoader",void 0),Ds(this,"replayMode",null),Ds(this,"stickyInPageController",void 0),Ds(this,"stickyConfig",void 0),Ds(this,"pausedByContainerVisibility",!1),Ds(this,"pausedByDocumentVisibility",!1),Ds(this,"isCurrentlyInStickyState",!1),Ds(this,"documentVisibility",new gh(!1)),Ds(this,"isContainerSizeFixed",void 0),Ds(this,"showAds",async e=>{const{layout:t}=this.params,[i]=e.mediaAds.slice(-1),{vastAd:r}=i,{clickThrough:n,packshotParameters:o}=r,a=null===o||void 0===o?void 0:o.packshotImageUrl;a&&this.replayMode===Yw.manual&&this.displayController.onAdPodThirdQuartile.addOne(()=>{we(a)});try{if(this.displayControllerOnAdEndPromise||await this.initAdForPlaying(e),this.displayController.autoplayAbility.requireUserGesture?(this.displayController.setSkinControlHideReason("play",!0,"INPAGE_RETAINS_CONTROL"),this.displayController.onAdMediaStart.addOne(()=>{this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL")}),Y("inPage: wait for media activation event to play ad"),this.displayController.setMuted(!1),hl.event({name:"InPageWaitingForUserGesture",probability:Ud,data:{autoplayAbility:this.displayController.autoplayAbility}})):(Y("inPage: start to play ad"),this.displayController.play(!0).catch(e=>{hl.error({error:new Qd(e,{code:"InPageOnReadyPlayError"})})}),hl.event({name:"InPageAutoplay",probability:Ud,data:{autoplayAbility:this.displayController.autoplayAbility}})),await this.displayControllerOnAdEndPromise,this.displayControllerOnAdEndPromise=void 0,this.replayMode===Yw.auto)return;if(this.replayMode===Yw.manual){t.setPackshotContainerVisibility(!0),t.setSlotVisibility(!1),Y("inPage: ad played. show packshot"),a?(Ce(t.packshotContainer,{backgroundImage:"url("+a+")"}),hl.event({name:"InPagePackshotBackgroundImage",data:{vastAd:r}})):this.displayController.isLastAdPodRetainedMedia()?(t.videoSlot.muted=!0,t.videoSlot.loop=!0,t.videoSlot.style.objectFit="cover",this.displayController.videoNodeController.play(),hl.event({name:"InPagePackshotBackgroundLoopedVideo",data:{vastAd:r}})):hl.event({name:"InPagePackshotBackgroundEmpty",data:{vastAd:r}});const e=new RS({container:t.packshotContainer,containerSize:t.videoSlotContainerSize,buttonText:_h("LEARN_MORE",this.params.adConfig.lang),descriptionText:r.description,duration:1/0,onButtonClick:()=>window.open(n,"_blank")});this.addDestroyHandler(()=>{e.destroy()})}else Y("inPage: finish playing ad"),this.isCurrentlyInStickyState&&await this.turnOffStickyMode({animated:!0}),this.destroy(void 0)}catch(NE){this.destroy(NE)}}),Ds(this,"handleDocumentVisibilityChange",e=>{this.displayController.getPaused()||e?e&&this.pausedByDocumentVisibility&&(Y("inPage: resume by document visibility"),this.displayController.resume(),this.pausedByDocumentVisibility=!1,hl.event({name:"InPageDocumentVisibilityResume",probability:Ud,data:{}})):(Y("inPage: pause since document is hidden"),this.displayController.pause(),this.pausedByDocumentVisibility=!0,hl.event({name:"InPageDocumentVisibilityPause",probability:Ud,data:{}}))}),Ds(this,"handlePlaceholderVisibilityChange",e=>{this.documentVisibility.getValue()&&(e?this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!1})?(Y("inPage: go into inline since container is visible"),this.changeStickyState({willBeSticky:!1})):!this.isCurrentlyInStickyState&&this.pausedByContainerVisibility&&this.displayController.getPaused()&&(Y("inPage: pause playback since container is visible"),this.pausedByContainerVisibility=!1,this.displayController.resume(),hl.event({name:"InPageElementVisibilityResume",probability:Ud,data:{}})):this.stickyInPageController&&this.canChangeStickyState({willBeSticky:!0})?(Y("inPage: go into sticky since container is hidden"),this.changeStickyState({willBeSticky:!0})):this.isCurrentlyInStickyState||this.pausedByContainerVisibility||this.displayController.getPaused()||(Y("inPage: pause since container is hidden"),this.pausedByContainerVisibility=!0,this.displayController.pause(),hl.event({name:"InPageElementVisibilityPause",probability:Ud,data:{}})))}),Ds(this,"onceWhenCanShowInpage",()=>{if("function"===typeof this.publicController.onSlotVisible)try{this.publicController.onSlotVisible()}catch(RE){console.error(RE)}}),Ds(this,"handleStickyInpageCrossClick",()=>{this.stickyInPageController&&(Y("inPage: handle cross click"),hl.event({name:"InPageStickyCrossClick",probability:Ud,data:{}}),this.turnOffStickyMode({animated:!0}),this.params.layout.placeholderVisibility.getValue()||this.displayController.getPaused()||(this.pausedByContainerVisibility=!0,this.displayController.pause()))}),Ds(this,"makeStickAction",async e=>{try{this.displayController.disableResizeHandling(),await e(),this.displayController.enableResizeHandling()}catch(NE){hl.error({error:new Qd(NE,{code:"InPageOnStickError"})})}}),Y("inPage: run constructor"),this.addDestroyHandler(e=>{Y("inPage: destroy error=["+e+"]")});const{layout:t,adConfig:i,initialContainerRect:r}=e,{shadowRootContainerElement:n,placeholderElement:o,placeholderSize:a,videoSlotContainerSize:s}=t;this.isContainerSizeFixed=r.height>0,Y("inPage: isContainerSizeFixed=["+this.isContainerSizeFixed+"] initialContainerRect=["+JSON.stringify(r)+"]"),this.isContainerSizeFixed?(Ce(o,{height:"100%"}),Ce(n,{height:"100%"})):(Y("inPage: adjust to default ad size"),Ps({placeholderElement:o,placeholderWidth:a.getValue().width,adContentSize:yS}));const d=new ly({config:i,videoNode:t.videoSlot,videoWrapperNode:t.slot,renderSkin:Ew});if(this.displayController=d,this.subscribeDisplayControllerEvents(d),this.isContainerSizeFixed){const{allowedToHideVideoSlotAreaPortion:e}=i;e&&this.addDestroyHandler(Ne([s,d.adContentSize],(t,i)=>(function(e){let{slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:r}=e;if(!i)return NS;if(void 0===i.width&&void 0===i.height)return NS;const{innerSize:n,adjacentSize:o,extraHorizontalSpace:a}=Bn({slotSize:t,videoContentSize:i,videoSlotSize:t}),s=n/(o/(a?t.width:t.height)),d=n/(1-r);return{multiplier:Math.min(s,d)/n,isVertical:a}})({slotSize:t,adContentSize:i,allowedToHideVideoSlotAreaPortion:e}),e=>{const i=s.getValue();Y("InPage: compensate videoEars=["+JSON.stringify(e)+"] slotSize=["+JSON.stringify(i)+"] adContentSize=["+JSON.stringify(d.adContentSize.getValue())+"]");const r=function(e){let{slotSize:{width:t,height:i},videoEarsCompensation:{isVertical:r,multiplier:n}}=e;if(1===n||!t||!i)return;const o=r?t:i,a=r?i:t,s=a*n,d=-1*(a*(n-1))/2;return{width:r?o:s,height:r?s:o,marginLeft:r?0:d,marginTop:r?d:0}}({slotSize:i,videoEarsCompensation:e}),n=r?Oe(r,e=>e+"px"):MS;Ce(t.videoSlot,n)}))}else{const e=e=>{Ps({placeholderElement:o,placeholderWidth:a.getValue().width,adContentSize:e})};e(d.adContentSize.getValue()),this.addDestroyHandler(d.adContentSize.add(e))}this.documentVisibility.add(this.handleDocumentVisibilityChange),this.documentVisibility.dispatch(G(t.containerDocument)),this.addDestroyHandler(ke(t.containerDocument,e=>this.documentVisibility.dispatch(e))),this.displayController.setSkinControlHideReason("play",!1,"INPAGE_RETAINS_CONTROL"),this.publicController=new bS(this.displayController),t.makeVisible(),Y("inPage: call constructor callback"),this.processInPage().catch(e=>this.destroy(e))}async processInPage(){const{adConfig:e,layout:t}=this.params;Y("inPage: wait for loadVmap");const i=await this.loadVmap();this.replayMode=mE(e,i),this.replayMode===Yw.manual&&this.displayController.enableRetainLastMediaAfterPlayback(),gE({win:window,inPageConfig:e,adBreak:i})&&(Y("inPage: initialize sticky"),this.stickyConfig=Os({stickTo:i.stickTo,stickyColorScheme:i.stickyColorScheme},Pe(Va(e))),this.stickyInPageController=new pE({placeholder:t.placeholderElement,stickyWrapper:t.stickyWrapperElement,wrapper:t.wrapperElement,stickyConfig:this.stickyConfig,adContentSize:this.displayController.adContentSize,onActionClick:()=>this.displayController.clickThrough(),onCrossClick:this.handleStickyInpageCrossClick}),this.addDestroyHandler(()=>{this.turnOffStickyMode({animated:!1})}));const r=this.waitForShowing();Y("inPage: wait for loadAd");const n=await this.loadAd(i);bl&&(Y("inPage: wait for warming up"),await Promise.race([this.waitForWarmingUpPosition(),r])),Y("inPage: warm up ad"),await this.warmAdUp(n),Y("inPage: wait till visible"),await r,Y("inPage: visibility reached"),this.onceWhenCanShowInpage();let o=this.showAds(n);this.replayMode===Yw.auto&&this.displayController.onAdEnd.add(async()=>{if(!this.displayController.areAllAdPodsCompleted())return Y("inPage: not all AdPods has been completed, stop auto replay"),void this.destroy(void 0);Y("inPage: all AdPods has been completed"),await o,this.isDestroyed||(Y("inPage: play ad again"),hl.event({name:"InPageReplayAdAutomatically",probability:Ud,data:{}}),o=this.showAds(n))})}subscribeDisplayControllerEvents(e){e.onDestroy.add(e=>this.destroy(e)),e.onAdPodStart.addOne(async()=>{const{placeholderVisibility:e}=this.params.layout;e.add(function(e,t,i,r){function n(){null!==o&&clearTimeout(o),o=null}3===arguments.length&&"boolean"!==typeof i&&(r=i,i=!1);let o=null;const a=function(){const a=arguments;r=r||this,i&&null===o&&e.apply(r,a),n(),o=window.setTimeout((function(){i||e.apply(r,a),o=null}),t)};return a.cancel=n,a}(e=>{Y("handle visual state change ["+e+"]"),this.handlePlaceholderVisibilityChange(e)},qS));const t=e.getValue();Y("handle AdPodStart with visualVisibilityValue=["+t+"] getVisibility=["+this.displayController.slotVisibilitySensor.getVisibility()+"]"),this.handlePlaceholderVisibilityChange(t)}),e.onAdStop.add(()=>{this.displayController.destroy()}),e.onAdMediaStart.add(e=>{let{viewer:t}=e;this.stickyInPageController&&this.stickyInPageController.setDescription(t.mediaAd.vastAd.description)})}async loadVmap(){const{adConfig:e}=this.params,t=Boolean(e.partnerId&&void 0!==e.category);t&&hl.error({error:new Qd({code:"INPAGE_LOAD_VMAP",details:e})}),this.adLoader=await gS(Os({},e,{adBreakType:t?void 0:"inpage"}),void 0,void 0,this.displayController.getAdPlacementOptions()),this.addDestroyHandler(()=>{this.adLoader.destroy()});const i=this.adLoader.getInPageBlock();if(i)return i;throw new Qd({code:"NO_INPAGE_AD_BREAK_IN_VMAP",details:{config:e}})}async waitForShowing(){const{layout:e}=this.params,t=Ss(e.shadowRootContainerElement,e.placeholderElement,fh);this.addDestroyHandler(t.unsubscribe),await t.promise}async loadAd(e){const t=await this.adLoader.load(e);return t.mediaAds.length>1&&hl.event({name:"InPageHasMultipleMediaAds",probability:Ud,data:{mediaAdsCount:t.mediaAds.length}}),t}async initAdForPlaying(e){this.displayControllerOnAdEndPromise=this.displayController.onAdEnd.promise().then(r),await this.displayController.prepareToPlayAd(e)}async waitForWarmingUpPosition(){if(!bl)return;const{promise:e,teardown:t}=BS(this.params.layout.shadowRootContainerElement,KS,0);return this.addDestroyHandler(t),e}async warmAdUp(e){const{layout:t}=this.params;hl.event({name:"InPageWarmUpStart",probability:Ud,data:{relativeCoordinates:ms(t.videoSlot),verticalScroll:T(()=>t.videoSlot.ownerDocument.scrollingElement.scrollTop)}}),await this.initAdForPlaying(e)}turnOffStickyMode(e){let{animated:t=!0}=e;const i=()=>{this.stickyInPageController&&(this.stickyInPageController.destroy(),this.stickyInPageController=void 0,this.stickyConfig=void 0)},r=this.changeStickyState({willBeSticky:!1,animated:t});return ph(r)?r.then(i):i()}canChangeStickyState(e){let{willBeSticky:t}=e;return!!this.stickyInPageController&&(this.isCurrentlyInStickyState!==t&&(!t||!QS.isLocked()))}changeStickyState(e){let{willBeSticky:t,animated:i=!0}=e;const{stickyInPageController:r}=this;if(!r)return;const n=()=>{const e=this.stickyConfig.stickTo;hl.event({name:"InPageChangeStickyState",probability:Ud,data:{willBeSticky:t,stickTo:e}});const n=!t;if(this.displayController.setSkinControlHideReason("timeline",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("abuse",n,"INPAGE_STICKY_RETAINS_CONTROL"),this.displayController.setSkinControlHideReason("adLabel",n,"INPAGE_STICKY_RETAINS_CONTROL"),Y("inPage: change sticky state, willBeSticky=>"+t),t)return QS.lock(),this.isCurrentlyInStickyState=!0,this.displayController.setBlurDisplay(!1),i?r.goSticky():void 0;{const e=()=>{this.displayController.setBlurDisplay(!0)};QS.unLock(),this.isCurrentlyInStickyState=!1;const t=i?r.unSticky():void 0;return t?t.then(e).catch(U):e(),t}};return i?this.makeStickAction(n):n()}}const bE=function(e){void 0===e&&(e=window);try{const t=e.document;return!!Boolean(t.body.attachShadow)&&Jr(function(e,t){try{if(o(e.attachShadow))return e.attachShadow(t);if(o(e.createShadowRoot))return e.createShadowRoot();if(o(e.webkitCreateShadowRoot))return e.webkitCreateShadowRoot()}catch(RE){}return null}(t.createElement("div"),{mode:"open"}))}catch(t){return!1}},yE=function(e){void 0===e&&(e=window);const t=e.navigator.userAgent;return-1!==t.indexOf("Opera Mini")||(-1!==t.indexOf("; wv)")&&-1!==t.indexOf(" OPR/")||-1!==t.indexOf(" OPiOS/"))}();class AE extends rc{constructor(e){super(),this.params=e,Ns(this,"overlapVisibility",new gh(!1)),Ns(this,"recalculateElementOverlap",JS(()=>{if(this.isDestroyed)return;const e=!Rs(this.params.element,this.params.points);this.overlapVisibility.dispatch(e)})),this.startObservingElementOverlap()}startObservingElementOverlap(){this.addDestroyHandler(Nr(this.recalculateElementOverlap));const{promise:e,clear:t}=Eh(0);e.then(this.recalculateElementOverlap).catch(U),this.addDestroyHandler(t)}}const _E=[0,0];class wE extends rc{constructor(e){var t,i,r;super(),r=void 0,(i="visualVisibility")in(t=this)?Object.defineProperty(t,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[i]=r;const n=new eg(e,{considerDocumentVisibility:!1});this.addDestroyHandler(()=>n.destroy());const o=new gh(!1);n.onChangeVisibility(e=>o.dispatch(e));const a=new AE({element:e,points:[_E]});this.addDestroyHandler(()=>a.destroy()),this.visualVisibility=new gh(n.getVisibility()&&a.overlapVisibility.getValue()),Ne([o,a.overlapVisibility],(e,t)=>e&&t,e=>this.visualVisibility.dispatch(e))}}const{locals:SE}=iE.a,EE=e=>{const t=ve(e);return t.setAttribute("x-webkit-airplay","allow"),t.autoplay=!1,t.volume=Qv,t.muted=!0,t.preload="auto",t.setAttribute("width","100%"),t.setAttribute("height","100%"),t.classList.add(SE.InPageLayout__videoSlot),function(e){e.setAttribute("playsinline","playsinline"),e.setAttribute("webkit-playsinline","webkit-playsinline")}(t),t};class TE extends rc{constructor(e){super(),this.shadowRootContainerElement=e,Ms(this,"containerWindow",void 0),Ms(this,"containerDocument",void 0),Ms(this,"placeholderElement",void 0),Ms(this,"placeholderVisibility",void 0),Ms(this,"placeholderSize",void 0),Ms(this,"videoSlotContainerSize",void 0),Ms(this,"wrapperElement",void 0),Ms(this,"stickyWrapperElement",void 0),Ms(this,"videoSlotContainer",void 0),Ms(this,"slot",void 0),Ms(this,"packshotContainer",void 0),Ms(this,"videoSlot",void 0),this.containerWindow=T(()=>e.ownerDocument.defaultView,e=>{hl.error({error:new Qd(e,{code:"CANNOT_GET_INPAGE_LAYOUT_PLACEHOLDER_ELEMENT_WINDOW",details:void 0})})})||window,this.containerDocument=this.containerWindow.document;const t=this.containerDocument.createElement("div");t.className=SE.yaInPagePlaceholderElement,this.placeholderElement=t;const i=this.containerDocument.createElement("div");bf(i,{width:"100%",height:"100%"}),this.stickyWrapperElement=i,this.placeholderElement.appendChild(this.stickyWrapperElement);const r=this.containerDocument.createElement("div");r.classList.add(SE.yaInPageWrapper),this.wrapperElement=r,this.stickyWrapperElement.appendChild(this.wrapperElement),this.videoSlotContainer=this.containerDocument.createElement("div"),this.videoSlotContainer.classList.add(SE.InPageLayout__videoSlotContainer),this.wrapperElement.appendChild(this.videoSlotContainer),this.slot=this.containerDocument.createElement("div"),this.slot.classList.add(SE.InPageLayout__slot),this.wrapperElement.appendChild(this.slot),this.packshotContainer=this.containerDocument.createElement("div"),this.packshotContainer.classList.add(SE.InPageLayout__packshotContainer),this.wrapperElement.appendChild(this.packshotContainer),this.videoSlot=EE(this.containerDocument),this.videoSlotContainer.appendChild(this.videoSlot),this.shadowRootContainerElement.appendChild(this.placeholderElement);const o=Ao(this.shadowRootContainerElement,iE.a.toString());this.addDestroyHandler(()=>{n(o)});const a=new wE(t);this.placeholderVisibility=a.visualVisibility,this.addDestroyHandler(()=>a.destroy());const s=new uv(t);this.placeholderSize=s.onResize,this.addDestroyHandler(()=>s.destroy());const d=new uv(this.videoSlotContainer);this.videoSlotContainerSize=d.onResize,this.addDestroyHandler(()=>d.destroy())}makeVisible(){bf(this.placeholderElement,{visibility:"visible"})}setPackshotContainerVisibility(e){bf(this.packshotContainer,{display:e?"block":"none"})}setSlotVisibility(e){bf(this.slot,{display:e?"block":"none"})}}const CE=e=>"undefined"===e,IE=e=>{let{containerElementOrId:t,insertAfter:i,insertPosition:r,win:n=window}=e;const o=T(()=>n.document.querySelectorAll(""+i)),a={insertAfter:null,insertInto:null,win:n};if(!o||0===o.length||!S(i)||!i||CE(i))return a.insertInto=function(e,t){return void 0===t&&(t=window),"string"===typeof e?t.document.getElementById(e):e}(t,n),a;const s=r||0;if(!le(parseInt(""+s,10))&&!/^\d+%$/.test(""+s)&&!/^\d+$/.test(""+s))throw new Qd({code:"INPAGE_CONTAINER_CONFIG_VALIDATION_ERROR",details:{containerElementOrId:String(t),insertPosition:r,insertAfter:i}});const d=o.length;if(0===d)return a;const c=o[((e,t)=>{let i=S(e)?parseInt(e,10):e;if(S(e)&&-1!==e.indexOf("%")){const e=i/100;i=Math.round(e*(t-1))}else he(i)&&(i-=1);return i=$r(i,0,t-1)})(s,d)];return a.insertAfter=c,a},kE=e=>{let{insertAfter:t,insertInto:i}=e;return null!==t&&void 0!==t?t:i},PE=o(window.WeakSet)?new window.WeakSet:[],OE={place(e){const t=kE(e);return Td(PE)?PE.push(t):PE.add(t)},free(e){const t=kE(e);return Td(PE)?PE.splice(PE.indexOf(t),1):PE.delete(t)},isFree(e){const t=kE(e);return Td(PE)?-1===PE.indexOf(t):!1===PE.has(t)}},DE=(e,t)=>{Y("inPage: normalizeInPageConfig");const i=(e=>{if(!d(e))throw new Qd({code:"NO_AD_CONFIG_IN_INPAGE",details:void 0});const t=pn(dt(e),{controlsVisibility:{skip:!1}});let i=e.vastUrl;e.vastUrl&&ye(e.vastUrl)&&(i=R(e.vastUrl,{tags:"inpage"}));const{allowedToHideVideoSlotAreaPortion:r}=e;if(void 0!==r&&(!ft(r)||r>=1))throw new Qd({code:"INVALID_ALLOWED_TO_HIDE_VIDEO_SLOT_AREA_PORTION_PARAMETER",details:{value:r}});return Vs({},e,{controlsSettings:t,vastUrl:i,backgroundBlur:!0,videoTimeout:1e4,vpaidTimeout:1e4,allowedToHideVideoSlotAreaPortion:null!==r&&void 0!==r?r:0})})(t),{insertPosition:r,insertAfter:n}=i;CE(n)&&hl.event({name:"InPageInsertAfterIsSerializedUndefined",data:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}}),Y("inPage: prepareGetOrCreateContainerElementParams");const o=IE({insertPosition:r,insertAfter:n,containerElementOrId:e});if(!(e=>Boolean(e.insertAfter||e.insertInto))(o))throw new Qd({code:"CANNOT_FIND_INPAGE_CONTAINER_ELEMENT",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});if(!OE.isFree(o))throw new Qd({code:"INPAGE_CONTAINER_USED_TWICE",details:{containerElementOrId:String(e),insertPosition:r,insertAfter:n}});OE.place(o);const a=(e=>{let{insertAfter:t,insertInto:i,win:r=window}=e;if(void 0===t||null===t)return i;const n=r.document.createElement("div");return t.parentNode.insertBefore(n,t.nextSibling)})(o),s=a.getBoundingClientRect();if(0===s.width)throw new Qd({code:"INPAGE_CONTAINER_ZERO_WIDTH",details:{containerElementOrId:String(e),insertAfter:n,insertPosition:r,containerRect:s}});const c=a.ownerDocument.defaultView,l=ao(a);bE(c)&&!l&&hl.error({error:new Qd({code:"INPAGE_CONTAINER_ELEMENT_NOT_SUPPORTS_SHADOW",details:{containerElementOrId:String(e),containerHTML:T(()=>a.outerHTML)}})});const h=l||a;Y("inPage: create InPageLayout");const u=new TE(h);return u.addDestroyHandler(()=>{OE.free(o)}),{layout:u,adConfig:i,initialContainerRect:s,containerElementByParams:a}};!function(e,t){Ui({videoAd:{loadedModules:{[e]:t},modules:{[hc]:{[e]:t}}}},"ya")}("InPage",{addInPageVideo:(e,t,i)=>{Y("inPage: add inpage video");const o="function"===typeof i?ce(i,"INPAGE_CALLBACK_ERROR"):r;let a;try{a=DE(e,t)}catch(NE){return Y("inPage: prepareInPageParameters error=["+NE+"]"),Te(NE),void o(NE)}hl.event({name:"AddInPageVideo",probability:Ud,data:{adConfig:t,containerElementOrId:String(e),containerRect:a.initialContainerRect}});try{const e=new vE(a);Y("inPage: call public callback"),o(e.publicController),e.addDestroyHandler(e=>{n(a.containerElementByParams),a.layout.destroy(),e&&(Te(e),o(e))})}catch(NE){Y("inPage: create InPage error=["+NE+"]"),hl.error({error:new Qd(NE,{code:"CREATE_INTERNAL_INPAGE_INSTANCE_ERROR",details:void 0})}),o(NE)}}})}]);