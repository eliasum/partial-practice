При отладке когда точки останова на каждой строке кода для аргумента 1 сообщение Called with ${x} выходит более 10 раз. Почему так?
Ваше наблюдение очень интересно и может быть связано с несколькими факторами. Давайте разберемся подробнее:
1.
Неожиданное поведение отладчика:
Иногда отладчики в браузерах могут вести себя неожиданно, особенно при работе с функциями-обертками и декораторами. Отладчик может многократно вызывать функцию при проходе через точки останова, что приводит к многократному выполнению кода.
2.
Особенности работы с alert в отладчике:
Использование alert в сочетании с точками останова может привести к неожиданному поведению. Каждый раз, когда вы нажимаете "продолжить" в отладчике после alert, функция может вызываться заново.
3.
Асинхронное выполнение:
Если в вашем коде есть асинхронные операции (например, таймеры или обработчики событий), они могут вызывать функцию slow несколько раз, даже если в синхронном коде она вызывается только один раз.
4.
Неявные вызовы:
В некоторых средах разработки или фреймворках могут происходить неявные вызовы функций для проверки их состояния или других целей отладки.
5.
Оптимизации JavaScript-движка:
Современные JavaScript-движки могут выполнять различные оптимизации, которые могут привести к неожиданному поведению при отладке.
Чтобы лучше понять, что происходит, я предлагаю следующие шаги:
1.
Замените alert на console.log. Это позволит избежать проблем, связанных с взаимодействием alert и отладчика:
function slow(x) {
    console.log(`Called with ${x}`);
    return x;
}
Apply
2.
Добавьте счетчик вызовов:
let callCount = 0;
function slow(x) {
    callCount++;
    console.log(`Called with ${x} (call number: ${callCount})`);
    return x;
}
Apply
3.
Используйте отладочные точки останова (breakpoints) вместо обычных. В большинстве отладчиков можно установить точку останова, которая не останавливает выполнение, а только логирует информацию.
4.
Проверьте, нет ли в вашем коде циклов или рекурсивных вызовов, которые могут вызывать функцию многократно.
5.
Убедитесь, что вы не вызываете slow неявно где-то еще в коде.
После внесения этих изменений, запустите код снова и посмотрите на вывод в консоли. Это должно дать вам более четкое представление о том, сколько раз и в каком порядке вызывается функция slow.
Если проблема сохраняется, возможно, стоит проверить настройки вашего отладчика или попробовать другой браузер или среду разработки для сравнения результатов.